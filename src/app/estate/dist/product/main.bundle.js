(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{107:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isEmpty=function(e){return null==e||void 0==e||"[]"==JSON.stringify(e)||"{}"==JSON.stringify(e)}}},1138:function(e,t,n){var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\index.web.js";n(1137);var r=u(n(1)),i=n(40),o=n(48),l=u(n(842));function u(e){return e&&e.__esModule?e:{default:e}}(0,i.render)(r.default.createElement(o.TopView,{__source:{fileName:a,lineNumber:6}},r.default.createElement(l.default,{__source:{fileName:a,lineNumber:6}})),document.getElementById("root"))},118:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.SearchHistory={SEARCH_TYPE_GLOBAL:"SEARCH_TYPE_GLOBAL",SEARCH_TYPE_QUALITY:"SEARCH_TYPE_QUALITY",SEARCH_TYPE_EQUIPMENT:"SEARCH_TYPE_EQUIPMENT",SEARCH_TYPE_BIM:"SEARCH_TYPE_BIM",loadSearchHistory:function(e){var t=storage.loadSearchHistory(e),n=[];return t&&t.length>0&&(n=t.split(",")),n},saveHistory:function(e,t){var n=storage.loadSearchHistory(t),a=[];n&&n.length>0&&(a=n.split(","));var r=a.findIndex(function(t){return e===t});r>=0&&a.splice(r,1),a.unshift(e),a.length>20&&a.pop();var i=a.join(",");return storage.setSearchHistory(t,i),a}}},143:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateData=function(){return{type:a.UPDATE_DATA_UPDATE}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(422))},164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchItem=t.Item=void 0;var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\new\\GLDListRow.web.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=m(i),l=m(n(2)),u=m(n(6)),s=m(n(7)),c=m(n(3)),f=m(n(8)),d=m(n(0)),p=n(16);function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=n(100),b=t.Item=function(e){function t(e){g(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDetailView=function(e){return"string"==typeof e&&(e=o.default.createElement(u.default,{style:w.itemDetail,__source:{fileName:a,lineNumber:35}},e)),e},n.state={},n}return _(t,i.Component),r(t,[{key:"render",value:function(){var e=this;return this.props.detailTouchable?o.default.createElement(f.default,{onPress:function(t){t.preventDefault(),e.props.onPress(t)},style:{display:"block"},__source:{fileName:a,lineNumber:43}},o.default.createElement(l.default,{style:w.itemContainer,__source:{fileName:a,lineNumber:44}},o.default.createElement(u.default,{style:w.itemTitle,__source:{fileName:a,lineNumber:45}},this.props.title),this.getDetailView(this.props.detail),o.default.createElement(s.default,{source:y,style:w.rightArrow,__source:{fileName:a,lineNumber:49}})),N(this.props.bottomSeparator)):o.default.createElement(l.default,{onPress:this.props.onPress,style:{display:"block"},__source:{fileName:a,lineNumber:57}},o.default.createElement(l.default,{style:w.itemContainer,__source:{fileName:a,lineNumber:58}},o.default.createElement(f.default,{onPress:function(t){t.preventDefault(),e.props.onPress(t)},__source:{fileName:a,lineNumber:59}},o.default.createElement(u.default,{style:w.itemTitle,__source:{fileName:a,lineNumber:60}},this.props.title)),this.getDetailView(this.props.detail),o.default.createElement(f.default,{onPress:function(t){t.preventDefault(),e.props.onPress},__source:{fileName:a,lineNumber:65}},o.default.createElement(s.default,{source:y,style:w.rightArrow,__source:{fileName:a,lineNumber:66}}))),N(this.props.bottomSeparator))}}]),t}();b.propTypes={title:d.default.string.isRequired,detail:d.default.oneOfType([d.default.element,d.default.string]),onPress:d.default.func,bottomSeparator:d.default.oneOfType([d.default.element,d.default.oneOf(["none","full","indent"])]),detailTouchable:d.default.bool},b.defaultProps={bottomSeparator:"none",detailTouchable:!0};var v=t.SwitchItem=function(e){function t(e){g(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return _(t,i.Component),r(t,[{key:"render",value:function(){var e=this;return o.default.createElement(l.default,{style:{display:"block"},__source:{fileName:a,lineNumber:95}},o.default.createElement(l.default,{style:w.itemContainer,__source:{fileName:a,lineNumber:96}},o.default.createElement(u.default,{style:w.itemTitle,__source:{fileName:a,lineNumber:97}},this.props.title),o.default.createElement(p.BimSwitch,{value:this.props.switchValue,onValueChange:function(t){e.props.onValueChange(t)},__source:{fileName:a,lineNumber:98}})),N(this.props.bottomSeparator))}}]),t}();function N(e){var t=null;switch(e){case"none":t=null;break;case"full":t=o.default.createElement(l.default,{style:w.separatorStyle,__source:{fileName:a,lineNumber:114}});break;case"indent":t=o.default.createElement(l.default,{style:w.indentViewStyle,__source:{fileName:a,lineNumber:118}},o.default.createElement(l.default,{style:w.separatorStyle,__source:{fileName:a,lineNumber:119}}))}return t}v.propTypes={title:d.default.string.isRequired,onValueChange:d.default.func.isRequired,switchValue:d.default.bool,bottomSeparator:d.default.oneOfType([d.default.element,d.default.oneOf(["none","full","indent"])])},v.defaultProps={bottomSeparator:"none"};var E=function(e){function t(e){g(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return _(t,i.Component),r(t,[{key:"render",value:function(){return o.default.createElement(l.default,{style:w.listRowContainer,__source:{fileName:a,lineNumber:137}},this.props.children)}}]),t}();E.Item=b,E.SwitchItem=v,t.default=E;var w=c.default.create({listRowContainer:{},itemContainer:{height:57,flex:1,flexDirection:"row",backgroundColor:"#ffffff",alignItems:"center",paddingLeft:20,paddingRight:20},itemTitle:{color:"#000000",fontSize:16,flex:1},itemDetail:{color:"#000000",fontSize:16,marginRight:5},rightArrow:{width:17,height:17,resizeMode:"contain"},separatorStyle:{backgroundColor:"#f7f7f7",width:"100%",height:1},indentViewStyle:{paddingLeft:20,backgroundColor:"#ffffff"}})},165:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\WideButton.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=d(i),l=(d(n(2)),d(n(6))),u=d(n(136)),s=d(n(3)),c=d(n(9)),f=d(n(0));function d(e){return e&&e.__esModule?e:{default:e}}var p=c.default.get("window"),m=(p.width,p.height,"gray"),g="white",h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getUnderLayColor=function(){return n.props.type&&n.props.type===m?"#cbcbcb":n.props.type&&n.props.type===g?"#ffffff":"#0099f3"},n.getTouchableStyle=function(){var e=[n.props.type&&n.props.type===m?n.state.pressed?_.grayViewPressed:_.grayViewNormal:n.props.type&&n.props.type===g?n.state.pressed?_.whiteViewPressed:_.whiteViewNormal:n.state.pressed?_.lightViewPressed:_.lightViewNormal];return n.props.style&&e.push(n.props.style),e},n.getTextStyle=function(){return n.props.type&&n.props.type===m?_.grayViewText:n.props.type&&n.props.type===g?_.whiteViewText:_.lightViewText},n.state={underlayColor:n.getUnderLayColor()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this;return o.default.createElement(u.default,{onPress:function(){e.props.onClick?e.props.onClick():console.log("require onClick prop")},underlayColor:this.state.underlayColor,activeOpacity:1,style:this.getTouchableStyle(),onHideUnderlay:function(){e.setState({pressed:!1})},onShowUnderlay:function(){e.setState({pressed:!0})},__source:{fileName:a,lineNumber:71}},o.default.createElement(l.default,{style:this.getTextStyle(),__source:{fileName:a,lineNumber:79}},this.props.text," "))}}]),t}();h.propTypes={text:f.default.string.isRequired,onClick:f.default.func.isRequired,type:f.default.string};var _=s.default.create({lightViewNormal:{overflow:"hidden",height:40,backgroundColor:"#00baf3",borderRadius:38,marginLeft:38,marginRight:38,elevation:1.5,shadowColor:"#00baf3",shadowOffset:{width:1.5,height:5},shadowOpacity:.15,shadowRadius:3},lightViewPressed:{overflow:"hidden",height:40,backgroundColor:"#33baf3",borderRadius:20,marginLeft:38,marginRight:38,elevation:1.5,shadowColor:"#00baf3",shadowOffset:{width:1.5,height:5},shadowOpacity:.15,shadowRadius:3},lightViewText:{overflow:"hidden",height:20,marginTop:10,marginLeft:38,marginRight:38,borderRadius:20,alignItems:"center",textAlign:"center",fontSize:16,color:"#fff"},grayViewNormal:{overflow:"hidden",height:40,backgroundColor:"#cbcbcb",borderRadius:38,marginLeft:38,marginRight:38},grayViewPressed:{overflow:"hidden",height:40,backgroundColor:"#cbcbcb",borderRadius:20,marginLeft:38,marginRight:38},grayViewText:{overflow:"hidden",height:20,marginTop:10,marginLeft:38,marginRight:38,borderRadius:20,alignItems:"center",textAlign:"center",fontSize:16,color:"#5b5b5b"},whiteViewNormal:{overflow:"hidden",height:40,backgroundColor:"#ffffff",borderRadius:38,marginLeft:38,marginRight:38,elevation:1.5,shadowColor:"#333",shadowOffset:{width:1.5,height:5},shadowOpacity:.15,shadowRadius:3},whiteViewPressed:{overflow:"hidden",height:40,backgroundColor:"#ffffff",borderRadius:20,marginLeft:38,marginRight:38,elevation:1.5,shadowColor:"#333",shadowOffset:{width:1.5,height:5},shadowOpacity:.15,shadowRadius:3},whiteViewText:{overflow:"hidden",height:20,marginTop:10,marginLeft:38,marginRight:38,borderRadius:20,alignItems:"center",textAlign:"center",fontSize:16,color:"#000000"}});t.default=h},166:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isQualityCreate=function(){return Quality_Check_Bean={actionRights:storage.loadAuthority(r.Quality_Check)},!!(null!=Quality_Check_Bean&&null!=Quality_Check_Bean.actionRights&&Quality_Check_Bean.actionRights.size()>0&&i(Quality_Check_Bean.actionRights))},t.isQualityCheckSubmit=function(){return Quality_Check_Bean={actionRights:storage.loadAuthority(r.Quality_Check)},!!(null!=Quality_Check_Bean&&null!=Quality_Check_Bean.actionRights&&Quality_Check_Bean.actionRights.size()>0&&(Quality_Check_Bean.actionRights.contains(r.ModifyUnit)||Quality_Check_Bean.actionRights.contains(r.ModifyAll)))},t.isQualityCheckDelete=function(){return Quality_Check_Bean={actionRights:storage.loadAuthority(r.Quality_Check)},!!(null!=Quality_Check_Bean&&null!=Quality_Check_Bean.actionRights&&Quality_Check_Bean.actionRights.size()>0&&(Quality_Check_Bean.actionRights.contains(r.DeleteUnit)||Quality_Check_Bean.actionRights.contains(r.DeleteAll)))},t.isCreateRectify=function(){return Quality_Rectification_Bean={actionRights:storage.loadAuthority(r.Quality_Rectification)},!!(null!=Quality_Rectification_Bean&&null!=Quality_Rectification_Bean.actionRights&&Quality_Rectification_Bean.actionRights.size()>0&&Quality_Rectification_Bean.actionRights.contains(r.ModifyGrant))},t.isCreateReview=function(){return Quality_Risk_Bean={actionRights:storage.loadAuthority(r.Quality_Risk)},!!(null!=Quality_Risk_Bean&&null!=Quality_Risk_Bean.actionRights&&Quality_Risk_Bean.actionRights.size()>0&&(Quality_Risk_Bean.actionRights.contains(r.ModifyUnit)||Quality_Risk_Bean.actionRights.contains(r.ModifyAll)))},t.isQualityBrowser=function(){return Quality_Rectification_Bean={actionRights:storage.loadAuthority(r.Quality_Rectification)},null!=Quality_Rectification_Bean&&null!=Quality_Rectification_Bean.actionRights&&Quality_Rectification_Bean.actionRights.size()>0&&(Quality_Rectification_Bean.actionRights.contains(r.BrowseAll)||Quality_Rectification_Bean.actionRights.contains(r.BrowseSelf)||Quality_Rectification_Bean.actionRights.contains(r.BrowseGrant)||Quality_Rectification_Bean.actionRights.contains(r.BrowseUnit))},t.isMe=function(e){return storage.loadTenant()==e},t.isEquipmentCreate=function(){return Quality_Facility_Bean={actionRights:storage.loadAuthority(r.Quality_Facility)},!!(null!=Quality_Facility_Bean&&null!=Quality_Facility_Bean.actionRights&&Quality_Facility_Bean.actionRights.size()>0&&i(Quality_Facility_Bean.actionRights))},t.isEquipmentDelete=function(){return Quality_Facility_Bean={actionRights:storage.loadAuthority(r.Quality_Facility)},null!=Quality_Facility_Bean&&null!=Quality_Facility_Bean.actionRights&&Quality_Facility_Bean.actionRights.size()>0&&(Quality_Facility_Bean.actionRights.contains(r.DeleteUnit)||Quality_Facility_Bean.actionRights.contains(r.DeleteAll))},t.isEquipmentModify=function(){return Quality_Facility_Bean={actionRights:storage.loadAuthority(r.Quality_Facility)},null!=Quality_Facility_Bean&&null!=Quality_Facility_Bean.actionRights&&Quality_Facility_Bean.actionRights.size()>0&&(Quality_Facility_Bean.actionRights.contains(r.ModifyAll)||Quality_Facility_Bean.actionRights.contains(r.ModifyUnit)||Quality_Facility_Bean.actionRights.contains(r.ModifySelf))},t.isEquipmentBrowser=function(){return Quality_Facility_Bean={actionRights:storage.loadAuthority(r.Quality_Facility)},null!=Quality_Facility_Bean&&null!=Quality_Facility_Bean.actionRights&&Quality_Facility_Bean.actionRights.size()>0&&(Quality_Facility_Bean.actionRights.contains(r.BrowseAll)||Quality_Facility_Bean.actionRights.contains(r.BrowseSelf)||Quality_Facility_Bean.actionRights.contains(r.BrowseUnit))},t.loadAuthoritys=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",a=[r.Quality_Check,r.Quality_Risk,r.Quality_Facility,r.Quality_Rectification,r.Estate_Model_Document,r.Estate_Model_Drawing,r.Estate_Document],i=a.length,l=!1;a.map(function(a){o(e,a,function(e){i--,l||(e||(l=e,t(!1)),i>0||t(!0))},n)})},t.getAuthority=o;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(714));function i(e){return!!e.contains(r.ModifyAll)||!!e.contains(r.ModifyUnit)}function o(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0";a.default.getAppModelRights(r.appCode,t,e,i).then(function(e){storage.setActionRights(t,e.data.actionRights),n(!0)}).catch(function(e){n(!1)})}},194:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(64));t.search=function(e){return function(t){s(),u(o.SearchHistory.SEARCH_TYPE_GLOBAL,e,t),t(c()),r.default.searchQualityData(storage.loadProject(),e,0,3).then(function(n){var r=n.data,o=r.content,l=r.totalElements;t(function(e,t,n){return{type:i.SEARCH_QUALITY_DONE,qualityList:e,totalQuality:t,keywords:n}}(o,l,e)),a.default.hide()}).catch(function(e){a.default.hide()}),r.default.searchEquipmentData(storage.loadProject(),e,0,3).then(function(n){a.default.hide();var r=n.data,o=r.content,l=r.totalElements;t(function(e,t,n){return{type:i.SEARCH_EQUIPMENT_DONE,equipmentList:e,totalEquipment:t,keywords:n}}(o,l,e))}).catch(function(e){a.default.hide()})}},t.loadHistory=function(e){return function(t){t(f(o.SearchHistory.loadSearchHistory(e)))}},t.searchBimFile=function(e,t,n){return function(l){s(),u(o.SearchHistory.SEARCH_TYPE_BIM,e,l),r.default.searchModuleBlueprint(storage.loadProject(),storage.projectIdVersionId,e,t,n).then(function(e){var t=e.data,n=[];t&&"success"===t.message&&(n=t.data).map(function(e){e.name=function(e){var t=new RegExp(/<span class='highlight-search'>/g),n=new RegExp(/<\/span>/g);return e.replace(t,"").replace(n,"")}(e.name)}),l(function(e){return{type:i.SEARCH_BIMFILE_DONE,bimFiles:e}}(n)),a.default.hide()}).catch(function(e){console.log(e)})}},t.searchStart=c,t.searchError=function(){return{type:i.SEARCH_QUALITY_START}},t.searchBimFileReset=function(e){return{type:i.SEARCH_BIMFILE_RESET}},n(63);var r=l(n(10)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(208)),o=n(118);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){t&&0!=t.length&&n(f(o.SearchHistory.saveHistory(t,e)))}function s(){a.default.loading("加载中...",0,null,!0)}function c(){return{type:i.SEARCH_QUALITY_START}}function f(e){return{type:i.LOAD_SEARCH_HISTORY,searchHistory:e}}},195:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=_(n(546)),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\search\\BaseSearchPage.web.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(542);var l=_(n(1)),u=_(n(3)),s=_(n(6)),c=_(n(2)),f=_(n(12)),d=_(n(27)),p=_(n(9)),m=(_(n(7)),_(n(67)),_(n(8))),g=(_(n(174)),_(n(19))),h=(_(n(10)),_(n(539)));function _(e){return e&&e.__esModule?e:{default:e}}var y=p.default.get("window"),b=y.width,v=(y.height,o({},h.default,{wrapper:o({},h.default.wrapper,{backgroundColor:"#00baf3",elevation:0}),cancelText:o({},h.default.cancelText,{color:"#ffffff"})})),N=null,E=null,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderFunc=null,n.searchFunc=null,n.placeholder="搜索",n.renderHeaderTitle=function(){return l.default.createElement(c.default,{style:{flex:1,height:"100%",alignItems:"center",justifyContent:"center"},__source:{fileName:r,lineNumber:95}},l.default.createElement(c.default,{style:{width:b-15,marginTop:10},__source:{fileName:r,lineNumber:96}},l.default.createElement(a.default,{ref:function(e){N=e},value:n.state.inputValue,styles:u.default.create(v),style:{backgroundColor:"#00baf3"},placeholder:n.placeholder,showCancelButton:!0,returnKeyType:"search",defaultValue:E,onSubmit:n.onSearch,onBlur:n.onBlur,onFocus:n.onFocus,onCancel:n.onCancel,onChange:n.onChange,__source:{fileName:r,lineNumber:97}})))},n.onChange=function(e){E=e&&0!=e.length?e:null,n.setState({inputValue:e},function(){n.props.navigation.setParams({renderHeaderTitle:n.renderHeaderTitle})})},n.onSearch=function(){E&&0!=E.length&&(n.setState({showHistory:!1,showContent:!0}),n.searchFunc&&n.searchFunc(E))},n.onFocus=function(){n.setState({showHistory:!0,showContent:!1})},n.onCancel=function(){storage.goBack(n.props.navigation,null)},n.searchHistory=function(e){n.onChange(e),N&&N.inputRef&&N.inputRef.blur(),n.onSearch(e)},n.renderSearchHistory=function(){return n.props.searchHistory&&n.props.searchHistory.length>0?l.default.createElement(g.default,{__source:{fileName:r,lineNumber:177}},l.default.createElement(c.default,{__source:{fileName:r,lineNumber:178}},n.props.searchHistory.map(function(e,t){return l.default.createElement(m.default,{key:"history"+t,style:{height:52,justifyContent:"center",borderBottomColor:"#e6e6e6",borderBottomWidth:.5},onPress:function(t){t.preventDefault(),n.searchHistory(e)},__source:{fileName:r,lineNumber:182}},l.default.createElement(s.default,{style:{fontSize:16,marginLeft:20,color:"#000000"},__source:{fileName:r,lineNumber:185}},e))}))):null},n.renderSearchContent=function(){return n.renderFunc?n.renderFunc():null};var i=!0,o=n.props.navigation.state;return o&&o.params&&o.params.keywords&&o.params.keywords.length>0&&(E=o.params.keywords,i=!1),n.state={showHistory:i,showContent:!i,inputValue:E},n.props.loadHistory(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){this.onSearch(E);var e=document.getElementsByClassName("am-search-cancel"),t=Array.isArray(e),n=0;for(e=t?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var a;if(t){if(n>=e.length)break;a=e[n++]}else{if((n=e.next()).done)break;a=n.value}a.style.color="#ffffff"}}},{key:"componentWillUnmount",value:function(){N=null,E=null}},{key:"setFunc",value:function(e,t,n){this.renderFunc=e,this.searchFunc=t,n&&(this.placeholder=n),this.props.navigation.setParams({renderHeaderTitle:this.renderHeaderTitle})}},{key:"render",value:function(){return l.default.createElement(d.default,{style:[I.container,{backgroundColor:"#ecf0f1"}],__source:{fileName:r,lineNumber:206}},l.default.createElement(f.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:207}}),this.state.showHistory?this.renderSearchHistory():null,this.state.showContent?this.renderSearchContent():null)}}]),t}();w.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{headerStyle:{marginLeft:-100,marginRight:-100,backgroundColor:"#00baf3"},headerLeft:null,headerRight:null,headerTitle:t.state.params&&t.state.params.renderHeaderTitle?t.state.params.renderHeaderTitle():l.default.createElement(c.default,{style:{flex:1,height:"100%",alignItems:"center",justifyContent:"center"},__source:{fileName:r,lineNumber:44}},l.default.createElement(c.default,{style:{width:b-15,marginTop:10},__source:{fileName:r,lineNumber:45}},l.default.createElement(a.default,{styles:u.default.create(v),style:{backgroundColor:"#00baf3"},placeholder:"搜索",showCancelButton:!0,value:null,defaultValue:E,returnKeyType:"search",__source:{fileName:r,lineNumber:46}})))}},t.default=w;var I=u.default.create({container:{flex:1},text:{fontSize:18,color:"gray"}})},196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\equipment\\equipmentListCell.web.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=h(i),l=(h(n(34)),h(n(3))),u=h(n(6)),s=h(n(2)),c=h(n(7)),f=(h(n(103)),h(n(8))),d=h(n(9)),p=h(n(10)),m=n(16),g=n(54);function h(e){return e&&e.__esModule?e:{default:e}}var _=d.default.get("window"),y=(_.width,_.height,n(340)),b=n(339),v=n(376),N=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onSubmitAction=function(e,t){n.props.onCellAction(e,t,"submit")},n._onDeleteAction=function(e,t){m.ActionModal.alertConfirm("是否确认删除？","删除当前数据后，数据不可恢复哦！",{text:"取消"},{text:"删除",onPress:function(){n.props.onCellAction(e,t,"delete")}})},n._onInspectAction=function(e,t){},n._onReviewAction=function(e,t){g.BimFileEntry.showNewReviewPage(null,e.value.qualityCheckListId,p.default.CREATE_TYPE_REVIEW)},n._onRectifyAction=function(e,t){g.BimFileEntry.showNewReviewPage(null,e.value.qualityCheckListId,p.default.CREATE_TYPE_RECTIFY)},n._onAcceptAction=function(e,t){},n._toDetail=function(e){storage.pushNext(null,"EquipmentDetailPage",{item:e})},n.renderItem=function(e,t){var r=n.renderActionBar(e,t),i=!!r,l=i?o.default.createElement(s.default,{style:{height:1,backgroundColor:"#fafafa"},__source:{fileName:a,lineNumber:69}}):null,d=n.searchHighlightData(n.props.keywords,e.value.facilityName);return o.default.createElement(f.default,{style:[E.containerView],activeOpacity:.5,onPress:function(t){t.preventDefault(),n._toDetail(e)},__source:{fileName:a,lineNumber:72}},o.default.createElement(s.default,{style:[E.contentHeaderView],__source:{fileName:a,lineNumber:73}},o.default.createElement(c.default,{source:v,style:E.imageTime,__source:{fileName:a,lineNumber:74}}),o.default.createElement(u.default,{style:E.contentTime,__source:{fileName:a,lineNumber:75}},"进场日期：",p.default.formatUnixtimestampSimple(e.value.approachDate)),o.default.createElement(u.default,{style:[E.contentStatus,{color:e.value.qcStateColor}],__source:{fileName:a,lineNumber:76}},e.value.qcStateShow)),o.default.createElement(s.default,{style:{height:1,backgroundColor:"#fafafa"},__source:{fileName:a,lineNumber:78}}),o.default.createElement(s.default,{style:[E.contentView,i?{}:E.contentView_border],__source:{fileName:a,lineNumber:79}},o.default.createElement(u.default,{style:E.content,__source:{fileName:a,lineNumber:80}},"批号：",e.value.batchCode),o.default.createElement(u.default,{style:E.content,__source:{fileName:a,lineNumber:81}},"编码：",e.value.facilityCode),o.default.createElement(u.default,{style:E.content,__source:{fileName:a,lineNumber:82}},"名称：",d.map(function(e,t){return e.highlight?o.default.createElement(u.default,{key:t,style:[E.content,{color:"#00baf3",marginLeft:0}],__source:{fileName:a,lineNumber:85}},e.text):o.default.createElement(u.default,{key:t,style:[E.content,{marginLeft:0}],__source:{fileName:a,lineNumber:87}},e.text)})),o.default.createElement(s.default,{style:{height:10,backgroundColor:"#ffffff"},__source:{fileName:a,lineNumber:93}})),l,r,n.renderImage(e))},n.searchHighlightData=function(e,t){var n=[];if(t&&t.length>0){if(e&&e.length>0)for(var a=e.length,r=t.indexOf(e);r>-1;){var i=t.substring(0,r),o=t.substring(r,r+a);n.push({highlight:!1,text:i}),n.push({highlight:!0,text:o}),r=(t=t.substring(r+a)).indexOf(e)}n.push({highlight:!1,text:t})}return n},n.renderImage=function(e){var t=null;return!0===e.value.committed&&(t=!0===e.value.qualified?y:b)?o.default.createElement(c.default,{source:t,style:[E.image],__source:{fileName:a,lineNumber:132}}):null},n.renderSubmitAndDeleteAction=function(e,t){var r=g.AuthorityManager.isEquipmentCreate(),i=g.AuthorityManager.isEquipmentDelete();return r||i?o.default.createElement(s.default,{style:[E.contentActionView],__source:{fileName:a,lineNumber:149}},r?o.default.createElement(m.StatusActionButton,{color:p.default.toBillTypeColor(p.default.BILL_TYPE_ITEM_SUBMIT),style:{elevation:0,width:58,height:28,borderWidth:.5,borderColor:p.default.toBillTypeColor(p.default.BILL_TYPE_ITEM_SUBMIT),marginRight:14},onClick:function(){n._onSubmitAction(e,t)},text:p.default.BILL_TYPE_ITEM_SUBMIT,__source:{fileName:a,lineNumber:151}}):null,i?o.default.createElement(m.StatusActionButton,{color:p.default.toBillTypeColor(p.default.BILL_TYPE_ITEM_DELETE),style:{elevation:0,width:58,height:28,borderWidth:.5,borderColor:p.default.toBillTypeColor(p.default.BILL_TYPE_ITEM_DELETE),marginRight:14},onClick:function(){n._onDeleteAction(e,t)},text:p.default.BILL_TYPE_ITEM_DELETE,__source:{fileName:a,lineNumber:155}}):null):null},n.renderActionBar=function(e,t){return!0==!e.value.committed?n.renderSubmitAndDeleteAction(e,t):null},n.state={item:e.item,index:e.index},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),r(t,[{key:"render",value:function(){return o.default.createElement(s.default,{style:{display:"block"},__source:{fileName:a,lineNumber:28}},this.renderItem(this.state.item,this.state.index))}}]),t}();t.default=N;var E=l.default.create({contentActionView:{height:50,alignItems:"center",alignContent:"center",flexDirection:"row-reverse"},containerView:{flex:1,borderRadius:8,marginTop:10,marginBottom:10,marginLeft:20,marginRight:20,backgroundColor:"#FFF",elevation:2.5,shadowColor:"#333",shadowOffset:{width:1.5,height:5},shadowOpacity:.15,shadowRadius:3},contentHeaderView:{height:40,alignItems:"center",alignContent:"center",flexDirection:"row"},content:{marginTop:10,marginLeft:20,fontSize:15,color:"#666",wordBreak:"break-all"},contentView:{left:0,backgroundColor:"#ffffff",overflow:"hidden",flexDirection:"column"},contentView_border:{borderBottomLeftRadius:8,borderBottomRightRadius:8},image:{marginTop:16,width:75,height:75,right:20,bottom:-7,position:"absolute",resizeMode:"contain"},imageTime:{marginLeft:10,width:20,height:20},contentTime:{marginLeft:10,fontSize:14,color:"#666"},contentStatus:{right:10,top:10,position:"absolute",textAlign:"right",fontSize:15,color:"green"}})},208:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.SEARCH_QUALITY_START="SEARCH_QUALITY_START",t.SEARCH_QUALITY_DONE="SEARCH_QUALITY_DONE",t.SEARCH_EQUIPMENT_DONE="SEARCH_EQUIPMENT_DONE",t.SEARCH_BIMFILE_DONE="SEARCH_BIMFILE_DONE",t.SEARCH_BIMFILE_RESET="SEARCH_BIMFILE_RESET",t.LOAD_SEARCH_HISTORY="LOAD_SEARCH_HISTORY"},209:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(60)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=u(n(10)),l=u(n(790));function u(e){return e&&e.__esModule?e:{default:e}}var s=null,c=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._getFromDb=function(e){var t=s.query(e);return console.log(t),new Promise(function(e,n){e(JSON.parse(t))})},this.downloadProjectInfo=function(e){_saveToDb=function(e,t){s.update(e,t)},_getProjectList=function(){return o.default.getProjects(0,1,e).then(function(n){n.last?t.setState(function(e){return r({},e,{dataList:n.data.content})}):o.default.getProjects(0,n.data.totalElements,e).then(function(t){if(t.data.content.length>0){var n=t.data.content;return _saveToDb(e+"",JSON.stringify(t)),n}}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},function(){return a.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.awrap(_getProjectList());case 2:return e.sent,e.abrupt("return",!0);case 4:case"end":return e.stop()}},null,this)}().then(function(e){}).catch(function(e){console.log(e)})},this.getProjectList=function(e){return t._getFromDb(e+"")},s=new l.default}return i(e,[{key:"saveAccountInfo",value:function(e,t){s.saveAccountInfo(e,t)}},{key:"checkAccountInfo",value:function(e,t){return s.checkAccountInfo(e,t)}}]),e}();t.default=c},210:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(25),r=o(n(14)),i=o(n(808));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.makeDirs=function(){t._createDir(t.getRootPath()),t._createDir(t.getProjectPath()),t._createDir(t.getModelPath()),t._createDir(t.getImagePath())},this.getRootPath=function(){try{return"ios"===r.default.OS?a.RNFS.MainBundlePath+"/bimcache":"/sdcard/bimcache"}catch(e){return"/bimcache"}},this.getProjectPath=function(){return t.getRootPath()+"/"+t.getProjectName()},this.getProjectName=function(){var e=storage.loadUserInfo().username,t=storage.loadTenantInfo();return e+"_"+JSON.parse(t).value.tenantId+"_"+storage.loadProject()},this.getModelPath=function(){var e=storage.getLatestVersionId(storage.loadProject());return t.getProjectPath()+"/bimModel/"+e},this.getAppUrl=function(e){var n=storage.getLatestVersionId(storage.loadProject()),a=storage.getModelFileIdOfflineName(e);return i.default.ROOT_URL+t.getProjectName()+"/bimModel/"+n+"/"+a+"/app.html"},this.getImagePath=function(){return t.getProjectPath()+"/img"},this.getImagePathById=function(e){return t.getImagePath()+"/"+e+".png"},this._createDir=function(e){a.RNFS.exists(e).then(function(t){t||a.RNFS.mkdir(e).then(function(){})}).catch(function(e){console.log(e)})}}},249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\quality\\qualityListCell.web.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=h(i),l=(h(n(34)),h(n(3))),u=h(n(6)),s=h(n(2)),c=h(n(7)),f=(h(n(103)),h(n(8))),d=h(n(9)),p=h(n(10)),m=n(16),g=n(54);function h(e){return e&&e.__esModule?e:{default:e}}var _=d.default.get("window"),y=(_.width,_.height,n(621)),b=n(376),v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onSubmitAction=function(e,t){n.props.onCellAction(e,t,"submit")},n._onDeleteAction=function(e,t){m.ActionModal.alertConfirm("是否确认删除？","删除当前数据后，数据不可恢复哦！",{text:"取消"},{text:"删除",onPress:function(){n.props.onCellAction(e,t,"delete")}})},n._onInspectAction=function(e,t){},n._onReviewAction=function(e,t){g.BimFileEntry.showNewReviewPage(null,e.value.id,p.default.CREATE_TYPE_REVIEW)},n._onRectifyAction=function(e,t){g.BimFileEntry.showNewReviewPage(null,e.value.id,p.default.CREATE_TYPE_RECTIFY)},n._onAcceptAction=function(e,t){},n._toDetail=function(e){var t=g.AuthorityManager.isQualityCheckSubmit()&&g.AuthorityManager.isMe(e.value.creatorId);e.value.qcState===p.default.QC_STATE_STAGED&&t?storage.pushNext(null,"NewPage",{item:e}):storage.pushNext(null,"QualityDetailPage",{item:e})},n.renderItem=function(e,t){var r=n.renderActionBar(e,t),i=!!r;return o.default.createElement(f.default,{style:[N.containerView],activeOpacity:.5,onPress:function(t){t.preventDefault(),n._toDetail(e)},__source:{fileName:a,lineNumber:81}},o.default.createElement(s.default,{style:[N.contentHeaderView],__source:{fileName:a,lineNumber:82}},o.default.createElement(c.default,{source:b,style:N.imageTime,__source:{fileName:a,lineNumber:83}}),o.default.createElement(u.default,{style:N.contentTime,__source:{fileName:a,lineNumber:84}},e.value.showTime),o.default.createElement(u.default,{style:[N.contentStatus,{color:p.default.toQcStateShowColor(e.value.qcState)}],__source:{fileName:a,lineNumber:85}},e.value.qcStateShow)),o.default.createElement(s.default,{style:[N.contentView,i?{}:N.contentView_border],__source:{fileName:a,lineNumber:87}},n.renderImage(e),o.default.createElement(u.default,{style:N.content,__source:{fileName:a,lineNumber:91}},e.value.description)),r)},n.componentWillMount=function(){var e=n.props.item;e&&!e.image&&e.value.files&&e.value.files.length>0&&e.value.files[0].objectId&&p.default.getBimFileUrlThumbnail(e.value.files[0].objectId,function(t,a){t&&(e.image={uri:a},n.setState({image:{uri:a}}))})},n.renderImage=function(e){return o.default.createElement(c.default,{source:n.state.image,style:[N.image],__source:{fileName:a,lineNumber:116}})},n.renderSubmitAndDeleteAction=function(e,t){if(!g.AuthorityManager.isMe(e.value.creatorId))return null;var r=g.AuthorityManager.isQualityCheckSubmit(),i=g.AuthorityManager.isQualityCheckDelete();return r||i?o.default.createElement(s.default,{style:[N.contentActionView],__source:{fileName:a,lineNumber:129}},r?o.default.createElement(m.StatusActionButton,{color:p.default.toBillTypeColor(p.default.BILL_TYPE_ITEM_SUBMIT),style:{elevation:0,width:58,height:28,borderWidth:.5,borderColor:p.default.toBillTypeColor(p.default.BILL_TYPE_ITEM_SUBMIT),marginRight:14},onClick:function(){n._onSubmitAction(e,t)},text:p.default.BILL_TYPE_ITEM_SUBMIT,__source:{fileName:a,lineNumber:131}}):null,i?o.default.createElement(m.StatusActionButton,{color:p.default.toBillTypeColor(p.default.BILL_TYPE_ITEM_DELETE),style:{elevation:0,width:58,height:28,borderWidth:.5,borderColor:p.default.toBillTypeColor(p.default.BILL_TYPE_ITEM_DELETE),marginRight:14},onClick:function(){n._onDeleteAction(e,t)},text:p.default.BILL_TYPE_ITEM_DELETE,__source:{fileName:a,lineNumber:135}}):null):null},n.renderRectifyAction=function(e,t){return g.AuthorityManager.isCreateRectify()&&g.AuthorityManager.isMe(e.value.responsibleUserId)?o.default.createElement(s.default,{style:[N.contentActionView],__source:{fileName:a,lineNumber:146}},o.default.createElement(m.StatusActionButton,{color:p.default.toQcStateShowColor(e.value.qcState),style:{elevation:0,width:70,height:28,borderWidth:.5,borderColor:p.default.toQcStateShowColor(e.value.qcState),marginRight:14},onClick:function(){n._onRectifyAction(e,t)},text:p.default.TYPE_NEW_NAME_RECTIFY,__source:{fileName:a,lineNumber:147}})):null},n.renderReviewAction=function(e,t){return g.AuthorityManager.isCreateReview()&&g.AuthorityManager.isMe(e.value.creatorId)?o.default.createElement(s.default,{style:[N.contentActionView],__source:{fileName:a,lineNumber:158}},o.default.createElement(m.StatusActionButton,{color:p.default.toQcStateShowColor(e.value.qcState),style:{elevation:0,width:70,height:28,borderWidth:.5,borderColor:p.default.toQcStateShowColor(e.value.qcState),marginRight:14},onClick:function(){n._onReviewAction(e,t)},text:p.default.TYPE_NEW_NAME_REVIEW,__source:{fileName:a,lineNumber:159}})):null},n.renderActionBar=function(e,t){switch(e.value.qcState){case p.default.QC_STATE_STAGED:return n.renderSubmitAndDeleteAction(e,t);case p.default.QC_STATE_UNRECTIFIED:return n.renderRectifyAction(e,t);case p.default.QC_STATE_UNREVIEWED:return n.renderReviewAction(e,t);case p.default.QC_STATE_DELAYED:return n.renderRectifyAction(e,t)}},n.state={item:e.item,index:e.index,image:e.item.image?e.item.image:y},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),r(t,[{key:"render",value:function(){return o.default.createElement(s.default,{style:{display:"block"},__source:{fileName:a,lineNumber:29}},this.renderItem(this.state.item,this.state.index))}}]),t}();t.default=v;var N=l.default.create({contentActionView:{height:50,alignItems:"center",alignContent:"center",flexDirection:"row-reverse"},containerView:{flex:1,borderRadius:8,marginTop:10,marginBottom:10,marginLeft:20,marginRight:20,backgroundColor:"#FFF",elevation:2.5,shadowColor:"#333",shadowOffset:{width:1.5,height:5},shadowOpacity:.15,shadowRadius:3},contentHeaderView:{height:44,alignItems:"center",alignContent:"center",flexDirection:"row"},content:{marginTop:14,marginLeft:10,fontSize:14,color:"#999999",flex:1,wordBreak:"break-all"},contentView:{backgroundColor:"#fafafa",paddingRight:20,paddingBottom:14,alignContent:"center",flexDirection:"row"},contentView_border:{borderBottomLeftRadius:8,borderBottomRightRadius:8},image:{marginTop:12,marginLeft:14,width:68,height:68},imageTime:{marginLeft:13,width:18.5,height:18.5,resizeMode:"contain"},contentTime:{marginLeft:6.5,fontSize:14,fontWeight:"100",color:"#333333"},contentStatus:{right:14,top:10,position:"absolute",textAlign:"right",fontSize:15,color:"green"}})},252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=_(n(251)),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\GLDDatePicker.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(250);var o=n(1),l=_(o),u=_(n(2)),s=_(n(6)),c=_(n(7)),f=_(n(8)),d=_(n(3)),p=_(n(9)),m=_(n(91)),g=_(n(0)),h=_(n(10));function _(e){return e&&e.__esModule?e:{default:e}}var y=n(100),b=p.default.get("window"),v=(b.width,b.height,function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={visible:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.textStyle,i=void 0===n?{alignItems:"flex-start"}:n,o=t.titleStyle,d=void 0===o?{}:o,p=t.contentStyle,g=void 0===p?{}:p;return l.default.createElement(u.default,{__source:{fileName:r,lineNumber:31}},l.default.createElement(f.default,{activeOpacity:.5,onPress:function(t){t.preventDefault(),m.default.dismiss(),e.setState({visible:!0})},__source:{fileName:r,lineNumber:32}},l.default.createElement(u.default,{style:[N.containerView,this.props.style],__source:{fileName:r,lineNumber:37}},l.default.createElement(u.default,{style:N.titleView,__source:{fileName:r,lineNumber:38}},l.default.createElement(s.default,{style:[N.title,d],__source:{fileName:r,lineNumber:39}},this.props.title)),l.default.createElement(u.default,{style:[{flex:1,paddingRight:5},i],__source:{fileName:r,lineNumber:41}},l.default.createElement(s.default,{style:[N.content,g],__source:{fileName:r,lineNumber:42}},this.props.date?h.default.formatUnixtimestampSimple(new Date(this.props.date).getTime()):h.default.formatUnixtimestampSimple((new Date).getTime()))),l.default.createElement(c.default,{source:y,style:N.infoMark,__source:{fileName:r,lineNumber:44}}))),l.default.createElement(a.default,{mode:"date",title:" ",visible:this.state.visible,onDismiss:function(){return e.setState({visible:!1})},onOk:function(t){e.props.onDateChange(t),e.setState({visible:!1})},extra:" ",value:this.props.date?new Date(this.props.date):new Date,__source:{fileName:r,lineNumber:47}}))}}]),t}());v.proptypes={onDateChange:g.default.func,textStyle:g.default.any},t.default=v;var N=d.default.create({containerView:{marginBottom:5,paddingLeft:20,paddingRight:20,height:40,flexDirection:"row",alignItems:"center",backgroundColor:"#ffffff"},titleView:{flexDirection:"row",alignItems:"center",width:85},title:{fontSize:16,color:"#000000"},infoMark:{marginRight:-1,width:17,height:17,resizeMode:"contain"},content:{fontSize:16,alignContent:"center",color:"#000000"}})},253:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\new\\StarView.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=f(i),l=f(n(2)),u=f(n(7)),s=f(n(3)),c=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showStar:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({showStar:e.showStar})}},{key:"render",value:function(){return o.default.createElement(l.default,{style:p.childViewContainer,__source:{fileName:a,lineNumber:30}},this.props.childView?this.props.childView:null,this.state.showStar?o.default.createElement(u.default,{source:n(654),style:p.starImage,__source:{fileName:a,lineNumber:36}}):null)}}]),t}();d.propTypes={childView:c.default.element,showStar:c.default.bool};var p=s.default.create({childViewContainer:{},starImage:{width:8,height:8,top:24,left:6,position:"absolute"}});t.default=d},256:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.PAGE_TYPE_NEW_QUALITY="PAGE_TYPE_NEW_QUALITY",t.PAGE_TYPE_EDIT_QUALITY="PAGE_TYPE_EDIT_QUALITY",t.PAGE_TYPE_DETAIL="PAGE_TYPE_DETAIL",t.PAGE_TYPE_QUALITY_MODEL="PAGE_TYPE_QUALITY_MODEL",t.PAGE_TYPE_NEW_EQUIPMENT="PAGE_TYPE_NEW_EQUIPMENT",t.PAGE_TYPE_EDIT_EQUIPMENT="PAGE_TYPE_EDIT_EQUIPMENT",t.PAGE_TYPE_EQUIPMENT_MODEL="PAGE_TYPE_EQUIPMENT_MODEL"},257:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.homeSelect=function(e){a.GLDNewMenuView.openMenu(e)},t.newSelect=function(e){a.GLDNewMenuView.openChoose(e)},t.chooseBlueprintFromHome=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(t?storage.replaceNext:storage.pushNext)(e,"BimFileChooserPage",{top:n,fileId:0,dataType:"图纸文件",pageType:o.PAGE_TYPE_QUALITY_MODEL})},t.chooseQualityModelFromHome=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(t?storage.replaceNext:storage.pushNext)(e,"BimFileChooserPage",{top:n,fileId:0,dataType:"模型文件",pageType:o.PAGE_TYPE_QUALITY_MODEL})},t.chooseBlueprintFromQualityNew=function(e,t,n,a,r){var i={drawingGdocFileId:t,drawingName:n,drawingPositionX:a,drawingPositionY:r};i.drawingName?storage.pushNext(e,"RelevantBlueprintPage",{pageType:o.PAGE_TYPE_EDIT_QUALITY,relevantBlueprint:i}):storage.pushNext(e,"BimFileChooserPage",{fileId:0,dataType:"图纸文件",pageType:o.PAGE_TYPE_NEW_QUALITY})},t.chooseModelFromQualityNew=function(e,t,n,a,r){var i={gdocFileId:t,elementId:n,buildingId:a,buildingName:r};t?storage.pushNext(e,"RelevantModlePage",{pageType:o.PAGE_TYPE_EDIT_QUALITY,relevantModel:i}):storage.pushNext(e,"BimFileChooserPage",{fileId:0,dataType:"模型文件",pageType:o.PAGE_TYPE_NEW_QUALITY})},t.chooseEquipmentModelFromHome=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(t?storage.replaceNext:storage.pushNext)(e,"BimFileChooserPage",{top:n,fileId:0,dataType:"模型文件",pageType:o.PAGE_TYPE_EQUIPMENT_MODEL})},t.chooseEquipmentModelFromNew=function(e,t,n,a,r){var i={gdocFileId:t,elementId:n,buildingId:a,buildingName:r};t?storage.pushNext(e,"RelevantModlePage",{pageType:o.PAGE_TYPE_EDIT_EQUIPMENT,relevantModel:i}):storage.pushNext(e,"BimFileChooserPage",{fileId:0,dataType:"模型文件",pageType:o.PAGE_TYPE_NEW_EQUIPMENT})},t.showBlueprintFromChoose=function(e,t,n,a){var r={drawingGdocFileId:n,drawingName:a,drawingPositionX:"",drawingPositionY:""};storage.pushNext(e,"RelevantBlueprintPage",{pageType:t,relevantBlueprint:r})},t.showModelFromChoose=function(e,t,n,a,r){var i={gdocFileId:n,buildingId:a,buildingName:r};storage.pushNext(e,"RelevantModlePage",{pageType:t,relevantModel:i})},t.showBlueprintFromDetail=function(e,t,n,a,r){var i={drawingGdocFileId:t,drawingName:n,drawingPositionX:a,drawingPositionY:r};storage.pushNext(e,"RelevantBlueprintPage",{pageType:o.PAGE_TYPE_DETAIL,relevantBlueprint:i})},t.showModelFromDetail=function(e,t,n){var a={gdocFileId:t,elementId:n};storage.pushNext(e,"RelevantModlePage",{pageType:o.PAGE_TYPE_DETAIL,relevantModel:a})},t.showNewReviewPage=function(e,t,n){storage.pushNext(e,"NewReviewPage",{qualityCheckListId:t,createType:n})},t.submitInspectionFromList=function(e,t){r.submitFromList(e,t)},t.submitEquipmentFromList=function(e,t){i.submitEquipmentFromList(e,t)};var a=n(16),r=l(n(400)),i=l(n(716)),o=l(n(256));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},273:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.EQUIPMENT_INFO_DOING="EQUIPMENT_INFO_DOING",t.EQUIPMENT_INFO_DONE="EQUIPMENT_INFO_DONE",t.EQUIPMENT_INFO_PAGE="EQUIPMENT_INFO_PAGE",t.EQUIPMENT_INFO_ERROR="EQUIPMENT_INFO_ERROR",t.EQUIPMENT_INFO_INIT="EQUIPMENT_INFO_INIT",t.EQUIPMENT_ACCEPTANCE_COMPANIES="EQUIPMENT_ACCEPTANCE_COMPANIES"},275:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(25);var i=new(function(e){return e&&e.__esModule?e:{default:e}}(n(210)).default),o=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.downloadImg=function(e,n){var a=e[n].url,o=e[n].fileId,l={fromUrl:a,toFile:i.getImagePath()+"/"+o+".png",background:!0,begin:function(e){},progress:function(e){}};try{r.RNFS.downloadFile(l).promise.then(function(a){++n<e.length&&t.downloadImg(e,n)}).catch(function(a){console.log("err",a),++n<e.length&&t.downloadImg(e,n)})}catch(e){console.log(e)}}}return a(e,[{key:"download",value:function(e){if(e&&e.length>0){this.downloadImg(e,0)}}}]),e}();t.default=o},276:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.CHECK_POINT_INIT="CHECK_POINT_INIT",t.CHECK_POINT_RESET="CHECK_POINT_RESET",t.CHECK_POINT_LOAD="CHECK_POINT_LOAD",t.CHECK_POINT_TO_NEW_QUALITY="CHECK_POINT_TO_NEW_QUALITY",t.CHECK_POINT_TO_INFO="CHECK_POINT_TO_INFO",t.CHECK_POINT_TO_QUALITY_LIST="CHECK_POINT_TO_INFO"},277:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.FORGOT_IMAGE_CODE="FORGOT_IMAGE_CODE",t.FORGOT_USER_CHECK="FORGOT_USER_CHECK",t.FORGOT_PHONE_CODE="FORGOT_PHONE_CODE",t.FORGOT_PHONE_CODE_VERIFY="FORGOT_PHONE_CODE_VERIFY",t.FORGOT_ERROR="FORGOT_ERROR",t.FORGOT_RESET="FORGOT_RESET",t.FORGOT_STEP="FORGOT_STEP",t.FORGOT_INIT="FORGOT_INIT"},322:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\editPhoto\\EditPhotoPage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=f(i),l=f(n(2)),u=f(n(6)),s=f(n(3)),c=(f(n(8)),f(n(525)));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._close=function(){n.props.navigation.goBack()},n._useImage=function(e){n.state.callback(e),n.props.navigation.goBack()};var a=n.props.navigation.state.params,r=a.url,i=a.callback;return n.state={url:r,callback:i},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){return o.default.createElement(l.default,{style:p.container,__source:{fileName:a,lineNumber:39}},o.default.createElement(c.default,{close:this._close,useImage:this._useImage,url:this.state.url,__source:{fileName:a,lineNumber:40}}))}}]),t}();d.navigationOptions={headerTitle:o.default.createElement(u.default,{__source:{fileName:a,lineNumber:15}}),headerRight:o.default.createElement(l.default,{__source:{fileName:a,lineNumber:16}}),header:null},t.default=d;var p=s.default.create({container:{backgroundColor:"#000",height:"100%"}})},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\me\\SharePage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=p(n(1)),o=p(n(3)),l=(p(n(6)),p(n(2))),u=p(n(12)),s=p(n(27)),c=p(n(9)),f=n(16),d=n(25);function p(e){return e&&e.__esModule?e:{default:e}}var m=c.default.get("window"),g=m.height,h=m.width,_=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={html:'\n          <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n          <html xmlns="http://www.w3.org/1999/xhtml">\n          <head>\n              <meta http-equiv="Content-Type" content ="text/html; charset=utf-8" />\n              <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0, " />\n              <meta http-equiv="X-UA-Compatible" content="ie=edge">\n              <title> Baidu分享 </title>\n          </head>\n          <body>\n              <form id="form1">\n                  \x3c!-- Baidu Button BEGIN --\x3e\n                     <div id="bdshare" style="float :right; width:200px;"  class="bdshare_t bds_tools get-codes-bdshare">\n                          <span  style="float :left; line-height:28px ;">分享 </span>\n                          <a class="bds_fbook"></a>\n                          <a class="bds_twi"></a>\n                          <a class="bds_tsina"></a>\n                          <a class="bds_tqq"></a>\n                          <a class="bds_baidu"></a>\n                          <span class="bds_more">更多 </span>\n                          </div>\n                          <script type="text/javascript" id ="bdshare_js" data ="type=tools&amp;uid=938050" ><\/script>\n                          <script type="text/javascript" id ="bdshell_js"><\/script>\n                          <script type="text/javascript">\n                              document.getElementById( "bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date() / 3600000)\n                          <\/script>\n                  \x3c!-- Baidu Button END --\x3e\n              </form>\n          </body>\n          </html>\n          '},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this;return i.default.createElement(s.default,{style:[y.container,{backgroundColor:"#ecf0f1"}],__source:{fileName:a,lineNumber:62}},i.default.createElement(u.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:63}}),i.default.createElement(l.default,{style:{flex:1,alignItems:"center",justifyContent:"center",flexDirection:"column"},__source:{fileName:a,lineNumber:64}},i.default.createElement(d.WebView,{bounces:!1,ref:"webview",onNavigationStateChange:function(){return e.onNavigationStateChange},scalesPageToFit:!0,javaScriptEnabled:!0,domStorageEnabled:!1,onLoadEnd:function(){},source:{html:this.state.html},style:{width:h,height:g},__source:{fileName:a,lineNumber:66}})))}}]),t}();_.navigationOptions={headerTitle:i.default.createElement(f.BarItems.TitleBarItem,{text:"分享",__source:{fileName:a,lineNumber:21}}),headerRight:i.default.createElement(l.default,{__source:{fileName:a,lineNumber:22}})},t.default=_;var y=o.default.create({container:{flex:1},text:{fontSize:18,color:"gray"}})},328:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\me\\ChangeProjectPage.js",r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(25),l=N(n(10)),u=n(16),s=n(1),c=N(s),f=N(n(93)),d=N(n(9)),p=N(n(7)),m=(N(n(19)),N(n(3))),g=N(n(6)),h=N(n(136)),_=N(n(8)),y=N(n(2)),b=N(n(14)),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(166));function N(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));w.call(e),e.state={pressed:!1,tenantName:"",dataList:[]};var n=storage.loadProject();return e.selectProjectId=Number.parseInt(n),e.trueTenantStr=storage.loadTenantInfo(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){var e=this;if(this._refreshData(),this.props.navigation.addListener("didFocus",function(t){console.debug("didBlur",t),storage.loadTenantInfoRefresh(function(t){"1"===t&&(storage.saveTenantInfoRefresh("0"),e._refreshData())})}),"web"===b.default.OS)this.backListener=o.BackHandler.addEventListener("hardwareBackPress",function(){return storage.currentRouteName===e.props.navigation.state.routeName&&(e._goBack(),!0)});else if("android"===b.default.OS){var t=f.default.BackHandler?f.default.BackHandler:f.default.BackAndroid;this.backListener=t.addEventListener("hardwareBackPress",function(){return storage.currentRouteName===e.props.navigation.state.routeName&&(e._goBack(),!0)})}}},{key:"componentWillUnmount",value:function(){this.backListener&&(this.backListener.remove(),this.backListener=null)}},{key:"_refreshData",value:function(){var e=storage.loadTenantInfo(),t=JSON.parse(e);this.setState({tenantName:t.value.tenantName}),this._getProjects(t.value.tenantId)}},{key:"_getProjects",value:function(e){var t=this;l.default.getProjects(0,1e7,e).then(function(e){t.setState(function(t){return r({},t,{dataList:e.data.content})})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state.tenantName,r=this.state.dataList;return c.default.createElement(o.FlatList,{style:{paddingTop:10,backgroundColor:"#F7F7F7"},data:r,ListHeaderComponent:c.default.createElement(y.default,{__source:{fileName:a,lineNumber:232}},c.default.createElement(_.default,{onPress:function(t){t.preventDefault(),e._tenantChoose&&e._tenantChoose()},__source:{fileName:a,lineNumber:232}},c.default.createElement(y.default,{style:{flexDirection:"row",alignItems:"center",backgroundColor:"#FFFFFF",height:51,width:"100%"},__source:{fileName:a,lineNumber:233}},c.default.createElement(p.default,{source:n(365),style:{width:30,height:30,marginLeft:20},__source:{fileName:a,lineNumber:234}}),c.default.createElement(g.default,{style:{fontSize:16,color:"#6F899B",marginLeft:12,flex:1},__source:{fileName:a,lineNumber:235}},t),c.default.createElement(p.default,{source:n(100),style:{width:5,height:12,marginRight:18},__source:{fileName:a,lineNumber:236}}))),c.default.createElement(y.default,{style:{height:10,width:"100%"},__source:{fileName:a,lineNumber:238}})),renderItem:this.renderItemView,ListFooterComponent:c.default.createElement(h.default,{onPress:function(t){t.preventDefault(),e._goBack&&e._goBack(t)},underlayColor:"#0099f3",activeOpacity:1,style:this.state.pressed?I.logoutTextViewPressed:I.logoutTextView,onHideUnderlay:function(){e.setState({pressed:!1})},onShowUnderlay:function(){e.setState({pressed:!0})},__source:{fileName:a,lineNumber:240}},c.default.createElement(g.default,{style:I.logoutText,__source:{fileName:a,lineNumber:257}},"返回 ")),keyExtractor:function(e,t){return t+""},__source:{fileName:a,lineNumber:230}})}}]),t}();E.navigationOptions={headerTitle:c.default.createElement(u.BarItems.TitleBarItem,{text:"设置",__source:{fileName:a,lineNumber:13}}),headerRight:c.default.createElement(y.default,{__source:{fileName:a,lineNumber:14}})};var w=function(){var e=this;this.selectProjectId=null,this.trueTenantStr=null,this._getlatestVersion=function(e){l.default.getModelLatestVersion(e).then(function(t){var n=t.data.data.versionId;storage.projectIdVersionId=n,storage.setLatestVersionId(e,n)}).catch(function(e){console.log(e)})},this._getlatestVersion=function(e){l.default.getModelLatestVersion(e).then(function(t){var n=t.data.data.versionId;storage.projectIdVersionId=n,storage.setLatestVersionId(e,n)}).catch(function(e){console.log(e)})},this._tenantChoose=function(){var t=e.props.navigation;storage.projectIdVersionId="",storage.pushNext(t,"TenantPage",{changeProject:!0})},this._goBack=function(){var t=JSON.parse(e.trueTenantStr);console.log(t),storage.loadTenantInfo(function(n){var a=JSON.parse(n);t.value.id!=a.value.id&&l.default.setCurrentTenant(t.value.tenantId).then(function(n){storage.saveTenant(t.value.id),storage.saveLastTenant(t.value.tenantId),storage.saveTenantInfo(e.trueTenantStr)})});var n=e.props.navigation;storage.goBack(n,null)},this._itemClick=function(t){e._getlatestVersion(t.id);var n=e.props.navigation;v.loadAuthoritys(""+t.id,function(e){e?(storage.saveProject(""+t.id,""+t.name),storage.gotoMainPage(n)):alert("获取权限失败")})},this.renderItemView=function(t){var r=t.item,i=d.default.get("window").width-22;return e.selectProjectId!=r.id?c.default.createElement(_.default,{activeOpacity:.5,onPress:function(t){t.preventDefault(),e._itemClick(r)},__source:{fileName:a,lineNumber:203}},c.default.createElement(y.default,{style:I.containerView,__source:{fileName:a,lineNumber:204}},c.default.createElement(g.default,{style:I.content,__source:{fileName:a,lineNumber:205}}," ",r.name),c.default.createElement(y.default,{style:{marginLeft:22,height:1,width:i,backgroundColor:"#F7F7F7"},__source:{fileName:a,lineNumber:206}}))):c.default.createElement(_.default,{activeOpacity:.5,onPress:function(t){t.preventDefault(),e._itemClick(r)},__source:{fileName:a,lineNumber:212}},c.default.createElement(y.default,{style:I.containerView,__source:{fileName:a,lineNumber:213}},c.default.createElement(y.default,{style:{flexDirection:"row",alignItems:"center",flex:1},__source:{fileName:a,lineNumber:214}},c.default.createElement(g.default,{style:I.contentSelected,__source:{fileName:a,lineNumber:215}}," ",r.name),c.default.createElement(p.default,{source:n(197),style:{width:22,height:16,marginRight:21},__source:{fileName:a,lineNumber:216}})),c.default.createElement(y.default,{style:{marginLeft:22,height:1,width:i,backgroundColor:"#F7F7F7"},__source:{fileName:a,lineNumber:218}})))}};t.default=E;var I=m.default.create({logoutTextView:{overflow:"hidden",height:40,backgroundColor:"#00baf3",borderRadius:20,marginTop:40,marginLeft:20,marginRight:20,marginBottom:40},logoutTextViewPressed:{overflow:"hidden",height:40,backgroundColor:"#33baf3",borderRadius:20,marginTop:40,marginLeft:20,marginRight:20,marginBottom:40},logoutText:{overflow:"hidden",height:20,marginTop:10,marginLeft:20,marginRight:20,borderRadius:20,alignItems:"center",textAlign:"center",fontSize:16,color:"#fff"},containerView:{height:50,flexDirection:"column",backgroundColor:"#FFFFFF"},content:{alignItems:"center",textAlign:"left",fontSize:16,color:"black",marginLeft:20,marginRight:20,marginTop:15,flex:1},contentSelected:{alignItems:"center",textAlign:"left",fontSize:16,color:"#00BAF3",marginLeft:20,marginRight:20,flex:1}})},329:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=E(n(64)),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\login\\pages\\ForgotPage.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(63);var o=n(25),l=E(n(10)),u=n(16),s=E(n(1)),c=E(n(93)),f=E(n(9)),d=E(n(14)),p=E(n(27)),m=E(n(12)),g=E(n(3)),h=E(n(6)),_=E(n(2)),y=n(44),b=N(n(538)),v=N(n(277));function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var w=f.default.get("window"),I=w.width,T=(w.height,function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentWillUnmount=function(){n.removeBackListener(),n.props.init(),clearTimeout()},n.gesturesEnabled=function(){return!1},n.loadTitle=function(){var e=n.props.page,t=n.props.navigation.getParam("title");return t||(t="密码管理"),t+"（"+e+"/3）"},n.needBack=function(e){var t=n.props.page;1!=t?(n.switchPage(t-1),e&&e(!1)):e&&e(!0)},n.loadLeftTitle=function(){return s.default.createElement(u.BarItems,{top:!1,needBack:n.needBack,navigation:n.props.navigation,currentItem:l.default.APP_EQUIPMENT,__source:{fileName:r,lineNumber:115}})},n.switchPage=function(e){n.props.gotoPage(e)},n.componentDidMount=function(){if(n.props.imageCode(),"android"===d.default.OS){var e=c.default.BackHandler?c.default.BackHandler:c.default.BackAndroid;n.backListener=e.addEventListener("hardwareBackPress",function(){return n.needBack(function(e){e&&storage.pop(n.props.navigation,1)}),!0})}"web"===d.default.OS&&(n.backListener=o.BackHandler.addEventListener("hardwareBackPress",function(){return n.needBack(function(e){e&&storage.pop(n.props.navigation,1)}),!0}))},n._onImageClick=function(){n.props.imageCode()},n._onUserNameChangeText=function(e){if(e.indexOf("\n")>=0)n.imageCodeTextInput.focus();else{var t=e.length>1&&n.state.imageCode.length>3;n.setState({username:e,disabled1:!t})}},n._onUserNameBlur=function(){(n.setState({focusUserName:0,disabled1:!n._checkInput1()}),n.state.username.length>1&&n.state.username!=n.props.userName)&&(0,n.props.userCheck)(n.state.username)},n._onUserNameFocus=function(){n.setState({focusUserName:1,disabled1:!n._checkInput1()})},n._onImageCodeChangeText=function(e){if(e.indexOf("\n")>=0)n._checkInput1()&&n.doNextPage(2);else{var t=e.length>3&&n.state.username.length>1;n.setState({imageCode:e,disabled1:!t})}},n._onImageCodeBlur=function(){n.setState({focusImageCode:0,disabled1:!n._checkInput1()})},n._onImageCodeFocus=function(){n.setState({focusImageCode:1,disabled1:!n._checkInput1()})},n._onPhoneCodeChangeText=function(e){if(e.indexOf("\n")>=0)n._checkInput2()&&n.doNextPage(3);else{var t=e.length>3;n.setState({verifyCode:e,disabled2:!t})}},n._onPhoneCodeBlur=function(){n.setState({focusPhoneCode:0,disabled2:!n._checkInput2()})},n._onPhoneCodeFocus=function(){n.setState({focusPhoneCode:1,disabled2:!n._checkInput2()})},n._onPasswordBlur=function(){n.setState({focusPassword:0,disabled3:!n._checkInput3()})},n._onPasswordFocus=function(){n.setState({focusPassword:1,disabled3:!n._checkInput3()})},n._onPasswordChangeText=function(e){if(e&&e.indexOf("\n")>=0)n._checkInput3()&&n.password2TextInput.focus();else{e||(e="");var t=e.length>5&&n.state.password1.length>5&&e==n.state.password1;n.setState({password:e,disabled3:!t})}},n._onPassword1Blur=function(){n.setState({focusPassword1:0,disabled3:!n._checkInput3()})},n._onPassword1Focus=function(){n.setState({focusPassword1:1,disabled3:!n._checkInput3()})},n._onPassword1ChangeText=function(e){if(e&&e.indexOf("\n")>=0)n._checkInput3()&&n.doReset();else{e||(e="");var t=e.length>5&&n.state.password.length>5&&e==n.state.password;n.setState({password1:e,disabled3:!t})}},n.doNextPage=function(e){var t=n.props,a=t.phoneCode,r=t.phoneCodeVerify;t.imageCode;return 2==e?n._checkInput1()?void a(n.state.username,n.state.imageCode,n.props.signupKey):void n.setState({status:"请输入有效信息后重试",disabled3:!0}):3==e?n._checkInput2()?void r(n.state.username,n.state.verifyCode):void n.setState({status:"请输入有效的验证码",disabled3:!0}):void 0},n.doReset=function(){n._checkInput3()?(a.default.loading("",0,null,!0),(0,n.props.reset)(n.state.username,n.state.verifyCode,n.state.password)):n.setState({status:"两次密码输入不一致",disabled3:!0})},n.renderPage=function(){var e=n.props.page;return 1==e?n.renderPage1():2==e?n.renderPage2():3==e?n.renderPage3():n.renderPage1()},n.props.navigation.setParams({loadLeftTitle:n.loadLeftTitle,loadTitle:n.loadTitle,gesturesEnabled:n.gesturesEnabled}),n.passwordTextInput=null,n.password2TextInput=null,n.userNameTextInput=null,n.imageCodeTextInput=null,n.phoneCodeTextInput=null,n.state={disabled1:!0,disabled2:!0,disabled3:!0,pressed:!1,username:"",imageCode:"",verifyCode:"",password:"",password1:"",focusUserName:0,focusPassword:0,focusPassword1:0,focusPhoneCode:0,focusImageCode:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),i(t,[{key:"shouldComponentUpdate",value:function(e,t){if(e.type==v.FORGOT_INIT)return!1;if(e.type===v.FORGOT_ERROR&&(a.default.hide(),this.state.status=e.status,1==e.page&&"601"==this.props.statusCode&&this.props.imageCode()),e.type===v.FORGOT_RESET&&e.isSuccess){var n=this.props.navigation;return a.default.hide(),a.default.success(e.tip,1.5),setTimeout(function(){a.default.hide(),storage.pop(n,1)},2e3),!0}return e.tip&&e.isSuccess&&a.default.success(e.tip,2),e.page!=this.props.page&&(this.props.imageCode(),this.props.navigation.setParams({loadLeftTitle:this.loadLeftTitle,loadTitle:this.loadTitle,gesturesEnabled:this.gesturesEnabled})),!0}},{key:"removeBackListener",value:function(){this.backListener&&(this.backListener.remove(),this.backListener=null)}},{key:"_checkInput1",value:function(){return this.state.status="",this.state.username.length>1&&this.state.imageCode.length>1}},{key:"_checkInput2",value:function(){return this.state.status="",this.state.verifyCode.length>3}},{key:"_checkInput3",value:function(){return this.state.status="",this.state.password.length>5&&this.state.password1.length>5&&this.state.password==this.state.password1}},{key:"renderPage1",value:function(){var e=this;return s.default.createElement(p.default,{style:[P.container,{backgroundColor:"#ffffff"}],__source:{fileName:r,lineNumber:329}},s.default.createElement(h.default,{style:[P.style_input_title,1==this.state.focusUserName||this.state.username.length>0?{color:"rgb(153,153,146)"}:{color:"transparent"},,{marginTop:20}],__source:{fileName:r,lineNumber:330}},"账户名"),s.default.createElement(u.TextInputNormal,{placeholder:1==this.state.focusUserName?"":"请输入账户名称",onBlur:function(){return e._onUserNameBlur()},onFocus:function(){return e._onUserNameFocus()},onChangeText:function(t){return e._onUserNameChangeText(t)},defaultValue:this.props.userName?this.props.userName:"",ref:function(t){e.userNameTextInput=t},__source:{fileName:r,lineNumber:342}}),s.default.createElement(_.default,{style:1==this.state.focusUserName?P.style_input_line:P.style_input_line_gray,__source:{fileName:r,lineNumber:350}}),s.default.createElement(h.default,{style:[P.style_input_title,1==this.state.focusImageCode||this.state.imageCode.length>0?{color:"rgb(153,153,146)"}:{color:"transparent"},,{marginTop:20}],__source:{fileName:r,lineNumber:357}},"图片验证码"),s.default.createElement(u.TextInputImage,{imageUrl:this.props.url,onImageClick:this._onImageClick,placeholder:1==this.state.focusImageCode?"":"图片验证码",onBlur:function(){return e._onImageCodeBlur()},onFocus:function(){return e._onImageCodeFocus()},onChangeText:function(t){return e._onImageCodeChangeText(t)},ref:function(t){e.imageCodeTextInput=t},value:"",__source:{fileName:r,lineNumber:369}}),s.default.createElement(_.default,{style:1==this.state.focusImageCode?P.style_input_line:P.style_input_line_gray,__source:{fileName:r,lineNumber:379}}),s.default.createElement(_.default,{__source:{fileName:r,lineNumber:386}},s.default.createElement(u.ActionButton,{onPress:function(){e.doNextPage(2)},isDisabled:function(){return e.state.disabled1},text:"下一步",__source:{fileName:r,lineNumber:387}})))}},{key:"renderPage2",value:function(){var e=this;return s.default.createElement(p.default,{style:[P.container,{backgroundColor:"#ffffff"}],__source:{fileName:r,lineNumber:400}},s.default.createElement(_.default,{__source:{fileName:r,lineNumber:401}},s.default.createElement(h.default,{style:[P.style_tip,P.style_tip_phone],__source:{fileName:r,lineNumber:402}},"请输入 ",this.state.username," 收到的短信验证码")),s.default.createElement(h.default,{style:[P.style_input_title,1==this.state.focusPhoneCode||this.state.verifyCode.length>0?{color:"rgb(153,153,146)"}:{color:"transparent"},,{marginTop:0}],__source:{fileName:r,lineNumber:407}},"手机验证码"),s.default.createElement(u.TextInputNormal,{placeholder:1==this.state.focusPhoneCode?"":"请输入手机验证码",onBlur:function(){return e._onPhoneCodeBlur()},onFocus:function(){return e._onPhoneCodeFocus()},onChangeText:function(t){return e._onPhoneCodeChangeText(t)},value:this.props.verifyCode,ref:function(t){e.phoneCodeTextInput=t},__source:{fileName:r,lineNumber:419}}),s.default.createElement(_.default,{style:1==this.state.focusPhoneCode?P.style_input_line:P.style_input_line_gray,__source:{fileName:r,lineNumber:427}}),s.default.createElement(_.default,{__source:{fileName:r,lineNumber:435}},s.default.createElement(u.ActionButton,{onPress:function(){e.doNextPage(3)},isDisabled:function(){return e.state.disabled2},text:"下一步",__source:{fileName:r,lineNumber:436}})))}},{key:"renderPage3",value:function(){var e=this;return s.default.createElement(p.default,{style:[P.container,{backgroundColor:"#ffffff"}],__source:{fileName:r,lineNumber:449}},s.default.createElement(h.default,{style:[P.style_input_title,1==this.state.focusPassword||this.state.password.length>0?{color:"rgb(153,153,146)"}:{color:"transparent"},{marginTop:20}],__source:{fileName:r,lineNumber:450}},"密码"),s.default.createElement(u.TextInputPassword,{placeholder:1==this.state.focusPassword?"":"请输入用户密码",onChangeText:function(t){return e._onPasswordChangeText(t)},onBlur:function(){return e._onPasswordBlur()},onFocus:function(){return e._onPasswordFocus()},ref:function(t){e.passwordTextInput=t},value:"",__source:{fileName:r,lineNumber:461}}),s.default.createElement(_.default,{style:1==this.state.focusPassword?P.style_input_line:P.style_input_line_gray,__source:{fileName:r,lineNumber:470}}),s.default.createElement(h.default,{style:[P.style_input_title,1==this.state.focusPassword1||this.state.password1.length>0?{color:"rgb(153,153,146)"}:{color:"transparent"},{marginTop:20}],__source:{fileName:r,lineNumber:477}},"确认"),s.default.createElement(u.TextInputPassword,{placeholder:1==this.state.focusPassword1?"":"确认密码",onChangeText:function(t){return e._onPassword1ChangeText(t)},value:"",onBlur:function(){return e._onPassword1Blur()},onFocus:function(){return e._onPassword1Focus()},ref:function(t){e.passwordTextInput2=t},__source:{fileName:r,lineNumber:488}}),s.default.createElement(_.default,{style:1==this.state.focusPassword1?P.style_input_line:P.style_input_line_gray,__source:{fileName:r,lineNumber:496}}),s.default.createElement(_.default,{__source:{fileName:r,lineNumber:503}},s.default.createElement(h.default,{style:P.style_tip,__source:{fileName:r,lineNumber:504}},"备注：请将新密码设置为6-20位，至少含数字／字母／字符两种组合。")),s.default.createElement(_.default,{__source:{fileName:r,lineNumber:508}},s.default.createElement(u.ActionButton,{onPress:function(){e.doReset()},isDisabled:function(){return e.state.disabled3},text:"完  成",__source:{fileName:r,lineNumber:509}})),s.default.createElement(h.default,{style:[P.style_loginText,"登录出错"===this.props.status?{color:"red"}:{}],__source:{fileName:r,lineNumber:516}},this.props.status))}},{key:"render",value:function(){return s.default.createElement(o.KeyboardAwareScrollView,{keyboardShouldPersistTaps:"always",keyboardDismissMode:"ios"===d.default.OS?"on-drag":"none",style:[{backgroundColor:"#ffffff",flex:1,marginLeft:0,marginRight:0},"web"===d.default.OS?{width:"100%",height:"100%"}:{}],__source:{fileName:r,lineNumber:536}},s.default.createElement(m.default,{barStyle:"light-content",backgroundColor:"#00baf3",translucent:!1,__source:{fileName:r,lineNumber:538}}),s.default.createElement(_.default,{style:[{flex:1,height:40,alignContent:"center",alignItems:"center",justifyContent:"center"}],__source:{fileName:r,lineNumber:543}},s.default.createElement(h.default,{style:[P.style_tip,P.style_tip_phone,{marginBottom:0,marginTop:20}],__source:{fileName:r,lineNumber:544}},this.state.status)),this.renderPage())}}]),t}());T.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{gesturesEnabled:!(!t.state.params||!t.state.params.gesturesEnabled)&&t.state.params.gesturesEnabled(),headerLeft:t.state.params&&t.state.params.loadLeftTitle?t.state.params.loadLeftTitle():null,headerTitle:s.default.createElement(u.BarItems.TitleBarItem,{text:t.state.params&&t.state.params.loadTitle?t.state.params.loadTitle():"密码管理",__source:{fileName:r,lineNumber:17}}),headerRight:s.default.createElement(_.default,{__source:{fileName:r,lineNumber:18}})}};var P=g.default.create({container:{flex:1,marginLeft:20,marginRight:20},text:{fontSize:18,color:"gray"},style_tip:{marginTop:40,marginLeft:20,marginRight:20,marginBottom:40,fontSize:12,lineHeight:20,color:"#ababab"},style_tip_phone:{color:"#ff000088"},style_login_title:{fontSize:36,height:50,width:76,marginTop:80,marginLeft:0},style_login_image:{height:759*I/1125,width:I,marginTop:0,marginLeft:0,resizeMode:"contain"},style_input_title:{fontSize:12,height:14,width:76,marginTop:5,marginLeft:20},style_image:{borderRadius:35,height:70,width:70,marginTop:440,alignSelf:"center"},style_input_line:{height:1,backgroundColor:"#00baf3",marginLeft:20,marginRight:20},style_input_line_gray:{height:1,backgroundColor:"rgb(243,242,242)",marginLeft:20,marginRight:20},style_view_unlogin:{fontSize:12,color:"#63B8FF",marginLeft:10},style_view_register:{fontSize:12,color:"#63B8FF",marginRight:10,alignItems:"flex-end",flex:1,flexDirection:"row",textAlign:"right"},style_fogotText:{overflow:"hidden",height:20,marginTop:10,marginLeft:20,marginRight:20,alignItems:"center",textAlign:"center",fontSize:14,color:"#000"},style_loginText:{overflow:"hidden",height:20,marginTop:10,marginLeft:20,marginRight:20,borderRadius:20,alignItems:"center",textAlign:"center",fontSize:16,color:"#fff"},style_fogotTextView:{overflow:"hidden",height:40,marginTop:10,width:100,marginLeft:I/2-50}});t.default=(0,y.connect)(function(e){return{type:e.forgot.type,status:e.forgot.status,tip:e.forgot.tip,isSuccess:e.forgot.isSuccess,page:e.forgot.page,url:e.forgot.url,verifyCode:e.forgot.verifyCode,userName:e.forgot.userName,signupKey:e.forgot.signupKey,statusCode:e.forgot.statusCode,errorCount:e.forgot.errorCount}},function(e){return{imageCode:function(){e&&e(b.imageCode())},userCheck:function(t){e&&e(b.userCheck(t))},phoneCode:function(t,n,a){e&&e(b.phoneCode(t,n,a))},phoneCodeVerify:function(t,n){e&&e(b.phoneCodeVerify(t,n))},reset:function(t,n,a){e&&e(b.reset(t,n,a))},gotoPage:function(t){e&&e(b.gotoPage(t))},init:function(){e&&e(b.init())}}})(T)},330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=g(n(64)),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\me\\FeedbackPage.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(63);var o=g(n(1)),l=g(n(3)),u=(g(n(6)),g(n(67))),s=(g(n(2)),g(n(12))),c=(g(n(27)),g(n(14))),f=n(25),d=g(n(10)),p=n(16),m=g(n(336));function g(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.textInputValue={name:null,email:null,title:null,content:null},n._onSubmit=function(e){if(!n.textInputValue.name||n.textInputValue.name.length<1)a.default.info("请输入名称",1);else if(!n.textInputValue.email||n.textInputValue.email.length<1)a.default.info("请输入合法邮箱",1);else{/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(n.textInputValue.email)?!n.textInputValue.title||n.textInputValue.title.length<1?a.default.info("请输入主题"):!n.textInputValue.content||n.textInputValue.content.length<1?a.default.info("请输入内容",1):d.default.feedbacks(n.textInputValue).then(function(e){a.default.success("提交成功",1),n.props.navigation.goBack()}).catch(function(e){a.default.fail("提交失败",1)}):a.default.info("请输入合法邮箱",1)}},n.loadRightTitle=function(){return o.default.createElement(p.BarItems,{navigation:n.props.navigation,__source:{fileName:r,lineNumber:66}},o.default.createElement(p.BarItems.RightBarItem,{text:"提交",navigation:n.props.navigation,onPress:function(e){return n._onSubmit(e)},__source:{fileName:r,lineNumber:67}}))},n.onChangeTextName=function(e){n.textInputValue.name=e},n.onChangeTextEmail=function(e){n.textInputValue.email=e},n.onChangeTextTitle=function(e){n.textInputValue.title=e},n.onChangeTextContent=function(e){n.textInputValue.content=e},n.props.navigation.setParams({loadRightTitle:n.loadRightTitle}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"render",value:function(){return o.default.createElement(f.KeyboardAwareScrollView,{keyboardShouldPersistTaps:"always",keyboardDismissMode:"ios"===c.default.OS?"on-drag":"none",style:[_.container,{backgroundColor:"#ffffff"}],__source:{fileName:r,lineNumber:85}},o.default.createElement(s.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:86}}),o.default.createElement(m.default.EquipmentInfoItemTextInput,{key:"fb1",leftTitle:"姓名：",titleWidth:55,showType:"input",onChangeText:this.onChangeTextName,__source:{fileName:r,lineNumber:87}}),o.default.createElement(m.default,{showType:"line",__source:{fileName:r,lineNumber:88}}),o.default.createElement(m.default.EquipmentInfoItemTextInput,{key:"fb2",leftTitle:"邮箱：",titleWidth:55,showType:"input",onChangeText:this.onChangeTextEmail,__source:{fileName:r,lineNumber:89}}),o.default.createElement(m.default,{showType:"line",__source:{fileName:r,lineNumber:90}}),o.default.createElement(m.default.EquipmentInfoItemTextInput,{key:"fb3",leftTitle:"标题：",titleWidth:55,showType:"input",onChangeText:this.onChangeTextTitle,__source:{fileName:r,lineNumber:91}}),o.default.createElement(m.default,{showType:"line",__source:{fileName:r,lineNumber:92}}),o.default.createElement(u.default,{underlineColorAndroid:"transparent",onChangeText:this.onChangeTextContent,multiline:!0,style:_.text,placeholder:"留言内容...",__source:{fileName:r,lineNumber:94}}))}}]),t}();h.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{headerTitle:o.default.createElement(p.BarItems.TitleBarItem,{text:"意见反馈",__source:{fileName:r,lineNumber:19}}),headerRight:t.state.params&&t.state.params.loadRightTitle?t.state.params.loadRightTitle():null}},t.default=h;var _=l.default.create({container:{height:"100%"},text:{fontSize:15,textAlignVertical:"top",minHeight:120,marginRight:0,marginLeft:0,paddingRight:20,paddingLeft:20,paddingTop:10,marginTop:20,color:"#666666",fontWeight:"100",marginBottom:0,backgroundColor:"#FAFAFA"}})},331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\me\\AboutPage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=p(n(1)),o=p(n(3)),l=p(n(6)),u=p(n(2)),s=p(n(12)),c=p(n(27)),f=p(n(9)),d=n(16);n(25);function p(e){return e&&e.__esModule?e:{default:e}}var m=f.default.get("window"),g=(m.height,m.width,function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement(c.default,{style:[h.container,{backgroundColor:"#ecf0f1"}],__source:{fileName:a,lineNumber:28}},i.default.createElement(s.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:29}}),i.default.createElement(u.default,{style:{flex:1,alignItems:"center",justifyContent:"center",flexDirection:"column"},__source:{fileName:a,lineNumber:30}},i.default.createElement(l.default,{style:h.text,__source:{fileName:a,lineNumber:31}}," BIM协同 v1.0 ")))}}]),t}());g.navigationOptions={headerTitle:i.default.createElement(d.BarItems.TitleBarItem,{text:"关于",__source:{fileName:a,lineNumber:20}}),headerRight:i.default.createElement(u.default,{__source:{fileName:a,lineNumber:21}})},t.default=g;var h=o.default.create({container:{flex:1},text:{fontSize:18,color:"gray"}})},332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BimSearchPage=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\search\\BimSearchPage.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},l=v(n(1)),u=v(n(3)),s=v(n(6)),c=v(n(2)),f=(v(n(12)),v(n(27)),v(n(73))),d=v(n(9)),p=v(n(8)),m=n(44),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(194)),h=v(n(195)),_=v(n(362)),y=(v(n(10)),n(54)),b=n(118);function v(e){return e&&e.__esModule?e:{default:e}}var N=d.default.get("window"),E=N.width,w=(N.height,t.BimSearchPage=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.search=function(e){var t="",a=!0;"图纸文件"===n.state.dataType?(t="dwg",a=!1):(t="rvt",a=!0),n.props.search(e,t,a)},n._itemClick=function(e){"图纸文件"===n.state.dataType?y.BimFileEntry.showBlueprintFromChoose(n.props.navigation,n.state.pageType,e.fileId,e.name):y.BimFileEntry.showModelFromChoose(n.props.navigation,n.state.pageType,e.fileId,e.buildingId,e.buildingName)},n.renderItemView=function(e){var t=e.item,a=e.index;return l.default.createElement(p.default,{activeOpacity:.5,onPress:function(){return n._itemClick(t,a)},__source:{fileName:r,lineNumber:72}},l.default.createElement(c.default,{style:I.containerFileView,__source:{fileName:r,lineNumber:73}},l.default.createElement(_.default,{fileId:t.fileId,__source:{fileName:r,lineNumber:74}}),l.default.createElement(s.default,{style:I.content,__source:{fileName:r,lineNumber:75}}," ",t.name)))},o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setFunc",n).call(n,n.renderContent,n.search),n.props.searchBimFileReset(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default),i(t,[{key:"componentDidMount",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this);var e=this.props.navigation.state.params;this.setState({pageType:e.pageType,dataType:e.dataType})}},{key:"renderContent",value:function(){return l.default.createElement(c.default,{__source:{fileName:r,lineNumber:83}},l.default.createElement(f.default,{style:{width:E},data:this.props.bimFiles,renderItem:this.renderItemView,ItemSeparatorComponent:this._separator,keyExtractor:function(e,t){return e.fileId},__source:{fileName:r,lineNumber:84}}))}}]),t}()),I=u.default.create({containerFileView:{flex:1,height:72,marginLeft:20,flexDirection:"row",alignItems:"center"},content:{left:0,top:15,marginLeft:12,textAlign:"left",fontSize:15,color:"black",alignSelf:"flex-start"}});t.default=(0,m.connect)(function(e){return a({},e)},function(e){return{search:function(t,n,a){e&&e(g.searchBimFile(t,n,a))},loadHistory:function(){e&&e(g.loadHistory(b.SearchHistory.SEARCH_TYPE_BIM))},searchBimFileReset:function(){e&&e(g.searchBimFileReset())}}},function(e,t,n){return a({},n,t,{searchHistory:e.search.searchHistory,bimFiles:e.search.bimFiles,updateIndex:e.updateData.updateIndex})},{withRef:!0})(w)},333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EquipmentSearchPage=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=d(n(1)),l=(d(n(3)),d(n(6)),d(n(2)),d(n(12)),d(n(27)),d(n(19)),n(44)),u=(d(n(10)),d(n(195))),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(194)),c=(d(n(196)),d(n(342))),f=n(118);function d(e){return e&&e.__esModule?e:{default:e}}var p=t.EquipmentSearchPage=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));m.call(n);var a="",r=n.props.navigation.state;return r&&r.params&&r.params.keywords&&(a=r.params.keywords),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setFunc",n).call(n,n.renderContent,n.search,"请输入构件名称/材设名称"),n.states={keywords:a},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"renderContent",value:function(){var e=this;return o.default.createElement(c.default,{onRef:function(t){e.listRef=t},style:{flex:1},qcState:"search",selected:!0,keywords:this.state.keywords,loadData:!1,__source:{fileName:"D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\search\\EquipmentSearchPage.js",lineNumber:47}})}}]),t}(),m=function(){var e=this;this.listRef=null,this.search=function(t){e.setState({keywords:t},function(){e.listRef&&e.listRef.fetchData("search")})}};t.default=(0,l.connect)(function(e){return a({},e)},function(e){return{search:function(t){e&&e(s.search(t))},loadHistory:function(){e&&e(s.loadHistory(f.SearchHistory.SEARCH_TYPE_EQUIPMENT))}}},function(e,t,n){return a({},n,t,{qualityList:e.search.qualityList,totalQuality:e.search.totalQuality,equipmentList:e.search.equipmentList,totalEquipment:e.search.totalEquipment,searchHistory:e.search.searchHistory})},{withRef:!0})(p)},334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QualitySearchPage=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=d(n(1)),l=(d(n(3)),d(n(6)),d(n(2)),d(n(12)),d(n(27)),d(n(19)),n(44)),u=(d(n(10)),d(n(195))),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(194)),c=(d(n(249)),d(n(196)),d(n(378))),f=n(118);function d(e){return e&&e.__esModule?e:{default:e}}var p=t.QualitySearchPage=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));m.call(n);var a="",r=n.props.navigation.state;return r&&r.params&&r.params.keywords&&(a=r.params.keywords),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setFunc",n).call(n,n.renderContent,n.search,"请输入构件名称/质检项"),n.states={keywords:a},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"renderContent",value:function(){var e=this,t=this.props.navigation.getParam("qualityCheckpointId"),n=this.props.navigation.getParam("qualityCheckpointI");return t||(t=0),n||(n=""),o.default.createElement(c.default,{onRef:function(t){e.listRef=t},style:{flex:1},qcState:"search",keywords:this.state.keywords,selected:!0,loadData:!1,qualityCheckpointId:t,qualityCheckpointName:n,__source:{fileName:"D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\search\\QualitySearchPage.js",lineNumber:56}})}}]),t}(),m=function(){var e=this;this.listRef=null,this.search=function(t){e.setState({keywords:t},function(){e.listRef&&e.listRef.fetchData("search")})}};t.default=(0,l.connect)(function(e){return a({},e)},function(e){return{search:function(t){e&&e(s.search(t))},loadHistory:function(){e&&e(s.loadHistory(f.SearchHistory.SEARCH_TYPE_QUALITY))}}},function(e,t,n){return a({},n,t,{qualityList:e.search.qualityList,totalQuality:e.search.totalQuality,equipmentList:e.search.equipmentList,totalEquipment:e.search.totalEquipment,searchHistory:e.search.searchHistory})},{withRef:!0})(p)},335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchPage=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\search\\SearchPage.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},l=I(n(1)),u=I(n(3)),s=I(n(6)),c=I(n(2)),f=(I(n(12)),I(n(27)),I(n(19))),d=I(n(7)),p=I(n(8)),m=n(44),g=I(n(10)),h=I(n(195)),_=w(n(194)),y=I(n(249)),b=I(n(196)),v=w(n(377)),N=w(n(341)),E=n(118);function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}var T=t.SearchPage=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.search=function(e){a.setState({keywords:e},function(){a.props.search(e)})},a.onQualityCellAction=function(e,t,n){"delete"!=n?"submit"!=n||a.props.submitQualityData("",e.value.id,e.value.inspectionType):a.props.deleteQualityData("",e.value.id,e.value.inspectionType)},a.onEquipmentCellAction=function(e,t,n){"delete"!=n?"submit"!=n||a.props.submitEquipmentData(e.value.id):a.props.deleteEquipmentData(e.value.id)},a.renderQualityItemView=function(e){var t=e.item,n=e.index;return t.showTime=""+g.default.formatUnixtimestamp(t.updateTime),t.index=n,t.qcStateShow=""+g.default.toQcStateShow(t.qcState),t.files&&t.files.size>0&&(t.url=t.files[0].url),t={key:""+t.id,value:t},l.default.createElement(y.default,{key:t.key,onCellAction:a.onQualityCellAction,item:t,index:n,__source:{fileName:r,lineNumber:116}})},a.renderEquipmentItemView=function(e){var t=e.item,n=e.index;return t.showTime=""+g.default.formatUnixtimestamp(t.updateTime),t.index=n,t.qcStateShow=1==t.committed?"":""+g.default.toQcStateShow(g.default.QC_STATE_STAGED),t.qcStateColor=1==t.committed?"#FFFFFF":""+g.default.toQcStateShowColor(g.default.QC_STATE_STAGED),t={key:""+t.id,value:t},l.default.createElement(b.default,{key:t.key,onCellAction:a.onEquipmentCellAction,item:t,index:n,keywords:a.state.keywords,__source:{fileName:r,lineNumber:130}})},a.renderQualityContent=function(){return a.props.qualityList&&a.props.qualityList.length>0?l.default.createElement(c.default,{__source:{fileName:r,lineNumber:137}},l.default.createElement(s.default,{style:{color:"#5e5e5e",fontSize:14,marginLeft:20,marginTop:5},__source:{fileName:r,lineNumber:138}},"质检清单"),a.props.qualityList.map(function(e,t){return a.renderQualityItemView({item:e,index:t})}),a.props.qualityList.length<a.props.totalQuality?a.renderMoreView(a.moreQuality):null):null},a.renderEquipmentContent=function(){return a.props.equipmentList&&a.props.equipmentList.length>0?l.default.createElement(c.default,{__source:{fileName:r,lineNumber:157}},l.default.createElement(s.default,{style:{color:"#5e5e5e",fontSize:14,marginLeft:20,marginTop:5},__source:{fileName:r,lineNumber:158}},"材设清单"),a.props.equipmentList.map(function(e,t){return a.renderEquipmentItemView({item:e,index:t})}),a.props.equipmentList.length<a.props.totalEquipment?a.renderMoreView(a.moreEquipment):null):null},a.renderMoreView=function(e){return l.default.createElement(p.default,{onPress:function(t){t.preventDefault(),e&&e(t)},__source:{fileName:r,lineNumber:177}},l.default.createElement(c.default,{style:{flexDirection:"row",alignItems:"center",paddingLeft:20,paddingRight:20,marginTop:5},__source:{fileName:r,lineNumber:178}},l.default.createElement(c.default,{style:{height:1,backgroundColor:"#e6e6e6",flex:1},__source:{fileName:r,lineNumber:179}}),l.default.createElement(s.default,{style:{color:"#b0b0b0",fontSize:14,marginLeft:10},__source:{fileName:r,lineNumber:180}},"查看更多"),l.default.createElement(d.default,{style:{width:14,height:8,marginLeft:5,marginRight:10},source:n(255),__source:{fileName:r,lineNumber:181}}),l.default.createElement(c.default,{style:{height:1,backgroundColor:"#e6e6e6",flex:1},__source:{fileName:r,lineNumber:182}})))},a.moreQuality=function(){a.props.navigation.navigate("QualitySearchPage",{keywords:a.state.keywords})},a.moreEquipment=function(){a.props.navigation.navigate("EquipmentSearchPage",{keywords:a.state.keywords})},o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setFunc",a).call(a,a.renderContent,a.search,"请输入构件名称/质检项/材设名称"),a.states={keywords:""},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default),i(t,[{key:"componentWillReceiveProps",value:function(e){e.updateIndex!=this.props.updateIndex&&this.state.keywords&&this.state.keywords.length>0&&this.props.search(this.state.keywords)}},{key:"renderContent",value:function(){return 0==(this.props.qualityList?this.props.qualityList.length:0)+(this.props.equipmentList?this.props.equipmentList.length:0)&&this.state.keywords&&this.state.keywords.length>0?this.renderEmpty():l.default.createElement(f.default,{style:{marginBottom:20},__source:{fileName:r,lineNumber:83}},l.default.createElement(c.default,{style:{height:"100%"},__source:{fileName:r,lineNumber:84}},this.renderQualityContent(),this.renderEquipmentContent()))}},{key:"renderEmpty",value:function(){return l.default.createElement(c.default,{style:P.emptyContainer,__source:{fileName:r,lineNumber:97}},l.default.createElement(s.default,{__source:{fileName:r,lineNumber:98}},"很抱歉，没有找到相关的内容"))}}]),t}();var P=u.default.create({emptyContainer:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#FFFFFF"}});t.default=(0,m.connect)(function(e){return a({},e)},function(e){return{search:function(t){e&&e(_.search(t))},loadHistory:function(){e&&e(_.loadHistory(E.SearchHistory.SEARCH_TYPE_GLOBAL))},deleteQualityData:function(t,n,a,r,i){e&&e(v.deleteData(t,n,a,r,i))},submitQualityData:function(t,n,a,r,i){e&&e(v.submitData(t,n,a,r,i))},deleteEquipmentData:function(t){e&&e(N.deleteData(t))},submitEquipmentData:function(t){e&&e(N.submitData(t))}}},function(e,t,n){return a({},n,t,{qualityList:e.search.qualityList,totalQuality:e.search.totalQuality,equipmentList:e.search.equipmentList,totalEquipment:e.search.totalEquipment,searchHistory:e.search.searchHistory,updateIndex:e.updateData.updateIndex})},{withRef:!0})(T)},336:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\equipment\\equipmentInfoItem.js",r=h(n(0)),i=h(n(1)),o=h(n(2)),l=h(n(3)),u=h(n(6)),s=h(n(67)),c=h(n(7)),f=h(n(8)),d=h(n(9)),p=h(n(14)),m=h(n(36)),g=h(n(210));function h(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=n(100),N=n(258),E=d.default.get("window"),w=E.width,I=(E.height,function(e){function t(){var e,n,a;_(this,t);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.componentWillMount=function(){a.value=""+a.props.defaultValue},y(a,n)}return b(t,s.default),t}()),T=function(e){function t(e){_(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));P.call(n);var a="key"+Math.random();return a||(a="key"),n.keyPrev=a+(new Date).getTime(),n.state={dValue:n.props.content,focus:!1,key:1},n}return b(t,i.default.Component),t}(),P=function(){var e=this;this.onClick=function(t){e.props.onClick&&e.props.onClick(t)},this.onChangeText=function(t){t=t||"",e.state.dValue=t,e.props.onChangeText&&e.props.onChangeText(t);var n=t.length>0?"flex":"none";e.refs.clearButton.setNativeProps({style:{display:n}})},this.onClear=function(t){var n=e.state.key;e.setState({dValue:n%2?"":null,key:n+1}),e.refs.textInput.focus(),e.props.onClear?e.props.onClear(t):e.props.onChangeText&&e.props.onChangeText("");e.refs.clearButton.setNativeProps({style:{display:"none"}})},this.onBlur=function(t){e.state.focus=!1,e.refs.clearButton.setNativeProps({style:{display:"none"}}),e.props.onBlur&&e.props.onBlur(t)},this.onFocus=function(t){var n=e.state.dValue||"";e.state.focus=!0;var a=n.length>0&&e.state.focus?"flex":"none";e.refs.clearButton.setNativeProps({style:{display:a}}),e.props.onFocus&&e.props.onFocus(t)},this.render=function(){return i.default.createElement(o.default,{style:C.containerView,__source:{fileName:a,lineNumber:83}},i.default.createElement(o.default,{style:[C.titleView,e.props.titleWidth?{width:e.props.titleWidth}:null],__source:{fileName:a,lineNumber:84}},i.default.createElement(u.default,{style:[C.leftTitle,e.props.leftTitleColor?{color:e.props.leftTitleColor}:{}],__source:{fileName:a,lineNumber:85}},e.props.leftTitle)),i.default.createElement(o.default,{style:[C.contentInputView,e.props.titleWidth?{width:w-40-e.props.titleWidth}:null],__source:{fileName:a,lineNumber:87}},i.default.createElement(I,{key:e.keyPrev+e.state.key,onFocus:e.onFocus,onBlur:e.onBlur,ref:"textInput",returnKeyType:"next",underlineColorAndroid:"transparent",autoCorrect:!1,autoCapitalize:"none",defaultValue:e.state.dValue,value:"ios"===p.default.OS?e.state.dValue:null,style:C.textInput,onChangeText:function(t){return e.onChangeText(t)},__source:{fileName:a,lineNumber:88}})),"ios"===p.default.OS?i.default.createElement(f.default,{ref:"clearButton",style:[C.rightAction,e.state.dValue&&e.state.dValue.length>0&&e.state.focus?{}:{display:"none"}],activeOpacity:.5,onPress:function(t){t.preventDefault(),e.onClear(t)},__source:{fileName:a,lineNumber:95}},i.default.createElement(c.default,{source:N,style:C.inputClear,__source:{fileName:a,lineNumber:96}})):i.default.createElement(o.default,{style:C.rightAction,__source:{fileName:a,lineNumber:97}},i.default.createElement(f.default,{ref:"clearButton",style:[e.state.dValue&&e.state.dValue.length>0&&e.state.focus?{}:{display:"none"}],activeOpacity:.5,onPress:function(t){t.preventDefault(),e.onClear(t)},__source:{fileName:a,lineNumber:98}},i.default.createElement(c.default,{source:N,style:C.inputClear,__source:{fileName:a,lineNumber:99}}))))},this.renderClickInput=function(t){return i.default.createElement(o.default,{style:C.containerView,__source:{fileName:a,lineNumber:109}},i.default.createElement(o.default,{style:[C.titleView,e.props.titleWidth?{width:e.props.titleWidth}:null],__source:{fileName:a,lineNumber:110}},i.default.createElement(u.default,{style:[C.leftTitle,e.props.leftTitleColor?{color:e.props.leftTitleColor}:{}],__source:{fileName:a,lineNumber:111}},e.props.leftTitle)),i.default.createElement(o.default,{style:C.contentInputView,__source:{fileName:a,lineNumber:113}},i.default.createElement(I,{defaultValue:t,style:C.textInput,returnKeyType:"next",underlineColorAndroid:"transparent",autoCorrect:!1,autoCapitalize:"none",__source:{fileName:a,lineNumber:114}})),i.default.createElement(f.default,{style:[C.rightAction,{}],activeOpacity:.5,onPress:function(t){t.preventDefault(),e.onClick(t)},__source:{fileName:a,lineNumber:116}},i.default.createElement(c.default,{source:v,style:C.infoMark,__source:{fileName:a,lineNumber:117}})))}},S=function(e){function t(){var e,n,r;_(this,t);for(var l=arguments.length,s=Array(l),d=0;d<l;d++)s[d]=arguments[d];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.onClick=function(e){r.props.onClick&&r.props.onClick()},r.renderInput=function(){console.log("renderInput");var e=r.props.content;return e&&(e=""+e),r.props.onClick?r.renderClickInput(e):i.default.createElement(o.default,{style:C.containerView,__source:{fileName:a,lineNumber:143}},i.default.createElement(o.default,{style:[C.titleView,r.props.titleWidth?{width:r.props.titleWidth}:null],__source:{fileName:a,lineNumber:144}},i.default.createElement(u.default,{style:[C.leftTitle,r.props.leftTitleColor?{color:r.props.leftTitleColor}:{}],__source:{fileName:a,lineNumber:145}},r.props.leftTitle)),i.default.createElement(o.default,{style:[C.contentInputView,r.props.titleWidth?{width:w-40-r.props.titleWidth}:null],__source:{fileName:a,lineNumber:147}},i.default.createElement(I,{ref:"textInput",onFocus:function(){},returnKeyType:"next",underlineColorAndroid:"transparent",autoCorrect:!1,autoCapitalize:"none",defaultValue:e,style:C.textInput,onChangeText:function(e){e=e||"",r.props.onChangeText(e)},__source:{fileName:a,lineNumber:148}})))},r.renderClickInput=function(e){return i.default.createElement(o.default,{style:C.containerView,__source:{fileName:a,lineNumber:160}},i.default.createElement(o.default,{style:[C.titleView,r.props.titleWidth?{width:r.props.titleWidth}:null],__source:{fileName:a,lineNumber:161}},i.default.createElement(u.default,{style:[C.leftTitle,r.props.leftTitleColor?{color:r.props.leftTitleColor}:{}],__source:{fileName:a,lineNumber:162}},r.props.leftTitle)),i.default.createElement(o.default,{style:C.contentInputView,__source:{fileName:a,lineNumber:164}},i.default.createElement(I,{defaultValue:e,style:C.textInput,returnKeyType:"next",underlineColorAndroid:"transparent",autoCorrect:!1,autoCapitalize:"none",__source:{fileName:a,lineNumber:165}})),i.default.createElement(f.default,{style:[C.rightAction,{}],activeOpacity:.5,onPress:function(e){e.preventDefault(),r.onClick(e)},__source:{fileName:a,lineNumber:167}},i.default.createElement(c.default,{source:v,style:C.infoMark,__source:{fileName:a,lineNumber:168}})))},r.renderHeaderInfo=function(){return r.props.onClick?i.default.createElement(o.default,{style:[C.containerView,{height:40}],__source:{fileName:a,lineNumber:189}},i.default.createElement(o.default,{style:C.titleViewHeader,__source:{fileName:a,lineNumber:190}},i.default.createElement(u.default,{style:{backgroundColor:"#00b5f2",width:2,marginRight:5,height:16,fontSize:20,fontWeight:"bold"},__source:{fileName:a,lineNumber:191}}," "),i.default.createElement(u.default,{style:[C.leftTitleHeader,r.props.leftTitleColor?{color:r.props.leftTitleColor}:{}],__source:{fileName:a,lineNumber:192}},r.props.leftTitle)),i.default.createElement(o.default,{style:C.contentView,__source:{fileName:a,lineNumber:194}},i.default.createElement(u.default,{style:C.content,__source:{fileName:a,lineNumber:195}},r.props.content)),i.default.createElement(f.default,{style:C.rightAction,activeOpacity:.5,onPress:function(e){e.preventDefault(),r.onClick(e)},__source:{fileName:a,lineNumber:197}},i.default.createElement(c.default,{source:v,style:C.infoMark,__source:{fileName:a,lineNumber:198}}))):i.default.createElement(o.default,{style:C.containerView,__source:{fileName:a,lineNumber:177}},i.default.createElement(o.default,{style:C.titleViewHeader,__source:{fileName:a,lineNumber:178}},i.default.createElement(u.default,{style:{backgroundColor:"#00b5f2",width:2,marginRight:5,height:16,fontSize:20,fontWeight:"bold"},__source:{fileName:a,lineNumber:179}}," "),i.default.createElement(u.default,{style:[C.leftTitleHeader,r.props.leftTitleColor?{color:r.props.leftTitleColor}:{}],__source:{fileName:a,lineNumber:180}},r.props.leftTitle)),i.default.createElement(o.default,{style:C.contentView,__source:{fileName:a,lineNumber:182}},i.default.createElement(u.default,{style:C.content,__source:{fileName:a,lineNumber:183}},r.props.content)))},r.renderInfo=function(){return r.props.onClick?i.default.createElement(o.default,{style:[C.containerView,{height:40}],__source:{fileName:a,lineNumber:217}},i.default.createElement(o.default,{style:C.titleView,__source:{fileName:a,lineNumber:218}},i.default.createElement(u.default,{style:[C.leftTitle,r.props.leftTitleColor?{color:r.props.leftTitleColor}:{}],__source:{fileName:a,lineNumber:219}},r.props.leftTitle)),i.default.createElement(f.default,{activeOpacity:.5,style:{flex:1,marginLeft:2},onPress:function(e){e.preventDefault(),r.onClick(e)},__source:{fileName:a,lineNumber:221}},i.default.createElement(u.default,{style:[C.content,{textAlignVertical:"center"}],__source:{fileName:a,lineNumber:222}},r.props.content)),i.default.createElement(f.default,{activeOpacity:.5,onPress:function(e){e.preventDefault(),r.onClick(e)},__source:{fileName:a,lineNumber:224}},i.default.createElement(c.default,{source:v,style:C.infoMark,__source:{fileName:a,lineNumber:225}}))):i.default.createElement(o.default,{style:[C.containerView,{height:40}],__source:{fileName:a,lineNumber:206}},i.default.createElement(o.default,{style:C.titleView,__source:{fileName:a,lineNumber:207}},i.default.createElement(u.default,{style:C.leftTitle,__source:{fileName:a,lineNumber:208}},r.props.leftTitle)),i.default.createElement(o.default,{style:C.contentView,__source:{fileName:a,lineNumber:210}},i.default.createElement(u.default,{style:C.content,__source:{fileName:a,lineNumber:211}},r.props.content)))},r.renderLink=function(){return i.default.createElement(o.default,{style:C.containerView,__source:{fileName:a,lineNumber:233}},i.default.createElement(o.default,{style:C.titleView,__source:{fileName:a,lineNumber:234}},i.default.createElement(u.default,{style:C.leftTitle,__source:{fileName:a,lineNumber:235}},r.props.leftTitle)),i.default.createElement(o.default,{style:C.contentView,__source:{fileName:a,lineNumber:237}},i.default.createElement(f.default,{style:{flex:1},activeOpacity:.5,onPress:function(e){e.preventDefault(),r.onClick(e)},__source:{fileName:a,lineNumber:238}},i.default.createElement(u.default,{style:[C.content,C.link],__source:{fileName:a,lineNumber:239}},r.props.content)),r.props.onClick?i.default.createElement(f.default,{activeOpacity:.5,onPress:function(e){e.preventDefault(),r.onClick(e)},__source:{fileName:a,lineNumber:243}},i.default.createElement(c.default,{source:v,style:C.infoMark,__source:{fileName:a,lineNumber:244}})):null))},r.renderLine=function(){return i.default.createElement(o.default,{style:[C.containerView,C.lineView],__source:{fileName:a,lineNumber:255}})},r.bigImage=function(e,t){var n=[];e.map(function(e,t){var a=e.url;m.default.isOnLine()||e&&(a="file://"+(new g.default).getImagePathById(e.objectId));n.push({photo:a,objectId:e.objectId})}),storage.pushNext(null,"BigImageViewPage",{media:n,index:t})},r.renderImage=function(){var e=r.props.url;if(!m.default.isOnLine()&&e){var t="file://"+(new g.default).getImagePathById(e.objectId);e.url=t}return i.default.createElement(o.default,{style:C.containerView,__source:{fileName:a,lineNumber:287}},i.default.createElement(f.default,{activeOpacity:.5,onPress:function(t){t.preventDefault(),r.bigImage([e],0)},__source:{fileName:a,lineNumber:288}},e.url?i.default.createElement(c.default,{source:{uri:e.url},style:C.imageMax,__source:{fileName:a,lineNumber:293}}):null))},r.renderImages=function(){return i.default.createElement(o.default,{style:C.containerView,__source:{fileName:a,lineNumber:302}},r.props.urls.map(function(e,t){if(!m.default.isOnLine()&&e){var n="file://"+(new g.default).getImagePathById(e.objectId);e.url=n}return i.default.createElement(f.default,{key:"xxx"+t,activeOpacity:.5,onPress:function(e){e.preventDefault(),r.bigImage(r.props.urls,t)},__source:{fileName:a,lineNumber:314}},e.url?i.default.createElement(c.default,{source:{uri:e.url},style:C.imageNarmal,__source:{fileName:a,lineNumber:317}}):null)}))},r.renderItem=function(){return i.default.createElement(o.default,{style:C.containerView,__source:{fileName:a,lineNumber:330}},i.default.createElement(o.default,{style:C.titleView,__source:{fileName:a,lineNumber:331}},i.default.createElement(u.default,{style:C.leftTitle,__source:{fileName:a,lineNumber:332}},r.props.leftTitle)),i.default.createElement(o.default,{style:C.contentView,__source:{fileName:a,lineNumber:334}},i.default.createElement(u.default,{style:C.content,__source:{fileName:a,lineNumber:335}},r.props.content)))},r.render=function(){return"headerInfo"===r.props.showType?r.renderHeaderInfo():"info"===r.props.showType?r.renderInfo():"link"===r.props.showType?r.renderLink():"line"===r.props.showType?r.renderLine():"image"===r.props.showType?r.renderImage():"images"===r.props.showType?r.renderImages():"input"===r.props.showType?r.renderInput():r.renderItem()},y(r,n)}return b(t,i.default.Component),t}();S.EquipmentInfoItemTextInput=T,t.default=S,S.propTypes={showType:r.default.string,onClick:r.default.func,onChangeText:r.default.func,onValueChange:r.default.func,leftTitle:r.default.any,leftTitleColor:r.default.any,content:r.default.any,url:r.default.any,urls:r.default.array,titleWidth:r.default.any};var C=l.default.create({containerView:{marginTop:5,marginBottom:5,marginLeft:20,marginRight:20,flexDirection:"row",alignItems:"center"},textInput:{color:"#666666",fontSize:16,fontWeight:"200",marginTop:0,marginBottom:0,marginRight:15,height:40},content:{fontSize:16,fontWeight:"100",alignContent:"center",color:"#666666"},link:{color:"#00b5f2",textDecorationLine:"underline",fontSize:16,marginRight:75,fontWeight:"100"},leftTitle:{fontSize:16,width:"100%",color:"#000000",fontWeight:"200"},leftTitleHeader:{fontSize:14,width:"100%",color:"#666666",fontWeight:"200"},titleViewHeader:{flexDirection:"row",alignItems:"center"},titleView:{flexDirection:"row",alignItems:"center",width:85},contentView:{flexDirection:"row",marginRight:85,height:40,width:w-85-40,alignItems:"center"},contentViewAction:{flexDirection:"row",height:40,flex:1,alignContent:"center",alignItems:"center",justifyContent:"flex-end"},contentInputView:{width:w-85-40,height:40},infoMark:{marginRight:-1,width:17,height:17,resizeMode:"contain"},inputClear:{marginRight:0,width:17,height:17,resizeMode:"contain"},rightAction:{right:0,width:20,flexDirection:"row-reverse",position:"absolute",alignItems:"center",alignContent:"flex-start",justifyContent:"flex-start",display:"flex"},lineView:{height:1,marginTop:0,marginBottom:0,marginLeft:20,width:"100%",backgroundColor:"#f7f7f7"},imageNarmal:{marginRight:10,width:106,height:106,resizeMode:"cover"},imageMax:{width:230,height:230,resizeMode:"contain"}})},338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\equipment\\EquipmentDetailPage.js",r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(25),l=n(25),u=I(n(10)),s=n(16),c=n(54),f=n(1),d=I(f),p=I(n(93)),m=I(n(66)),g=I(n(14)),h=I(n(12)),_=I(n(6)),y=I(n(2)),b=n(44),v=w(n(549)),N=w(n(356)),E=I(n(548));function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}var T=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._onSubmit=function(e){!0===e.skip&&(e=r({},e,{quantity:"",unit:"",specification:"",modelNum:"",elementId:"",elementName:"",manufacturer:"",brand:"",supplier:""})),n.props.submit(e,n.props.navigation)},n._onSave=function(e){!0===e.skip&&(e=r({},e,{quantity:"",unit:"",specification:"",modelNum:"",elementId:"",elementName:"",manufacturer:"",brand:"",supplier:""})),n.props.save(e)},n.gesturesEnabled=function(){return!1},n.loadRightTitle=function(){var e=n.props.equipmentInfo,t=c.AuthorityManager.isEquipmentCreate()&&!n.state.committed,r=e.editType,i=e.id;e.preEditType;return i?r!=u.default.EQUIPMENT_EDIT_TYPE_BASE&&r!=u.default.EQUIPMENT_EDIT_TYPE_OTHER&&r!=u.default.EQUIPMENT_EDIT_TYPE_IMAGE||(t=!1):r&&r!=u.default.EQUIPMENT_EDIT_TYPE_CONFIRM&&(t=!1),t?d.default.createElement(s.BarItems,{navigation:n.props.navigation,__source:{fileName:a,lineNumber:84}},d.default.createElement(s.BarItems.RightBarItem,{text:"提交",navigation:n.props.navigation,onPress:function(){return n._onSubmit(e)},__source:{fileName:a,lineNumber:85}})):d.default.createElement(y.default,{__source:{fileName:a,lineNumber:89}})},n.check=function(e){var t=e.editType;e.preEditType;return t==u.default.EQUIPMENT_EDIT_TYPE_BASE&&(e&&e.acceptanceCompanyName&&e.acceptanceCompanyName.length>0&&e.batchCode&&e.batchCode.length>0&&e.approachDate&&e.approachDate>0&&e.facilityCode&&e.facilityCode.length>0&&e.facilityName&&e.facilityName.length>0)},n.tipSave=function(e,t){v.isEditInfoChange(t,n.props.oldData,function(a){a?s.ActionModal.alert("是否确认退出当前页面？","您还未保存当前数据！",[{text:"取消",style:{color:"#5b5b5b"},onPress:function(){e&&e(!1)}},{text:"不保存",style:{color:"#e75452"},onPress:function(){e&&e(!0)}},{text:"保存",style:{color:"#00baf3"},onPress:function(){n._onSave(t)}}]):e&&e(!0)})},n.needBack=function(e){var t=n.props.equipmentInfo,a=t.editType,i=t.preEditType;if(a!=u.default.EQUIPMENT_EDIT_TYPE_CONFIRM){if(i){if(i===u.default.EQUIPMENT_EDIT_TYPE_CONFIRM){var o=r({},t,{preEditType:null,editType:i});return n.switchPage(o),void(e&&e(!1))}if(i===u.default.EQUIPMENT_EDIT_TYPE_BASE||i===u.default.EQUIPMENT_EDIT_TYPE_OTHER||i===u.default.EQUIPMENT_EDIT_TYPE_IMAGE){var l=null,s=t.skip;i===u.default.EQUIPMENT_EDIT_TYPE_IMAGE?(l=u.default.EQUIPMENT_EDIT_TYPE_OTHER,s=!1):i===u.default.EQUIPMENT_EDIT_TYPE_OTHER?(l=u.default.EQUIPMENT_EDIT_TYPE_BASE,s=!1):i===u.default.EQUIPMENT_EDIT_TYPE_BASE&&(l=null,s=!1);var c=r({},t,{skip:s,preEditType:l,editType:i});return n.switchPage(c),void(e&&e(!1))}}e&&e(!0)}else n.tipSave(e,t)},n.loadLeftTitle=function(){return d.default.createElement(s.BarItems,{top:!1,needBack:n.needBack,navigation:n.props.navigation,currentItem:u.default.APP_EQUIPMENT,__source:{fileName:a,lineNumber:175}})},n.switchPage=function(e){n.props.switchPage(e)},n.registerBackhandler=function(){if("android"===g.default.OS){var e=p.default.BackHandler?p.default.BackHandler:p.default.BackAndroid;n.backListener=e.addEventListener("hardwareBackPress",function(){return storage.currentRouteName===n.props.navigation.state.routeName&&(n.needBack(function(e){e&&storage.pop(n.props.navigation,1)}),!0)})}"web"===g.default.OS&&(n.backListener=o.BackHandler.addEventListener("hardwareBackPress",function(){return storage.currentRouteName===n.props.navigation.state.routeName&&(n.needBack(function(e){e&&storage.pop(n.props.navigation,1)}),!0)}))},n.renderData=function(){var e=n.props.equipmentInfo;return d.default.createElement(l.KeyboardAwareScrollView,{keyboardShouldPersistTaps:"always",keyboardDismissMode:"ios"===g.default.OS?"on-drag":"none",style:{backgroundColor:"#FAFAFA"},__source:{fileName:a,lineNumber:281}},d.default.createElement(h.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:282}}),d.default.createElement(E.default,{committed:n.state.committed,equipmentInfo:e,acceptanceCompanies:n.props.acceptanceCompanies,switchPage:n.switchPage,save:n._onSave,equipmentDelete:function(e){n.props.equipmentDelete(e,n.props.navigation)},__source:{fileName:a,lineNumber:283}}))};var i=n.props.navigation.state.params.item;return n.state={committed:i&&i.value&&i.value.committed},n.props.navigation.setParams({loadLeftTitle:n.loadLeftTitle,loadRightTitle:n.loadRightTitle,gesturesEnabled:n.gesturesEnabled}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){e.equipmentInfo.editType!=this.props.equipmentInfo.editType&&this.props.navigation.setParams({loadLeftTitle:this.loadLeftTitle,loadRightTitle:this.loadRightTitle,gesturesEnabled:this.gesturesEnabled}),e.relevantEquipmentModle&&e.relevantEquipmentModle.gdocFileId&&e.relevantEquipmentModle.elementId&&e.relevantEquipmentModle!=this.props.relevantEquipmentModle&&this.props.getModelElementProperty(e.relevantEquipmentModle,this.props.equipmentInfo)}},{key:"componentDidMount",value:function(){this.registerBackhandler();var e=this.props.fetchData,t=this.props.navigation.state.params.item;if(t){if(t.id)return void e(t.id);if(t.value&&t.value.id)return void e(t.value.id)}e(null),this.props.getModelElementProperty(this.props.relevantEquipmentModle,this.props.equipmentInfo)}},{key:"componentWillUnmount",value:function(){(0,this.props.resetData)(),this.props.resetTransformInfo(),this.removeBackListener()}},{key:"removeBackListener",value:function(){this.backListener&&(this.backListener.remove(),this.backListener=null)}},{key:"renderLoadingView",value:function(){return d.default.createElement(y.default,{__source:{fileName:a,lineNumber:254}},d.default.createElement(h.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:255}}),d.default.createElement(m.default,{animating:!0,style:[{height:80}],color:"green",size:"large",__source:{fileName:a,lineNumber:256}}))}},{key:"renderErrorView",value:function(e){return d.default.createElement(y.default,{__source:{fileName:a,lineNumber:269}},d.default.createElement(h.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:270}}),d.default.createElement(_.default,{__source:{fileName:a,lineNumber:271}},"加载失败"))}},{key:"render",value:function(){return this.props.isLoading&&!this.props.error?this.renderLoadingView():this.props.error?this.renderErrorView(this.props.error):this.renderData()}}]),t}();T.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{headerTitle:d.default.createElement(s.BarItems.TitleBarItem,{text:"材设进场记录",__source:{fileName:a,lineNumber:20}}),gesturesEnabled:!(!t.state.params||!t.state.params.gesturesEnabled)&&t.state.params.gesturesEnabled(),headerLeft:t.state.params&&t.state.params.loadLeftTitle?t.state.params.loadLeftTitle():d.default.createElement(s.BarItems,{__source:{fileName:a,lineNumber:22}}),headerRight:t.state.params&&t.state.params.loadRightTitle?t.state.params.loadRightTitle():d.default.createElement(y.default,{__source:{fileName:a,lineNumber:23}})}},t.default=(0,b.connect)(function(e){return{equipmentInfo:e.equipmentInfo.data,oldData:e.equipmentInfo.oldData,acceptanceCompanies:e.equipmentInfo.acceptanceCompanies,isLoading:e.equipmentInfo.isLoading,error:e.equipmentInfo.error,updateIndex:e.updateData.updateIndex,relevantEquipmentModle:e.transformInfo.relevantEquipmentModle}},function(e){return{fetchData:function(t){e&&e(v.fetchData(t))},resetData:function(){e&&e(v.reset())},switchPage:function(t){e&&e(v.switchPage(t))},save:function(t){e&&e(v.save(t))},submit:function(t,n){e&&e(v.submit(t,n))},equipmentDelete:function(t,n){e&&e(v.equipmentDelete(t,n))},getModelElementProperty:function(t,n){t&&t.gdocFileId&&t.elementId&&e&&e(v.getModelElementProperty(t,n))},resetTransformInfo:function(){e&&e(N.resetTransformInfo())}}})(T)},341:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteData=function(e){return function(t){a.default.equipmentDelete(storage.loadProject(),e).then(function(e){t(o.updateData())}).catch(function(e){console.log(e)})}},t.submitData=function(e){return function(t){a.default.equipmentDetail(storage.loadProject(),e).then(function(n){var r=n.data;a.default.equipmentEditSubmit(storage.loadProject(),e,JSON.stringify(r)).then(function(e){t(o.updateData())}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},t.fetchData=function(e,t,n){return function(r){!function(e,t,n,r){0==t&&r(d(e,t));t<0&&(t=0);if(l.default.isOnLine())a.default.equipmentList(storage.loadProject(),e,t,20,"updateTime,desc").then(function(i){var o=i.data.content,l=0==i.data.last,u=new Map,s=0,c=[];t>0&&n&&(u=n),o.forEach(function(e){e.showTime=""+a.default.formatUnixtimestamp(e.updateTime),e.index=s,e.qcStateShow=1==e.committed?"":""+a.default.toQcStateShow(a.default.QC_STATE_STAGED),e.qcStateColor=1==e.committed?"#FFFFFF":""+a.default.toQcStateShowColor(a.default.QC_STATE_STAGED);var t=e.showTime.substring(0,10),n=u.get(t);void 0==n&&(n=[],u.set(t,n));var r=(new Date).getTime();n.push({key:e.id+"-"+r,value:e}),s++}),u.forEach(function(e,t,n){c.push({key:t,data:e})}),r(p(c,u,e,t,l)),o=null,c=null,u=null}).catch(function(n){r(m(n,e,t))});else{var i=u.default.getEquipmentManager();i.getEquipmentList(e,t,20).then(function(i){console.log("result==============="),console.log(JSON.stringify(i));var o=i.list,l=i.total,u=!0;u=!(o.length<20)&&20*t+20!=l;var s=new Map,c=0,f=[];t>0&&n&&(s=n),o.forEach(function(e){e.showTime=""+a.default.formatUnixtimestamp(e.updateTime),e.index=c,e.isOffline||(e.qcStateShow=1==e.committed?"":""+a.default.toQcStateShow(a.default.QC_STATE_STAGED),e.qcStateColor=1==e.committed?"#FFFFFF":""+a.default.toQcStateShowColor(a.default.QC_STATE_STAGED));var t=e.showTime.substring(0,10),n=s.get(t);void 0==n&&(n=[],s.set(t,n));var r=(new Date).getTime();n.push({key:e.id+"-"+r,value:e}),c++}),s.forEach(function(e,t,n){f.push({key:t,data:e})}),console.log(f),console.log("000000000000000000000"),console.log(s),r(p(f,s,e,t,u)),o=null,f=null,s=null}).catch(function(n){console.log("cccccccccccccccccccccccc"),r(m(n,e,t))})}}(e,t,n,r)}},t.searchData=function(e,t,n,r){return function(o){0==t&&(!function(e,t){if(!e||0==e.length)return;var n=s.SearchHistory.saveHistory(e,s.SearchHistory.SEARCH_TYPE_EQUIPMENT);t(function(e){return{type:i.LOAD_SEARCH_HISTORY,searchHistory:e}}(n))}(e,o),o(d(n,t))),t<0&&(t=0),a.default.searchEquipmentData(storage.loadProject(),e,t,20).then(function(e){var i=e.data.content,l=0==e.data.last,u=new Map,s=0,c=[];t>0&&r&&(u=r),i.forEach(function(e){e.showTime=""+a.default.formatUnixtimestamp(e.updateTime),e.index=s,e.qcStateShow=""+a.default.toQcStateShow(e.qcState),e.files&&e.files.size>0&&(e.url=e.files[0].url);var t=e.showTime.substring(0,10),n=u.get(t);void 0==n&&(n=[],u.set(t,n)),n.push({key:""+e.id,value:e}),s++}),u.forEach(function(e,t,n){c.push({key:t,data:e})}),o(p(c,u,n,t,l)),i=null,c=null,u=null}).catch(function(e){o(m(e,n,t))})}},t.reset=function(e){return function(t){t(function(e){return{type:r.EQUIPMENT_LIST_INIT,qcState:e}}(e))}};var a=f(n(10)),r=c(n(420)),i=c(n(208)),o=c(n(143)),l=f(n(36)),u=f(n(41)),s=n(118);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return{type:r.EQUIPMENT_LIST_DOING,qcState:e,page:t}}function p(e,t,n,a,i){return{type:r.EQUIPMENT_LIST_DONE,data:e,dataMap:t,qcState:n,page:a,hasMore:i}}function m(e,t,n){return{type:r.EQUIPMENT_LIST_ERROR,error:e,qcState:t,page:n}}},342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EquipmentListView=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\equipment\\equipmentListView.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(25),l=n(16),u=n(1),s=_(u),c=_(n(9)),f=_(n(12)),d=_(n(3)),p=_(n(2)),m=n(44),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(341)),h=_(n(196));function _(e){return e&&e.__esModule?e:{default:e}}var y=c.default.get("window"),b=y.width,v=y.height,N=t.EquipmentListView=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._sectionData=function(e){return n.state.sectionArray},n._keyExtractor=function(e,t){return t},n.fetchData=function(e){n._fetchData(e,0)},n._fetchData=function(e,t){"search"===e?n.props.searchData(n.props.keywords,t,e,n.props.dataMap):(n.props.fetchData(e,t,n.props.dataMap),t<1&&n.props.updateNumber&&n.props.updateNumber())},n.componentWillReceiveProps=function(e){return e.updateIndex==n.props.updateIndex||!n.props.selected||(n._fetchData(n.props.qcState,0),!0)},n.onCellAction=function(e,t,a){"delete"!=a?"submit"!=a||n.props.submitData(e.value.id):n.props.deleteData(e.value.id)},n.renderItemView=function(e){var t=e.item,a=e.index;return s.default.createElement(h.default,{onCellAction:n.onCellAction,item:t,index:a,keywords:n.props.keywords,__source:{fileName:r,lineNumber:97}})},n._sectionComp=function(e){var t=e.section.key;return s.default.createElement(l.DateGroupHeaderView,{key:t,text:t,__source:{fileName:r,lineNumber:103}})},n._onEndReached=function(){n.props.isLoading||0==n.props.hasMore||n._fetchData(n.props.qcState,n.props.page)},n._onRefresh=function(){n._fetchData(n.props.qcState,-1)},n._emptyView=function(){return s.default.createElement(p.default,{style:{alignItems:"center",justifyContent:"center",width:b,height:v-44-20-49},__source:{fileName:r,lineNumber:116}},s.default.createElement(l.NoDataView,{text:"暂无数据",image:l.NoDataView.NoDataImage,__source:{fileName:r,lineNumber:116}}))},n.scrollToOffset=function(){n.refs.sectionList.scrollTo&&n.refs.sectionList.scrollTo()},n.renderData=function(){return"search"===n.props.qcState&&n.props.keywords&&n.props.keywords.length>0&&(!n.props.dataArray||0===n.props.dataArray.length)?n.renderEmpty():s.default.createElement(o.SectionList,{ref:"sectionList",style:{height:"100%",width:"100%"},sections:n.props.dataArray,renderItem:n.renderItemView,renderSectionHeader:n._sectionComp,stickySectionHeadersEnabled:!1,onRefresh:n._onRefresh,refreshing:n.props.isLoading,onEndReached:n._onEndReached,onEndReachedThreshold:1,ListEmptyComponent:n._emptyView,__source:{fileName:r,lineNumber:138}})},e.onRef&&e.onRef(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.PureComponent),i(t,[{key:"componentDidMount",value:function(){this.fetchData(this.props.qcState)}},{key:"renderLoadingView",value:function(){return s.default.createElement(p.default,{style:E.container,__source:{fileName:r,lineNumber:62}},s.default.createElement(f.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:63}}),s.default.createElement(l.LoadingView,{__source:{fileName:r,lineNumber:64}}))}},{key:"renderErrorView",value:function(e){return"search"===this.props.qcState&&this.props.keywords&&this.props.keywords.length>0&&(!this.props.dataArray||0===this.props.dataArray.length)?this.renderEmpty():s.default.createElement(p.default,{style:E.container,__source:{fileName:r,lineNumber:77}},s.default.createElement(f.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:78}}),s.default.createElement(l.NoDataView,{text:"加载失败",image:l.NoDataView.NoDataImage,__source:{fileName:r,lineNumber:79}}))}},{key:"renderEmpty",value:function(){return s.default.createElement(p.default,{style:E.emptyContainer,__source:{fileName:r,lineNumber:126}},s.default.createElement(l.NoDataView,{text:"很抱歉，没有找到相关的内容",image:l.NoDataView.NoDataImage,__source:{fileName:r,lineNumber:127}}))}},{key:"render",value:function(){return this.props.isLoading&&!this.props.error?this.renderLoadingView():this.props.error?this.renderErrorView(this.props.error):this.renderData()}}]),t}(),E=d.default.create({contentHeader:{height:30,top:0},gray:{top:100,left:b/2-30,position:"absolute"},emptyContainer:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#FFFFFF"},container:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#F5FCFF"}});t.default=(0,m.connect)(function(e){return a({},e)},function(e){return{fetchData:function(t,n,a,r,i){e&&e(g.fetchData(t,n,a,r,i))},resetData:function(t,n,a){e&&e(g.reset(t,n,a))},deleteData:function(t){e&&e(g.deleteData(t))},submitData:function(t){e&&e(g.submitData(t))},searchData:function(t,n,a,r){e&&e(g.searchData(t,n,a,r))}}},function(e,t,n){return a({},n,t,{dataArray:e.equipmentList.datas[n.qcState].data,dataMap:e.equipmentList.datas[n.qcState].dataMap,page:e.equipmentList.datas[n.qcState].page,isLoading:e.equipmentList.datas[n.qcState].isLoading,error:e.equipmentList.datas[n.qcState].error,hasMore:e.equipmentList.datas[n.qcState].hasMore,updateIndex:e.updateData.updateIndex})})(N)},354:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\equipment\\EquipmentMainPage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=f(n(1)),o=f(n(3)),l=(f(n(103)),f(n(2)),f(n(6)),f(n(7)),f(n(8)),f(n(9)),n(353),f(n(10))),u=n(16),s=n(54),c=f(n(550));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){var e,n,a;d(this,t);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a._onSearchPress=function(e){e.navigate("EquipmentSearchPage")},a._onNewPress=function(e){s.AuthorityManager.isEquipmentCreate()&&storage.pushNext(e,"EquipmentDetailPage")},p(a,n)}return m(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this;return i.default.createElement(u.BarItems,{navigation:this.props.navigation,__source:{fileName:a,lineNumber:19}},i.default.createElement(u.BarItems.RightBarItem,{navigation:this.props.navigation,imageSource:n(163),navigation:this.props.navigation,onPress:function(t){return e._onSearchPress(e.props.navigation)},__source:{fileName:a,lineNumber:20}}),s.AuthorityManager.isEquipmentCreate()?i.default.createElement(u.BarItems.RightBarItem,{navigation:this.props.navigation,imageStyle:{width:24,height:24},imageSource:n(375),navigation:this.props.navigation,onPress:function(t){return e._onNewPress(e.props.navigation)},__source:{fileName:a,lineNumber:24}}):null)}}]),t}(),h=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement(c.default,{navigation:this.props.navigation,__source:{fileName:a,lineNumber:41}})}}]),t}();h.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{headerTitle:i.default.createElement(u.BarItems.TitleBarItem,{text:"材设清单",__source:{fileName:a,lineNumber:32}}),headerRight:i.default.createElement(g,{navigation:t,__source:{fileName:a,lineNumber:34}}),headerLeft:i.default.createElement(u.BarItems,{top:t.getParam("top"),navigation:t,currentItem:l.default.APP_EQUIPMENT,__source:{fileName:a,lineNumber:37}})}},t.default=h;o.default.create({barItem:{alignItems:"center",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start",width:70},barItemImage:{width:24,height:24,resizeMode:"contain"},spliteItem:{width:10}})},355:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=w(n(596)),r=w(n(595)),i="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\navigation\\bim\\CheckPointListPage.js",o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(593),n(590);var u=n(1),s=w(u),c=w(n(2)),f=w(n(3)),d=w(n(6)),p=w(n(7)),m=w(n(12)),g=(w(n(73)),w(n(19))),h=w(n(8)),_=n(44),y=E(n(587)),b=(E(n(276)),w(n(10))),v=n(16),N=n(54);function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.toAddPage=function(e){var t=l.props.navigation.state.params;t||(t={}),l.props.navigation.state.params=o({},t,{qualityCheckpointId:e.id,qualityCheckpointName:e.name}),N.BimFileEntry.newSelect(l.props.navigation)},l.toCheckPointInfoPage=function(e){storage.pushNext(l.props.navigation,"QualityStatardsPage",{qualityCheckpointId:e.id,qualityCheckpointName:e.name})},l.toQualityCheckList=function(e){storage.pushNext(l.props.navigation,"QualityMainPage",{qualityCheckpointId:e.id,qualityCheckpointName:e.name})},l.renderPanelHeader=function(e){return s.default.createElement(c.default,{style:T.header,__source:{fileName:i,lineNumber:64}},s.default.createElement(d.default,{style:T.headerText,__source:{fileName:i,lineNumber:65}},e.name))},l.renderList=function(e){return s.default.createElement(r.default,{__source:{fileName:i,lineNumber:72}},e.map(function(e){return s.default.createElement(r.default.Item,{key:e.id,style:{backgroundColor:"#00baf3",borderBottomWidth:1,borderBottomColor:"#f7f7f7"},__source:{fileName:i,lineNumber:75}},l.renderItem(e))}))},l.renderItem=function(e){return s.default.createElement(h.default,{onPress:function(){l.toQualityCheckList(e)},__source:{fileName:i,lineNumber:84}},s.default.createElement(c.default,{style:T.itemView,__source:{fileName:i,lineNumber:85}},s.default.createElement(d.default,{style:T.listItemText,__source:{fileName:i,lineNumber:86}},e.name),s.default.createElement(h.default,{style:{paddingRight:20,padding:10,paddingBottom:10},onPress:function(t){t.preventDefault(),l.toCheckPointInfoPage(e)},__source:{fileName:i,lineNumber:87}},s.default.createElement(p.default,{style:T.markImage,source:n(586),__source:{fileName:i,lineNumber:88}})),s.default.createElement(c.default,{style:{flex:1},__source:{fileName:i,lineNumber:90}}),N.AuthorityManager.isQualityCreate()?s.default.createElement(h.default,{style:{paddingLeft:20,padding:10,paddingBottom:10},onPress:function(t){t.preventDefault(),l.toAddPage(e)},__source:{fileName:i,lineNumber:93}},s.default.createElement(p.default,{style:T.addImage,source:n(254),__source:{fileName:i,lineNumber:94}})):null,s.default.createElement(p.default,{style:T.arrow,source:n(585),__source:{fileName:i,lineNumber:98}})))},l.renderPanel=function(e){return s.default.createElement(a.default.Panel,{key:e.id,header:l.renderPanelHeader(e),__source:{fileName:i,lineNumber:107}},l.renderList(e.childList))},l.state={},l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),l(t,[{key:"componentDidMount",value:function(){this.props.getCheckPoints()}},{key:"componentWillUnmount",value:function(){this.props.reset()}},{key:"render",value:function(){var e=this;return s.default.createElement(c.default,{style:{height:"100%",width:"100%"},__source:{fileName:i,lineNumber:117}},s.default.createElement(m.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:i,lineNumber:118}}),s.default.createElement(g.default,{__source:{fileName:i,lineNumber:119}},s.default.createElement(a.default,{style:{backgroundColor:"#ffffff",padding:0},__source:{fileName:i,lineNumber:120}},this.props.topDirNode.map(function(t){return e.renderPanel(t)})),this.renderList(this.props.topModelNode)))}}]),t}();I.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{headerTitle:s.default.createElement(v.BarItems.TitleBarItem,{text:"质检项目",__source:{fileName:i,lineNumber:26}}),headerLeft:s.default.createElement(v.BarItems,{top:t.getParam("top"),navigation:t,currentItem:b.default.APP_QUALITY_CHECK_POINT,__source:{fileName:i,lineNumber:27}}),headerRight:s.default.createElement(c.default,{__source:{fileName:i,lineNumber:28}})}};var T=f.default.create({container:{backgroundColor:"#ffffff",padding:0},header:{height:60,backgroundColor:"#ffffff",flex:1,justifyContent:"center",marginLeft:-60,marginRight:-60},headerText:{paddingLeft:60,fontSize:15,fontWeight:"100"},listItem:{backgroundColor:"#00baf3",borderBottomWidth:1,borderBottomColor:"#f7f7f7"},itemView:{height:40,flexDirection:"row",alignItems:"center"},listItemText:{fontSize:15,color:"#ffffff"},markImage:{width:15,height:15,marginLeft:5},addImage:{width:15,height:15,marginRight:5},arrow:{width:15,height:15}});t.default=(0,_.connect)(function(e){return{topDirNode:e.checkPointList.topDirNode,topModelNode:e.checkPointList.topModelNode,selectedCheckPoint:e.checkPointList.selectedCheckPoint}},function(e){return{getCheckPoints:function(){e(y.getCheckPoints())},navSuccess:function(){e(y.navSuccess())},reset:function(){e(y.reset())}}})(I)},356:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.transformInfo=function(e){return{type:a.TRANSFORM_INFO_SET,relevantEquipmentModle:e}},t.resetTransformInfo=function(){return{type:a.TRANSFORM_INFO_SET,relevantEquipmentModle:{}}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(423))},357:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=T(n(64)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\navigation\\bim\\RelevantModlePage.web.js",o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(63);var l=n(48),u=T(n(10)),s=n(16),c=n(54),f=(I(n(65)),n(1)),d=T(f),p=T(n(9)),m=(T(n(7)),T(n(27))),g=T(n(12)),h=T(n(3)),_=(T(n(6)),T(n(8)),T(n(2))),y=n(25),b=n(44),v=I(n(356)),N=I(n(166)),E=I(n(359)),w=I(n(256));n(358);function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}var P=p.default.get("window"),S=(P.height,P.width,function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.mQualityPositionMap=[],o.mEquipmentPositionMap=[],o.requestElementNameCount=0,o.requestEquipmentElementNameCount=0,o.loadLeftTitle=function(){return d.default.createElement(s.BarItems,{__source:{fileName:i,lineNumber:75}},d.default.createElement(s.BarItems.LeftBarItem,{imageStyle:{},navigation:o.props.navigation,onPress:function(e){return o.goBack(e)},imageSource:n(202),__source:{fileName:i,lineNumber:76}}),o.state.showChangeMode?d.default.createElement(s.BarItems.LeftBarItem,{imageStyle:{},navigation:o.props.navigation,onPress:function(e){return o.changeModel(e)},imageSource:n(597),__source:{fileName:i,lineNumber:82}}):null)},o.loadRightTitle=function(){return o.state.showAddIcon?d.default.createElement(s.BarItems.RightBarItem,{imageStyle:{},navigation:o.props.navigation,onPress:function(e){return o.add(e)},text:" + ",textStyle:{fontSize:35,fontWeight:"200",paddingTop:0},__source:{fileName:i,lineNumber:91}}):null},o.componentDidMount=function(){var e=o.props.navigation.state.params,t=e.pageType,n=e.relevantModel,a=!1;t!==w.PAGE_TYPE_EDIT_QUALITY&&t!==w.PAGE_TYPE_EDIT_EQUIPMENT||(a=!0);var r=!1;t!=w.PAGE_TYPE_DETAIL&&(r=!0,t==w.PAGE_TYPE_QUALITY_MODEL?N.isQualityCreate()||(r=!1):t==w.PAGE_TYPE_EQUIPMENT_MODEL&&(N.isEquipmentModify()||(r=!1))),o.setState({pageType:t,relevantModel:n,showChangeMode:a,showAddIcon:r}),o.props.navigation.setParams({title:e.title,rightNavigatePress:o._rightAction}),E.getBimFileToken(n.gdocFileId,function(e){if(e){var t="./bimEntryHtml.html?param="+e+"&show="+o.state.show;o.setState({url:t,error:null})}else o.setState({url:"",html:"",error:new Error("加载失败！")})})},o.goBack=function(){storage.goBack(o.props.navigation,null)},o.changeModel=function(){var e=o.props.navigation,t=w.PAGE_TYPE_NEW_QUALITY;o.state.pageType===w.PAGE_TYPE_EDIT_EQUIPMENT&&(t=w.PAGE_TYPE_NEW_EQUIPMENT),storage.pushNext(e,"BimFileChooserPage",{fileId:0,dataType:"模型文件",pageType:t})},o.removePosition=function(){o.refs.webview.injectJavaScript("javascript:removeDrawableItem();"),o.setState({showFinishView:!1})},o.add=function(){o.refs.webview.injectJavaScript("javascript:getSelectedComponent();")},o.finish=function(e){var t=r({},o.state.relevantModel,{elementId:e.elementId});o.state.pageType==w.PAGE_TYPE_NEW_QUALITY?(storage.bimFileChooseCallback(t,"模型文件"),o.props.navigation.pop("NewPage")):o.state.pageType==w.PAGE_TYPE_EDIT_QUALITY?(storage.bimFileChooseCallback(t,"模型文件"),o.props.navigation.goBack()):o.state.pageType==w.PAGE_TYPE_QUALITY_MODEL?o.props.navigation.replace("NewPage",{relevantModel:t}):o.state.pageType==w.PAGE_TYPE_NEW_EQUIPMENT?(o.props.transformInfo(t),o.props.navigation.pop("EquipmentDetailPage")):o.state.pageType==w.PAGE_TYPE_EDIT_EQUIPMENT?(o.props.transformInfo(t),o.props.navigation.goBack()):o.state.pageType==w.PAGE_TYPE_EQUIPMENT_MODEL?(o.props.transformInfo(t),o.props.navigation.replace("EquipmentDetailPage",{})):o.state.pageType==w.PAGE_TYPE_DETAIL&&o.props.navigation.goBack()},o.onMessage=function(e){var t=JSON.parse(e.nativeEvent.data),n=t.action;if(n)switch(n){case"invalidateToken":o.invalidateToken();break;case"loadDotsData":o.loadDotsData();break;case"cancelPosition":o.cancelPosition();break;case"getPosition":o.getPosition(t.data);break;case"getPositionInfo":o.getPositionInfo(t.data)}},o.invalidateToken=function(){a.default.info("invalidate token ",2)},o.loadDotsData=function(){switch(o.state.pageType){case w.PAGE_TYPE_EDIT_QUALITY:case w.PAGE_TYPE_DETAIL:case w.PAGE_TYPE_EDIT_EQUIPMENT:o.showSelectedComponent();break;case w.PAGE_TYPE_QUALITY_MODEL:o.getElements();break;case w.PAGE_TYPE_EQUIPMENT_MODEL:o.getEquipmentList()}},o.showSelectedComponent=function(){if(o.state.relevantModel&&o.state.relevantModel.elementId){var e="[ "+o.state.relevantModel.elementId+" ]";o.refs.webview.injectJavaScript("javascript:showSelectedComponent('"+e+"');")}},o.getElements=function(){u.default.getElements(storage.loadProject(),o.state.relevantModel.gdocFileId).then(function(e){if(e&&e.data){var t=e.data.length;o.mQualityPositionMap=[],e.data.map(function(e){o.getModelElementProperty(e,t,"quality")})}}).catch(function(e){})},o.getModelElementProperty=function(e,t,n){u.default.getModelElementProperty(storage.loadProject(),storage.projectIdVersionId,o.state.relevantModel.gdocFileId,e.elementId).then(function(a){if("quality"===n?o.requestElementNameCount++:o.requestEquipmentElementNameCount++,modelElementInfo=a.data,modelElementInfo&&modelElementInfo.data&&modelElementInfo.data.boundingBox){var r=modelElementInfo.data.boundingBox.min,i=modelElementInfo.data.boundingBox.max;i&&r&&(e.drawingPositionX=(i.x+r.x)/2,e.drawingPositionY=(i.y+r.y)/2,e.drawingPositionZ=i.z>r.z?i.z:r.z,"quality"===n?o.mQualityPositionMap.push(e):o.mEquipmentPositionMap.push(e),o.setModelDot(t,n))}}).catch(function(e){"quality"===n?o.requestElementNameCount++:o.requestEquipmentElementNameCount++,o.setModelDot(t,n)})},o.setModelDot=function(e,t){"quality"===t?o.requestElementNameCount===e&&o.refs.webview.injectJavaScript("javascript:loadCircleItems('"+JSON.stringify(o.mQualityPositionMap)+"');"):o.requestEquipmentElementNameCount===e&&o.refs.webview.injectJavaScript("javascript:loadCircleItems('"+JSON.stringify(o.mEquipmentPositionMap)+"');")},o.getEquipmentList=function(){u.default.getQualityFacilityAcceptanceElements(storage.loadProject(),o.state.relevantModel.gdocFileId).then(function(e){if(e&&e.data){for(var t=e.data.length,n=0;n<t;n++){var a=e.data[n];a.committed?a.qcState=a.qualified?u.default.QC_STATE_STANDARD:u.default.QC_STATE_NOT_STANDARD:a.qcState=u.default.QC_STATE_EDIT}o.mEquipmentPositionMap=[],e.data.map(function(e){o.getModelElementProperty(e,t,"equipment")})}}).catch(function(e){})},o.cancelPosition=function(){},o.getPosition=function(e){var t=e;"string"==typeof e&&(t=JSON.parse(e)),t&&t.elementId?o.finish(t):a.default.info("您还未选择构件!",1)},o.getPositionInfo=function(e){switch(o.state.pageType){case w.PAGE_TYPE_QUALITY_MODEL:o.handleQuality(e);break;case w.PAGE_TYPE_EQUIPMENT_MODEL:o.handleEquipment(e)}},o.handleQuality=function(e){if(e)switch((e=JSON.parse(e)).qcState){case u.default.QC_STATE_UNRECTIFIED:case u.default.QC_STATE_DELAYED:o.showRepairDialog(e,N.isCreateRectify()&&N.isMe(e.responsibleUserId),N.isQualityBrowser());break;case u.default.QC_STATE_UNREVIEWED:o.showReviewDialog(e,N.isCreateReview()&&N.isMe(e.inspectionUserId),N.isQualityBrowser());break;case u.default.QC_STATE_INSPECTED:case u.default.QC_STATE_REVIEWED:case u.default.QC_STATE_ACCEPTED:o.showDetailDialog(e,N.isQualityBrowser())}},o.showRepairDialog=function(e,t,n){var a=[];t&&a.push({title:"新建整改单",onPress:function(){c.BimFileEntry.showNewReviewPage(o.props.navigation,e.inspectionId,u.default.CREATE_TYPE_RECTIFY)}}),n&&a.push({title:"查看检查单",onPress:function(){var t={value:{}};t.value.id=e.inspectionId,storage.pushNext(null,"QualityDetailPage",{item:t})}});a.length>0&&l.ActionSheet.show(a,{title:"取消"})},o.showReviewDialog=function(e,t,n){var a=[];t&&a.push({title:"新建复查单",onPress:function(){c.BimFileEntry.showNewReviewPage(o.props.navigation,e.inspectionId,u.default.CREATE_TYPE_REVIEW)}}),n&&a.push({title:"查看检查单",onPress:function(){var t={value:{}};t.value.id=e.inspectionId,storage.pushNext(null,"QualityDetailPage",{item:t})}});a.length>0&&l.ActionSheet.show(a,{title:"取消"})},o.showDetailDialog=function(e,t){var n=[];t&&n.push({title:"查看检查单",onPress:function(){var t={value:{}};t.value.id=e.inspectionId,storage.pushNext(null,"QualityDetailPage",{item:t})}});n.length>0&&l.ActionSheet.show(n,{title:"取消"})},o.handleEquipment=function(e){if(e)switch((e=JSON.parse(e)).qcState){case u.default.QC_STATE_STANDARD:case u.default.QC_STATE_NOT_STANDARD:N.isEquipmentBrowser()&&o.showEquipmentDialog(e)}},o.showEquipmentDialog=function(e){var t=[];t.push({title:"查看详情",onPress:function(){var t={value:{}};t.value.id=e.facilityId,t.value.committed=e.committed,storage.pushNext(null,"EquipmentDetailPage",{item:t})}});l.ActionSheet.show(t,{title:"取消"})},o.state={showFinishView:!1,pageType:w.PAGE_TYPE_NEW_QUALITY,showChangeMode:!1,showAddIcon:!1,relevantModel:{},url:"",html:"",error:null,show:!1},o.props.navigation.setParams({loadLeftTitle:o.loadLeftTitle,loadRightTitle:o.loadRightTitle}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){e.updateIndex!=this.props.updateIndex&&this.props.navigation.replace("RelevantModlePage",{pageType:this.state.pageType,relevantModel:this.state.relevantModel})}},{key:"onNavigationStateChange",value:function(e){}},{key:"render",value:function(){var e=this;return this.state.error?d.default.createElement(s.NoDataView,{text:"加载失败",__source:{fileName:i,lineNumber:568}}):""==this.state.url?d.default.createElement(s.LoadingView,{__source:{fileName:i,lineNumber:572}}):d.default.createElement(m.default,{style:[C.container,{backgroundColor:"#ecf0f1"}],__source:{fileName:i,lineNumber:575}},d.default.createElement(g.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:i,lineNumber:576}}),d.default.createElement(_.default,{style:C.container,__source:{fileName:i,lineNumber:577}},d.default.createElement(y.WebView,{bounces:!1,ref:"webview",onNavigationStateChange:function(){return e.onNavigationStateChange},scalesPageToFit:!0,javaScriptEnabled:!0,domStorageEnabled:!1,onMessage:function(t){return e.onMessage(t)},injectedJavaScript:"\nfunction callMessage(action, data, callbackName) { \n    let actionIn = 'unknown'; let dataIn = {}; let callbackNameIn = 'defaultReturn';\n    if(action) { actionIn = action;} else {alert('无效调用');return;}\n    if(data) { dataIn = data;}\n    if(callbackName) { callbackNameIn = callbackName; } \n     let cmd = JSON.stringify({action:actionIn,data:dataIn,callback:callbackNameIn});\n    window.parent.window.onMessage({nativeEvent:{data:cmd}});\n  }\n  window.modelEvent = {\n    defaultReturn : function(data) {console.log('执行命令成功:'+data);},\n    invalidateToken : function() { callMessage('invalidateToken');},\n    loadDotsData : function() { callMessage('loadDotsData');},\n    cancelPosition : function() { callMessage('cancelPosition');},\n    getPosition : function(jsonData) { callMessage('getPosition', jsonData);},\n    getPositionInfo : function(jsonData) { callMessage('getPositionInfo', jsonData);},\n  };\n",source:{uri:this.state.url},__source:{fileName:i,lineNumber:578}}),this.state.showCreateNoticeView?this.createNoticeView():null))}}]),t}());S.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{headerTitle:d.default.createElement(s.BarItems.TitleBarItem,{text:"点击选择",__source:{fileName:i,lineNumber:48}}),headerLeft:t.state.params.loadLeftTitle?t.state.params.loadLeftTitle():d.default.createElement(s.BarItems,{navigation:t,__source:{fileName:i,lineNumber:49}}),headerRight:t.state.params.loadRightTitle?t.state.params.loadRightTitle():null}};var C=h.default.create({container:{flex:1,paddingTop:0}});t.default=(0,b.connect)(function(e){return{updateIndex:e.updateData.updateIndex}},function(e){return{transformInfo:function(t){e&&e(v.transformInfo(t))}}})(S)},358:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.bimfileHtml=function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(a?'<!DOCTYPE html>\n    <html lang="en">\n    \n    ':"")+'\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <script src="https://static.bimface.com/api/BimfaceSDKLoader/BimfaceSDKLoader@latest-release.js" charset="utf-8"><\/script>\n    <title>App图纸选择</title>\n    <style type="text/css">\n        html,\n        body {\n            height: 100%;\n            margin: 0;\n            padding: 0\n        }\n        \n        .bf-toolbar[title=\'主菜单\'] {\n            display: none;\n        }\n        \n        .bf-toolbar[title=\'ModelTree\'] {\n            display: none;\n        }\n        * {\n        -webkit-touch-callout:none;\n        -webkit-user-select:none;\n        -khtml-user-select:none;\n        -moz-user-select:none;\n        -ms-user-select:none;\n        user-select:none;\n      }\n    </style>\n</head>\n\n<body>\n    <div id="model" style="width:100%; height:100%;text-align:left;"></div>\n    <script>\n        '+e+'\n    window.viewToken="",\n    window.imgSrc = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAABICAYAAACwc3YrAAAAAXNSR0IArs4c6QAABP9JREFUaAXtW09oHFUYf+/NbrbB0qSGZKNVD6KgWIUiiKCCFxEUFbKZTSQUg0IQPEjx4E0KCnqqQgWhwV6MuOtsGxEP4sWLB4UiFMFTRfDQZJO0sYlpO+nM+/ze7M7OzmR2M++9TWYCO4e8f9+f3+/73rz3ZmZDyAG/qAr+erlUAiBvAIEjhNCGDSCBLQpenXYZQ79NvYY+atiotjheq30mgylwmlBr1TSfdMC9lFBcWoxRY6JoWYtJFVlSQV/OBTjh1/ei5OBK2ZcmkDOMy3sB3LfJGJWyL01gpFK5hPNuyXfY05LSW+zw0E8yNqUJUEoBHZyVcZJUFgPz5ej585tJ5YWcNAGhZBwZ/hzXjr9EvWcXpauGkf9Y1p4SARElg+XL6MyWdRgnj1l1CYWp0Urlatx4tz4lAsLgaLX6O6P0VDfjSccowPv3fHvx56Ty7XLKBISRonXhC4ze3+0GZes4752x4098Kqvny2sRaBoZ842plLgi5NauXCmq6AodLQI3TPNuALhL1bmv59j2/X5dttQicJsxZcftQBnlyna0CABxlR23E8Bp9EB7W6auRQAXP2XHIZCcKAdCiwBQUHbcTkDHjhYB3Hx6QgCfA5TtaBEADcftGSAElKeiFgGq4ThEgNIizM3lQ30JG8oEcP3HTZQeS+inqxjaYssbG0q2lAmsnTw5jo6VohbHxiCO0n2gTEBn94wjAI7akqxMwNDYfGIJKK5oygS4xvafCQJEY/eMI6C6FyhnQGf3jCOguhcoERDHaFxCH48HotgL5MG110uPyGrjWp78gtOn2cqff8xxDh+h1khyzYSSlG4joDPFoyMf0nPnbibRSkxgdXr6XsfdrhIgzyYxrCVD6T8GYTNjlvXLbnYSEViannyeOryK53atx8fdwETGbUbYW8Va7etIf6i56z2wUi69RBz+4z6DFyALnPCFuln6IIQ40uiagSXTfJkQfpEADET09rVJCTvV6bV7RwLLU1PHCXd+7cVDuy5bfHXDCaOvjVdrP0RtxU6h9dnZYQS/mAXwArA4rRIO33hBjTCIJWDf3DiDSg9FZFNtIp7DhN+ZxzI0a3YQqJcnnsFjwmyqaDs4x89aTy+bZgjbDgKc07O44oRYdrCXSjcl/BNvije9hwjUTfMFnHFSn3j2m4VYzu2tzbd9vyECuO6+5w9kugTypo+vReDazMx9eLu/6A9kucTPuw+vTE8+JzC2CDjbt1/JMugoNu7ArOhrEeAEXo0KZbztZaC12ixPTqzjDTKccdAteAgc8FvdkJeBNdM8dpDACxZiqYf//j3hEXApf7RF7QBVcFN+zCOAJw2pb7NZ4QiMXvUIjFcu/IY/LPkqK8AS4LDxlzDzxYr1fesmFkrisdF13RHCGE4xnGfM8coBp9Fu9DXrzTFoG2vpGQ7wO+QdPHi9K3TEhUfi7wbxCQvy+YbtgQGvFGOwtRXq44VCMLa56dX5oUNeWRwcBLK+blPLcoVuTvzxr+aHZumPzb5+e1kvT15DAkEXkO2hmnU96OhNzZtCvTGVjpU+gXTiHnjtZyCIRTq1fgbSiXvgtZ+BIBbp1PoZSCfugdd+BoJYpFPrZyCduAde+xkIYpFOrZ+BTnEHvuNNx41Osjr9e5aBfKFQwyf5VQEOH+i3ckZuXgdoJ93QW4lOQqr94icJ+PP2p2ihcHl0YWFv/mlCFVxW9P4HnQN2SCnmLTYAAAAASUVORK5CYII=";\n    window.marker3DRed = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAB9ZJREFUWAnFWN1rpFcZPx/vx8xkZpOmSevggrXqhSkU9kL0qhTUKt550YIfIIgXXhT/hWWvxZtSLwTxRgqyFURQsIqwRRBUSqC4uagauzZllk03m2Qm7+f58Pc7k5PMxEnDZgu+kLwfc57f7/c+zznPeZ5Xioc4vPdydviNGzfm7uNv169f9/GaZynl3P3sb2evFwLODooiIvnG7dtya3dXDsfjYDuqqjmMYacTyEeDgd9YX/dbzzwT7qPIi8Qls+Sz17NCKEIci7h7cKDE1atyJISatK3swwGzdv9oW99PU4pwdzc3/XB721Hc67dvB3HADcPPEzYHFoGjmNdfeknRGxCjxPq6EuOxKiYTLft91a0qLdpW1c7JttcLOGlR+FwpL9LUlZ2O9ZOJ6/X7VgwGDhgOGI5ee/HmTUeuRaL+x0MUw/DQKw+2t9UqPLK3vKzFzk5SdbtaW5vIokharROrlAauwn0Q5CGmUsppKa0uCuOtNVXTmM7OjhXLy2YV5wfjscOLCoaS3jorak7QWTFwtRZVlQiIqIVIdV1ntdbZs53O45/P8xdWtP5iJuWnEinX+cbG+93G+3/tW/vHv9T179927n5e1w1sm9xatZfnBt4yYntbbCCkeHFxVtRJyBaJKUajtJckaeNc7rzPnxBi8PWVle+tpul3lRCYPucfiMlkr21/9qv9/Z/eE2KspKwzperCmLY3HLZYFPaxp5929BQnfPTUnIdimOgZioHrMwDkcH332pUrn/hKr/cqPPLZ82Wc/kLBa2n6g++srX35jaJ4efPw8I7RWgJTAluMhkMRPQWr6UzHRRAUvcOVxDnDMNEzFKOSpPdst/vJr/V6rwEshOaU9uIrvgBsfyGc+9bbbftva4wAtgeXr+vaY9F4ztkYOrzI9Dhe2tMJnKbJkRAZPbPWto+9sLT0ymXERGzaEoNYxCQ2VmISFgtWcOA+HsxVwpmudre2lFha0lCe1k2DF5M9p/XSN1dWvr+SJF+N4Jc9Y+KvfTzL3FvGbCbOOVtVWCm1F8Oh20W6ePPOHXHr1i2vGC6ShMyLPMOlrZTKOIk/naZPPpll376siLN2xCImsclBLua2mPWpJYSMLqsxd0LSK8ukxmRGUDtf6Ha/hAFLZ4Eve08sYhI7cICLnOSOYQuCmI33sB0wA0vENpWSuT9f1/q5y5KfZ0dMYpODXOQkd9gRYBQEBWO4jtuBRAZ2SgVBuZRPhd8+wn/EpCBykCtsQeCOFOGCMeRGyb0Jy1K7tk2RqdJUqdU48KM6E5PY5CAXOckd5xHzlBq8845q2japjUlB3LFa95S1/ecGg29gxs8lz0cVBu+YPx0e3nRJUmnnautc01PKDJLE/mY08sFDsabhro0BUnPlaa2wL+0/qoCz9gET2OQgV6wUooaT2J015H3h3PuLnj/Ks6MLMKdz6LjKYz2DJOQtS05r3U7TvPUo5Its3ycmsMlBLnJyXKw0VSwtJ1pPiyvUM5g/1mtt/lxVf7VClIuAL/OMWMQkNjkEuFjQkZt41DKdQygxQ9mJSk9jcqk0bZG82rt1/eCfZfnGZcgX2RCLmMQmB7lYXZKbZS5tTucQysxQdqLKU84hB4gam1z568PD346de28RwcM8IwaxiElscrCiJGcocY/BgiDWuSgvPWtg37amxRvQSCpVVt4/+OX+/o9RpB0+jIDZsbQlBrGISWxykIuc5KYG2gRBrNry5eVQkPtuFxWZb5C8KrxFobSe/Kdp3vv5/v4PD6196FVHG9oSg1jEJHbgABebAHLHdgmV5bSJCzFE2DplifTgGpacKD8K7MwTCD/Yqet3f/LBBz/6e1n+wTCcFxwcw7G0oS0xiEXMgA0OcjFccf5QC7yH+hFJKrQ8W1tadDos6rOjtu2Iul5CmcDaeWC9X8Z5GX698rjWT3yu17v2VJZt9LVe70kZKoLC+6OJtbvvNs3W34pi876190DAUB9gSzjAGVPJTUSeHy2laYXk26A6NRsbG5atEQWdbAvBZeid2KqwOwBDUyCjyiSRiLVA7D3ezDhr6/vOlb8bj+9htbwJkAwhmBZ63kP3NNycvJgPE4YpeBnewe54JI0pe8DGHmZWJxOLnf4kXBA83aeoDIdgd8m+ia0KCvFQkLMG9g6QaWqxKlrkEK6QEl1FB3kkwzlFlRcE4RWR72QLlzcQU2FsAVtkW4S+bUuKgadi52FycIXG8byug15iv8RugF0BuwMW5A28A0kWhG3YEL0v4a0M4chAqLnv8e2Q7Bw8aeExbFm+wdiKEzjxvkbeObcNom08TkIWvcTmbVYUu4Msz109mRiUDi0qvQbnkvWMMCaB57R0LgjCtZPIwAhzyGVc2lxNCHOT9fstw4SezKDUWNiTUdSJIN4sEsVWZa/TcTk8V2FupWXZsNJLlAqtNFprxV2b9tjBPbcD7FGcSyY1xlgs7bCasF1wzjBMixpE2vMIQNPL0/8AC8//Hx8bgqtPpUyv6Cleha8Uzz/vuCxxa9Brtlfh/u5gUCM9VJNOp8zzvOxbW/CP13zG3ziGY2lD24ABrA/78kHOuZDxQTyiKEYBR+gu8U1IoDtwe/xWRO+mqRhhykQbnj8z/TYkMNZ/7Nq1kw9WL2Il8feIy+tFxxzYogGzz2Io4zO2wPF69hxLmvjsIhFxHM//BTTCXhnWUPw/AAAAAElFTkSuQmCC";\n    window.marker3DYellow = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAB8lJREFUWAnFWE1vI0kZrq/udmI7jvF4QpaVdiYrJAg70sKBGwgJhPgD4QInxIED/2HJecUFwQ1xQ0LkjMSHkGa1B6SRRis0bBDSTibLzCobO57EcbfdXV0fvE/Z7Y2zzkaTHYmWkv5w1fM8/dZbVc/bnL3A4b3nC813dxfvqx/festXlzhzzhfuL/52+Xo54IVWcxEz8r3t93l3v8+bm6PQ9+AoX8DY2qwF8tFR0/e3u35n/2tTMTOR14lTF7gXLi8KCSLYVETj3aE47Bh+60iL09Ty2tgtCNpPhW83pD9hA7fx7jP/8I0DF8TtvR/EEW7guUrYAlilqBKzt/dDgWj0WV9kLBO3mBa9sZZNbsW5rstV4USuHVfldChNxH0tFn7shFuLMzvy0t1eje0Ji12d1V2XdV2I2s4fHbiWifpUhIIYGh5EZev0QPQGQ7HSGUs9yNW5aUiunCokU0KPVeFiybgXLprllmG+KJ0TIreFl4ZbZc5HykTq3K50tJkMCrt1OnL0ogxDiWhdFrUg6LKYR0cDWbeZys7qyjMXSZ/Fyqv41fpa5/Wt9e/Xo9p3peSvSy66eGPrXd9a/zgr878/Pj7769NhNjA+05bF+uQsFnU7NMdHxtyjtnvbzO3s7rLLouZDtkyMG6eRL2tR4vPE5Cppr/jmN+/e+WmjFv+Ec9aAiKsOevk0zfXvHjw5/O3phI9UzRQFrxU8ykux2ijvbXbsQXvLhaSnhK8itSAIOYNhQmQgRmVJbHiRUARW7naar93b3Ph1JORXrxKx7Hnp7L8fHR3//Mlg9CFFcKJ8Uph6oRdEUU5VgsKQVdHp0kxCzmCYzpNaZHieeMdXX11v3X3zlY3fC87D0CwjvuoZXuDNVzb/UGrxo8OzsydGFIyi7uu9zPcGync7fc8oZ6uhExUQkhizyVICZ3FdyaKIEZl2JNvfeK37q5uIqbDRFxjAAiawwQEucIK7aitx8QvORb+/L+hHWQ6yyHof08xetU7Xv/XlOz9rJPEPqg43PZOQW+36qvugd/Ke8JHz3FgzKXxOa8eX+rG/886HbPf+fS/CcBELVl6sM5ymtizL2HGTbKw1N9ZXV358UxGX+wELmMAGB7jAWa360BKGDCHr/WsYFr1CacWVipkTta98sfM9wVn9MvBN74EFTGCDA1xYaMFdDVsQhNX4mLYDrMCRNMp7S0udTVq15Ns3Jb+qHzCBDQ5wgRPc0IA+86RG6LAdlNpNF0EuEiXFnauAb/ocmJRPCRZacIET3BVeuMAYYqPE3sRpO/BeRt67SHH5harhyzoDE9jgABc4wV3lkcAaADLs2tgoPe1NhlpTui9sKy9LEHCAHTiIC5xzx0BaQoQqT4NdWyj6w5ZJw1lad/YyhQALmMAGB7gqp1BpmI/dMmLtzEfLnn+eZ4X9bMwgqHJ58DPO0J9l8BNukI4ffh7yZX2fZ+OHwAYHuMCJdpUGwWbWklbMYK4oiZzi3HJavf7z8eCBd36yDPgmz4AFTGAHDuKCoQN3wCMtIUKwmLCdcHpeaEt6StpNyudFcXo0Gv3lJuTL+gALmMAGB7jACW5oQJ95DsFmwnZGsTAc+exdIcguPHjy0Z/ysny6jOBFngEDWMAENjjABU5wV1hBEHzuBlkBeOCSbCfnsuReFs7Libbu9B+Hz35jrD2vOr3oGX2BASxgAhsc4AInuKEBuEEQXNvtN1rBkCcmNt4YzYSj+saPKQHT3ih7ev/x07cnZfnCsw590BcYwAImsMEBLhQB4K7KJbIq0yzHGCJ0XqWWdhlNa1dBk2HsmE9J+PAkHR/+ef+DX/73+dnfnPP022cfaIO26IO+1Ho4xXJjYIMDXOCs8gdaSDStnLTtw76y/X25wk4VGfKY6azGJa9bTd5Zlk3yyC1q2qIOa804ub11u/31jWZju6ZUlza94AgKY7PcmP7xKN0/6J2+N9JFj8YBQz0kDz5kNhrJmKXe+ozF9fzWutYT1jZse9vuzGzsfHtAyO6zvkOpgurgPEk0L3PhJem2ERVRNCkYN0RQnOty8s9nH/fo4Tv0MjHtBcHoMe5ohnJNr5h7JihXeEo5kYbIuCilDSkj8zfxSU2vFZmRg5btdrruO1V1S8qDIISKDtan6hJ1E0oVPk650gmHB6ZSx5uSWQdVjBfM2YmX5GmciykNI3r7IIhEEJ8j5UJT69xzSTlIOUN/FBmaXX5q8qnyyFoNs7XZcgdtSuadT6qOeYRIXCjeUC+hbnp0xJhhaTDkkl7Yl4ml9azkThRc+QmdYytZTK8iKWphctBwkjUVVjlB+cG0NyJHAguqNKQ0haEyyCwrg0A+O+aCqiiheLsoCtVBFjecj3JDG2HJI64p5SZe2IjWW3KXjrbJmSAyOcwIy5UxgtYZalt64zWNuDasUWKYEJmrajJomgvCzTJRKFVW1sduOCCfwBum4FpHiqlSUzlNvoDKJCFp10Z/yiBP05YmGKVvzExpyTzzupEsta11EXJmOkyfLhDRH0cAml5+8h+zDnf/j48NSwVBTCUKBg4GvPomBEMODwzbuexzDDbK6eeYOKzAWPSwzsy/FV3znehKQRCF46Iw3F8Uh/vKWOEaR2UjFkTgh2uEoAmOawVNm03/z8VVD2f2t7qdn2fk1T1ys7q+7vw/twli5R2mUocAAAAASUVORK5CYII=";\n    window.marker3DGreen = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAACBBJREFUWAmtWEtvG9cVvq+Z0VCkaUqmXLOq4yR10YQFiqAwHARZqIsWXRRdFd4W3QRF/0KBCt7lJwRZZJOd0QZF0QJBsmEWDWw4rwKVU9RNKsuCUpm2KIqP4czcR8434mVIW7IrlxeQ5s7w3u/75txzzz1nODtBc87x6eFXr16dufe/ra+vO9/HlXM+cz/928P9IwGnB3kRnnxjY4O3m22+Nh60s9ObwWg0KgV5i36vb9Rds9ks7r3IJ4lTY9xHLtNCZkQ02yJ+kPLN5VU+6KZ8RAaYntzppm6xGrn4wbZjzTaJadsWDdi4slGII9xi+HHCZsA8sBdz5coVAWt8j6xwN+qKsyRi54s9Wa0Y3tGJLJdO8Tw1XGe2wFGhcEEkXX944GoqNt2edI3nl8wuiftOWrX/IuvBateuXbPgOkrUIxaCGCwPrNIkMRusLbJGXST3RoqARVCO5UjnMsxiNdCJUMIIMX4tmzM2SKUNbWxHLNdBWUCMSUxks0ZF18lazSazeFEsJaz1sKgZCz0s5saDbanSquS6L00UqtwNAz2UQXLp/NLghxd/ZirRT6yS32VcrBTWdfae0Obfspe+v/j32+/GN7f2VMnkAS/lMs20U2Wjo665vLxqNsb+Bd+aFjURdJQYs19SNu6rmKlgpHloz1bLu7+49Jo+VXqNBFQKEcf/66mD4Ztn/3zzTbHb7S8olyVM5yIpa3l6qI8TNSPo0JRtDstATCZFEPN+wCSLOj+6+Ez3lRffcEr84HgNj/7Ctf1H9cNbv6l9fPsOMyxNXDkPjc2nRcGnvJUEILx14MDwGSxTYRkSY5hb2Lv0woX9V19856RiCmx6AcwFBrDwgsAGB7jACZ+FBowvBKEDJ8ZuWmR1AZ/RtEywTHauVj24fPENJsZ+gsEnbTQXGMACJrDBAS5wgttDSnTIXOLWyi0xzNryfj8NlCQxuV1gzMa7v3z1t7Yc/9xPeOqrFCujby+bymdffiystCIKbXs4YMNg4LrPKHfngzus1Wo54U21RkyIM7FMBXaTtDxMnl1Z0UuVXz+1iIcmAguYwAYHuMAJbjRoKZYMJsN6IugJHUts7Txg4cGlF35K5isfDp/Df8ICJrDBAS5wgtsvWyEIjtWn4wARWJhUskAqafNQL5V/PAcZMxDABDY4wAVOcEMDBk6cGqbDcWCyQFG4UJbxwIbq2Rm0OdwAE9jgABc4we2hC0FrdIeDsjibhBZOSuWMUFaIM37gvK7ABDY4cuICJ7ihAU1ihzG2ye/uJcpYrbjLIooIC1y4+ODl7/+KfCg4HDqn/47p6s3P36bzLwu4zZ2TuUmZaVQi8wHttMJCPqfxp7YzjlvjBDdmb04yJjDABDY48NBzeg0TH5rMmOrINN+aup1LV46yx2IWgnyWh3wGrFxyJyS34e7+9bmomAIJ73WvAxsceOw5vQbhU8uFxbBIrjRFUWOFdVqYxRv//Bu3bjiF9391gQVMYIMDXEjowA1gaCks1KIbpJ3I9AKrLK2z5tLqeKfXCe7e/xMGz6MBC5jABge4wAnu1pigEIQ+ZXZF2inDHGefFszlJDc98+5Hf5DD9D/j8U99AQawgAlscIALqS64PXAhCHlueTlyyIGtjAzLjTYiyJhjqRxkB7W/fvQ616bjJ530irnAABYwC2ziABc4wQ0NwC0EIb9tsrpFQm5VYoq0M2cZ53pknR1Gd3e3zvzxw9+JQbp5UjGYg7nAABYwA8IGB7jACW5fLgmfqbWICaZDQo4c2AiXUaAYCcsT7mR/YWvvzrfeev/30Rf/fYcZlzxRGI3BWMzBXGAUWIQJbHCAC5zgRoOWIjjh2Ef6Wqt9SRVGRe5tfRUcKBfF1i5kXJUEMyVneNlxU2aWl029cqb30sWXs9Xll2wpPEfn0ykAikwfUFL1Vbj94NPKp7evy3bvPhOuDzGcqiPL5DB0epgIMTqlebp0/lwe7vRMp/Oc9WnspAyCyVqs7epUqqA6UKyTMyO4ZDk3lK8JSwkoxW4hRM7a/dHp9z75C73PexTTA07pJAQ5Zi1FsNzR+UPvO6KxSbFM1iVWyqHUOVmWp0ro3KmaGRDXZqPu1hqH1S0wCkEwFbVxdcnsjWjbiP0yT6TglAMz6TQ5u0M1qMmYOee0U5wIKT4EXNAhTEcBwIQUllEEk0zmpIw2BR9R/BuRdUbKORS5h0l+YrU+3SXfWbUoh9avrU9KoYmFAAgrUaLELjeZucG2WbhfYnlsHZVBjsogCmNcU3KVUQI6sjwPLBOB4FYwMgvmU1Ft6TSnqtTkggWFH1Kml8FnQkllEFkmJDHTFYd35mI+/ZsI8laiCgAJ/0RUlNYcJeQ2jEJDaad2Q0klqUwZRSsekk1ovRyFXQDSElnnhLUZBXvKqlhKwZh2U0gOzKlQjGmZYJnL/0uh6BXCwVGWIKVsjssiVAeb99oKOTDSTmR6SK6Qz6CU9nNxLY4DisAIeogz2NrYTRdW6ho+gy1+XNWK+RML4QbNW4q67vBjA7O1nZ6Lo9Qhszv82BDwDjv6Y8PizMcGTh8bVotITLupcGCIedzHhpm3KxSNRaGPiWtszWJbJmTmC2SA6vMm71Nesto4nwY8ToUJ01AujPCHPp7hN4zBWMzBXGAA63FiwPmIhfAQDZbCFbsPFywjOuRgLqGlvIB+NWI7A8TPb1qDDkrc0fcjVsZxQBtlje6xk/Dc46J/VJsBO2rA9DP41/T9ROT0Q+r7lMY/fpIIPw7XrwGDw0CqNQhJZAAAAABJRU5ErkJggg==";\n    window.markerFacility3DRed = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA8CAYAAAA34qk1AAAAAXNSR0IArs4c6QAADnRJREFUaAXlm2tsXEcVx2d3vX47cRzbiZuH82oEVUUIIKo+E6FKIFoClRrRlkIRj1KKUgFRKJUobQEh8fjUgtQKUilfeChIfGgpAiFKadMUUkJbRVGUpEnjOE6cxI5f8WO9u5f/7+ydy12v13EaY1tipNmZe2fmnP9/zpnHvXM34f4HIQiClMTWKVYrVoaRe8kwBkpzinnFTBhHlQ4nEolxpTMeEjMlUeTSkrVQsUERgu82QHxIsV+kIT8j4YqJiiCWW6xIWhIymcyUOiorK7FuuQDRHsVBkZ6qXrn20f0pQUS1JsmIYK1utyrW+OIYqUhu7J6vVpROIGpkJtyjPlY+J7IDRY0v4yICNN024fiDYCNtYkRMFtcEUgGm3ESPj48X6Uqn056U1YEcIUbSl8cteVHCziDehF7GT5HyS7UTDsbecsV0nKAnp/sQdNlslkknoRT5pkNElf1vEFF/EVRUVECGNE/nkI+RnkiYCeyUyDKOpx2mTVSKmWSuEhFmT4JZzVsvRi4JQa4pC8lCvkhXSM6REiBJnlSyPWkrC608kXC3xPcakmn8FCkvV1/aFovgkrC8hCCkcM1cLpdShGiyqalpzYIFC25OpVKrBag5mUwuJkWG5J3P5/M9pKp/fGBg4OXe3t5jkFR9Yg7XDslj5XKE+yQOV467dwizOLkkUWlYKpJNYbOECJlbQmxkZCQFqdHRUSO4aNGi1QsXLrxdwG4WMVx82kHEO6Xn5f7+/ucvXLhwHMLV1dU5yNbU1BhxCQvUAWZxBIeWHlb2pMhyv2yYkqhIRpYUCHNFpeaWIpiC4NjYWEqAWtva2r5YVVX1cWkquHavVoVXXnLujX9pvjzr3PlzhQiU5pZCbNGc9v4POnfTJueaWKEs5CTzhdOnT++U/LOSmQsJG+mYdY1YSJY1t8sLmCwtS1Qk60VqJY08yYsXL0LWLCgwFbqfXrVq1X3q8Xt0v8blsoF77vcJ96c/OHfgLXx0Mp2l9xKCce37nPvobc594o7ApSoS0i+HGfnVO++8s0tkxkU4C2Hdz9fV1eWVMkPHyZ4VBtbcScOkRJEhEmvUIhknyRjEXeVmWG1he3v79+RKHzbJf/uLc08/5Vxnx6SKpn1zufr2gW3Obb7VmmiI/PPEiRPf1UW/hkMON2YMlyHbIbIsQSWhhKhIMgZXi2DVRJK4q6xaoUlm5dKlS38kxe3uQm/gHv1Wwly0RPwV3MClv//jwC1qYpI70d3d/bAmrQ4RzGrclpANXRgLHxfZknUWUhNDCyR1U/XVPXJXLBmSTEvRKo3HZ4zk0cPOfekzM08SRIxtZEuHLNgunU+jW3jSYAFTOJQwlq0ESuGzVLEkFBGVNbEis4I1VB6uSdwVS8plFyxbtuyHurfQvbbHua9+3rnuMyVCZ+wGstEhXdLZiG4wgAVMYAMjUTp9WiceCyZiKCKqQrZ2tq1DiHrOJh7GpMZKeu3atd+RJVe5Y0ede3SHcyMjE+XN/DU60CWd6AYDWMDErA9GTzimvFVki4ZlRFQF1eqZBlVWOz0Uap3ERWKz6z2a+W50gwOB+/bXZ4ekRw5ZdEo3GDTT3yOsabCBEawEsIfWZX9ZZNWIqApsIaMiEdfw66TGSFN9ff29pvfxRxKu65RlZ/UHnehWAAuYRNQwgtXjjmEyPv7aiMqaVKQHrGdwB3pJA54xULFixYp7VVDn9r7i3D9e9W1nP0W3MIAFTGADY+h9tqGBA6SVVolXrQfpLWokqUCEKLMagjTTtdXW1GxRg8A985RvN3dpAUMAJrCBEaxg9vhj4CL3LSJq5tQPPYRbIETT+m3qwkr35xdsqo8JmZssSxpYhAlsYASrH6dwEDBzcaUL/KSUVIae8Ca2TTs9FM607GNvMEZ/fG5uiE2mNcQCNhE0rGBWHsMZSayrPDs49gS2wPIqxFxWhfbQrEa4blI7oDZt8da44YuB2/869edHAIswgQ2MHm/ovrY8xoCaEekBI+rdVpXtYVmkU62trddbg717Etqwx9rOcRYsYFIAI1g9bs9DRd597Z0WRO3dBY286XFbxaTWrPXcd/tes2Re/YSYwAhWMAuff16OQzV+caJmSa2d9ioE39fmubAWdZ+ON5wf+RATGMGKRT12CMdA2hhlxqpURXqCMrM8Pq8MsfBmoed8rN08yYaYwAjWEDMEmW94XWN5PdWQT0WzVBy+GibkCgl2H3aftwPzLYREhXERWAlTQExiNXyb8WlWxQXUOxZVxutN7Wt5LTPPwnDh+VoYazxesOOZcJmANolFS4IaW0X1VL8VNtnLu5J6c3ojxOQxeszlMLFh4FSLN2q+jpGkoXqq1242z0OiISYwxkga9hgXzymPRe0NFgM4DOJeCBJywe4tnodEQ0xg9Hgn4eI55bFo8VlBWKRBHsjXC9PtmnW+wfxJQ0zCeA6sUwALcE6Imim1nWJLZUcEepK314l6kfyGCbjxlinkzFFRiEkY38SiYNaaahzgEkM1Rp71JxO+QePaVwjopZMnTyJk1L332sAtbqF8fgSwCBPYwBhaNMIOyBgnM2RST+vR2kGPqBFnH9ZDcosxPb3rTbR2GrxNny+hgIW3IG+BEWuCGexw8DBDsvZii8mIjD+XpJesAY3l23m5xl5reJfepKRsyfVy5iYFA1gUwAbGkKgNN932XKyOfsyQNutqLRo2hvpRj+S1UeZQh7OO7JEjR17RQnzKrWh37vY7fOO5S8EgLGACGxjBCmawex4CiGVZOgtjFMRaWgZIGcRENcB1jawaZk6dOvUbyt0XvhK4qsJmya5n+wfdYFAAE9ggCVYwe/wxWAOyuNVnCxjs379/QP7M63xmXRk4z5mkEZXfZw8dOrRXm/+jbnFzwm3bHpMzy1l0CwNYwAQ2iIIVzGAHUTg2yZoBydgWcPPmzZp8c4NqZKbXQY41UidwzpFVw/GjR4/+kh50n7rTuU8qznZAp3SDASxgAluIkTNUww4HoKl8VGXRRGtEKejpKTwO6M1aNE5VmbNJI6rzyiMdHR2/oK775sOB2/ABy87KD7rQqQAGsEA0xBaNT7CHeEiLjhCNKO67c+fOMfXQoCqo0wKzaDjAOZscV0+NHz58+CV1yPOcX7qf/ixws7GRQAe6pBPdYAALmISX1E9CWNJmXOFntxe5rfLh6bQyL774ouvs7Bytra1tUm+xoafcyfV5NmUHRUqdQy0tLUuq6uvb3a0fC9zoSMIdeNPqzvjP3Z9z7pHHA82SCb5z2Ldv37MiOSpyGYgS5bJ4HOelGMg2Orp/Wsaz2dZjilyXG7t27cpoBsPk0YcSasSkNC5hzHAZTQCje/bs+fmZM2d2631E4L72Ded+8BPn2q7yMq88RRYykS0d6EInusEQYomsKctG1pQxeFDFM4tC0QMqVtu9e3dyy5Yta7ROVWvXwZEhr1sqhoeH0zqu41ixUu9mSKvWr19//erVqx9Q51RpYQvc736dcLs0jAdL9BQpLXvRoDOu+77s3J13B5r+8aCx48ePPy133StyYxqTY5CU9cbkeRDNYlGRzxMllxn4mKxp2764nor4BfmDBw8GGzdu7NCJ9lqIq7dyIswsRqcUdczbb7+9VyfRx6655pqtjY2NN7i7PpvQjBy4V19OuL//1c5J9P51oori69o6566/yblbPuLcDTcHrqYGHUFfX98eYdk9NDTUPYEkFs2qc+3kG3cl0EZftHRqWE36NFYEHARqk3jiiScS27Ztq5fAlVhV1uXbBd7o88VYWhblyA7L8mKtUuUcD6yRhT+t3r4WORaw8pFDCXdO75z8lykU8FUKX6S0KL36PWa9QgPn5DUHZMHfamY9pk624SJLMiYzShlCFsMlkGFl3yEJT3dDQ0MPE6uXFU9LiFLoyW7fvp2PoPjOyM5KY2Q5ceaIPa20Ui5GHtJpfWvUqpOuDzU3N28UmKsl7lIb5JxkHDl//vy/9STyuvavZwWeGZX5gskmozwpBG2p8yR1zW4or4mzT/e6ypGEU1miFGLZHTt2LBVxvjeyUzaB8ofDfH7DQSxjOC1laYgq5XTLTrj0ZNSgL8jaBKJJY6pRVmlErur3acz3SVavlowuWXFIEw0fYGSJEFVqs6pIQs5iOCZtOfEkmXxk6Q6J5QF7Umuic1KiFGBVUshiWWWXSFBSAM2VRTApwCkmKRHkgz4OZRnzNnnpmiUpOnoXIDUvvHTTffbSJH4HllMRDxM6a3B8T8SOB7fMhpOOkRPpnK7ZAZm7CsMFXdvbddUvS1IyyxOlUAIjsg899FCDFC+DlCLrrJEQOftCREQ4ZuREy063BMKONXTNftrWYmT6IKLRlo08JJTa/lrWsjxWFmkjSV76zVWxph+TyLsUSavjFZdL42Tvv//+arnjCgHigytzZSxLDAnbGYhAQI6TaDoBnnQYZK3j1N5mScm2BV4E7IswWZRnS1w4+g5QHWBWhxyBTtDmoVNzwJARuIQlPS9T7C/KpZIfWXbTpk3J6667bokILMJatPFkdQ0nc2nd8+SoQ6cUiRcBru1NBqmu+RDDCGM5T5BKujZXVUcNaWd2Zt26dbZOSteU7kpbH6ZF1FeOE37wwQdrdTbZKnK1njAsyUMyJG1kuSYKsIlSGY+DRk43MFT0HAwprqnoCeoyo7ngrGZ0279eDkFTqJ/LIkojKbU2TFJcQ1jrV7OI1EMUl+Z+jCiXRpSMDxBV3ghBTKQsH3NRbo+IYM+TTz45+Nhjj1n5uyGJzssm6oGSCkhEeuvWrRUrV65sFOAGkbTDV4hTD/IiQDYKuhc9IMOIgpBkRp02qPW0f/ny5fZ3kHdLLlKmzBUR9YI8Ya6xNON4w4YNdQJerYmlSkBhaZ+0KWXMQgwXZUyOabxn1DmjXV1dw9pORlu4mSAoPRZmhKgXNjGNd8DEsvj1TBKKy/2/zP8Hk5R0eJVxXBgAAAAASUVORK5CYII=";\n    window.markerFacility3DYellow = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA+CAYAAAB3NHh5AAAAAXNSR0IArs4c6QAAD4tJREFUaAXlm3uMVdUVxve59857YBheM8DwECgCYlAoRazRRjS0CUmtrSVtk1K1D5IGbGJJNE1qbEps1NA/jDa1TVv+qm0pNQptTWqERuVVDJa3BXnDwCDDDMM87sy9p99v3bPPXIZhmBGE23QnZ/a+5+zH96219trPCdwnFMIwDFR1Qk/FhQsXyhKJRDGPfieDIOA9j7KFGcVZxenS0tIOpdv1tCpPp+JrHgB1TUJE0O3evbto3LhxVUVFRYMEusxXnk6n+2yruLg49HkVI4h0V1dXS0VFxTn97lBd+d/zsg4smRpY9otze5JPP/100NDQUD5o0KBhkydProRcZ2enE8iAtMg4fusx0vwm6JvFEk6orPYb4gR9KFW6RHmG6mf72bNnP6qurm6mwNWQ71PqhqaXPwJg5SC6ZMmSsiFDhtSITHkExkhCjgA+acpiSPcWRJjXYSqVgih8Q4SQR95F6Y7W1taGqyE+YMKQheg999yTmDt3bk0mk6n2xNRXjaQIJjxh0ryEdEQccr5dM1OI8hAU05+NsE/LrGNBQDybzbYcO3asXtaUVtVWB5X2J/iGr5hXGCwvZB999NGSESNGjBWBEhUMIqIJyEGqvb0dx4Smi2pqam4T4DsEfoKc1li9HqzHrEF1tuppFoGjKndI9Ww6derUdpHq1PtQTiyDICLiWU9c2s+q3Uxzc/Px4cOHtwBedfaLeL8Iq23TKhUvW7ZskBocIw1a/xfQZEQ00dHRkRT4IgnjrvLy8rsFfJ6AVFGuv0FtNUlQG2W6/5RfeFtC6iwpKYF4Nnrw6g7SaFtt1q9cubLxqaeewg9ckfQVCeeTffzxx4ep0lq1FwiQabStrQ2SSciOHj36c1VVVd9DkzHBs7udO/iqc8StJ5y7ED1kqBide8oVD73FuZu+qHh6XBTNNzU1/fLEiRPrIa16M2VlZUZeAkXLmH5WAm987rnn6vtDuk/C+WSXL19eq9/DJH36YlJE0WhKfTgps7pVjuv70sCthrZxr3N7f+vch39xruk/MYF+Jao+5dzELzk39WHnqqdaEbW349y5cy+eOXNmRzKZzIh8l4ij8QxahrTChddff/3oQw89lO1L05clnE/Wa9aTpY9CVr9T48eP/5b61iNCFri206Hb/OPA7fm1ZG+W1y+OvWYKks5N+7Zzc38SurKR4AzVx39z+PDh34lkF6SjPh6TlvDPPfvssyf70nSvhCELCBzU0qVLK1X5eDWWQJvehEW2fNKkSU/q230uzIZu2zOBe+9nznWZD+mVw8d6map0btYTzs1+MnRBIpCg/3HgwIFnRLrVmzhal9CzaFrfT2k+8BFt9abpyxKG7OLFi4tlrpPkoJLSagqyaFVhxIQJE55RPN11ng/dG4sCd+RvH4tPvwuN+4JzC/4QOk3gZOK7Dx069KTiBrRNv5a2u7x5q98fluNkjLzEiTGfvSh4U2acHTZs2DjIRn3WyKqvlMdkmw86t3reJ08WhAiUttQmggYDWFAAigCj0jbpkeMcu3//fqZslyj0IsKeLPXPmDFjpEymVBUl6LOqHHMukhkvN80a2bnONe4i+/UJtPXnO5wnDRYwgQ2MYJVWEyKerKurq8VKe5K+iLBHzcRCZjJM2g2QHg5KwxBkF6nPLnCdF0L3Vw0h7Q2+yPWL2047a1sYwAImsIERrGAmSFmVzBl6AosJe+1Onz49qKysrME8qABHhdnIvKfJGSxRBaF785uBO7ujZ13X7zdtg0FYwAQ2MHqnCnYejdU1PbUcE/Zob7755lKRH4x58EhyRnjkyJHfRXBu+8rAfbjGZ79xMRiEBUxggzBYPW5pmvl88WOPPTY4H6QGu1ygINqdNWtWrTKWSVqYSJH6RtGoUaM+M3jw4MWu41zo/v5g4DLtvtiNjU9tce6WJWGyuGK0THiXvPNJxTg16SxkteVk9sUrVqw4t379evPYpmF9M282ceLEhNJM7hMia9qVxIq0HPuOMXtPY22a9XiBBLCASQGMYEXLYIcDZq1QwhLWc7zIpDUXZqLPOJfA80nLidra2jka0Ke4luPO/fuFAmGaBwNMF04wvZwCVjCDHQ7kgrT6eWzW9pKOjTmrk1eRUY+RlmmnNEf+rFXPdDHTltdSgSTBtPtXpmWwgjmfAyqWiVfBEcSYsCUaGxsT+lBOZj/u6ltSfUADn8LB1ywqyD8RNrCCOX9cFl48doqhFq6xSd97771lzJfJQFBfSGh6NkXz1BGu5ZhzZ94rSK4GCmzCCFYwgx0OcBEnU6hmX7bpYIQxZ16QyZszkpIjKHztejVEWgYz2L1Zw4mA9ZI11rAy2HYNGWUSeLiE3PpNVt/prb7awo0jjGAGOxzgIsA2CdFwZVulCd+ZtbwqVgaTRhQnZCJ1xrD1ZOES9cgijMI8RiTM8UIGLozHSpbA1TSszXM+sFdqGSLXDuHq/0HC1WgXDpCFkzTO8JRgBRibNB/k0o0fklEholJ7wT5UoYcIozCXRdjNWXlOwNcUtJuwpOF3IQNJxx4Vtncufb7Q6WqGkcMIZo8/0nB84qF5Rjdh7DwKKpMLkhSHW86V10SfCjiKMILZ4xda03Iet24vLVfe265bq1EsH1XATCNo3RhzmHtBrHVzNu7DIuz3f3yMKeRW+OwfF3qIMMaYc3hjLvw8ffp0N2GtMOKTLsgTVDjnrSq799ULlneEEcw59LEC/SlluGHDhm7CGoLSWnHYWlLpUAN1tqWlZa8RrLuvYHnGwMbeb0kwgx0OrIvhpIcDOPNHsUlLMhzWmgkoMwXc0aNH/6V3WTfu/tDlZmZx/QWVANvY+8CeBTPY4RBhNE7y3PBzCXbpNZcO9aIVifggKWUkrUZNxPe7ZGng6nISjCoprAhswghWMIuDHbnCBU54acWtcI01vHXrVo4us9rQ5szGTBrTOH/+PFp2btKXC4tkPpoIG1jBLBO2Y1a4KBsaDiUI895GWFPLUOthSLZBGu1SUONZRid3byt/xk35eugGT85vpjDSHL6BTRjBCmawwwEu9F+FzMsvv2wbcbGGT548GUpCTXTyyAwySEpntCebmpo3uCAZuDtWFAbJfBRzf6rpRTIAI1jBLBM2DcMFtjL1Jl+EhbJ1avqx3HaTyGYip4Vp2yndvn37/kg5N/mroRsx25e98TFYhAlsYNSORxeY8/Cb45KHNsJwNQ3TmUGvFQVm0KwCdviMtPS6S1cLGnQ++4bSgbv7Rbm6eBpKsRsTElq+g0WYdMPnDTAq3QVmzBkOSqO0dm3RtnmOsUnTjzHrgwcPnlHGEClFpkElnfq+Rp68wdXoPOmeX9wYkvmtgkFYwLR37941YES7YAY7HAjaqz4DN180JswLzPr9999vUyXNHDZLUhw6U0mnNvaaVPHz8gMdbtojzt26zNdx/WPanvaw+me2A0xgAyNYI8z+Tkh648aNcf8FqBHGtlG517JO2U9JWln1CRwA/aKTCmUBBw4dOvxLlQvdXStDN/Er158sbdK2MIAFTGCLMOJzPNmsRp5TcIKb91UXaRj0aHnXrl0SWvtH9IM8wmlJL/3BBx+8I2/4qnntz/8pdLN/dP1I0xZtyiuDASxgEkbuaaIUHJYR1vuWzZs32829fIDx2ZL2e9xbb73lVq9e7TRIB3JSbTpY41AtpcK2VaKC7GO748eP79NiOj2osnKGq5sfOMbCQ+tsuM6v/JqlcVDzVzk38wdqIwxP1tf/Xl1vjQh26FgXsmlp1vqw9uYg3LVnz54jmzZt6srXLngu0TAv0TIee8uWLUeoSI85LsUsMDokxY7t27e/tv/AgZ9rVt7mpnzDua/t1O2bT2A2Rp3UrTZoizZpGwxgiTAZRq4+SB6Y8lHd1LO5M3zyg+0I5L9QgYDdPZEOZP/JRYsWDdKe9QQN3nYoLlMv1kK6WIuNEj2l2vi+SXmXquHcorl+o3Pv/tC5+nfzqx14uvZO5+583rnaeVZW7Z8QnhdkygdFtB2yWBnaVewJd8kyT2ma3NCz73oAKZ+4TJzdsWPH+ZkzZ9ar4lqZkO1qqgEn0hQJdXfqgMa5J0R6vo5VH0jVzqtyD76Tu4jGPS0upTXkpuOXaaP79YhP63LaA7l7WtEFNXWpJjmmV0XgTXUtIyqykOR2jfVbvcexMmc4t2rVqjPC0l1nj9QlGuZ7Dy2j7cScOXM4g+ViWpEeOztWXMwjTRcJmORRXKm7IQt182e+8lbGbXHy2Li7+xae3wX1N/GIqwWyckxcRLOjFgnzzZ07d65VGy0iRHeCoDkpma+R1e9OTFkW1vLKK68c1slD9nLapfJeCfOhJ+mhQ4cmFyxYMBxNC0xKZzYpiMrU7NHYTVysb0UiyyXxW3SxdLa6w20CO5Q6rxQktLOaKGzXBdNtR44c2aW6OlUX5ppWnyW2B+JyTjbmQlblGrU4OC7F2NDa01Hlt9snYTLm9WfTtK7sVolIXUTUrkNAVI1y5aBIxNkmTSGUKM0dzDodZY4RSLpFpUjYfrfytKM9Ca9efe+4VjvHGFb0GBliHohKaMRo18ZaCR5vjBnXv/TSS5hxTBbcftwlnR8uS5hMaJk4n7R+JhYuXFgm0uP0vUQk7W6FgHMum/9woA5xRgKOMNnct1M90tQr4qrC9p7sirBeMbtjt8X6JCT944mKNO9Yt3fKEx9bs2bN+f6Spc0+CZNBeC4hLecUqK+kdEF8lLJUi5jdFoC0BJBUGa4P2TmtYlhdRJh6fdA3v9nAbMgm/CJtS1N+i6BNfiQEBMFtWlZA52XyJ9auXZseCFnavCJhMglTTJrfaiTgAF2kg6lTp1bISfEvABWeOKQFljsiRlbvTbsqakc41OEDWlbaSIuQkRZJtmhsaptPVHmZAZ5et25ds3dO1EOfJb6cGfPNh34R9pkhjnnzG9LyhgHahtj8+fMr5KCGC9QgmXZ8K15pDrY4urFJDmmZpFWpb2y2GdiImL/9ftFteBFp5Z88NPwxRNkeHJ6YSvpyUNZIjz8DIkzZ3rTtiaNxZSm+/fbbh6jPDZY3LYO8tC/MuaNLvXO8oy4RZ+/bYtXLlqptutGMsrdrrG/R90ZtTLT3RpQ6lM+Ik+5PGDBhX+nliPM96uPUnRR5vHKZBMCQVaK0mbvinMeS6Uq7kkEXU9a0PHabhqYL27ZtY3VmZHw/pe6BmC/5e4aPTdhX1JM47zF3Yq950gLPsEbS1dfX23ddMzJCyoeQLO01ST5vtqSvlih1EK6acK6a3F9Pnl++r5P2AiDdV+iNIPkHarZ9tXFNCffWUL4Qevve8921JNez7v/L3/8FVTNaFuCoDYgAAAAASUVORK5CYII=";\n    window.markerFacility3DGreen = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA8CAYAAAA34qk1AAAAAXNSR0IArs4c6QAADpZJREFUaAXlm1tsHUcZx3fPxT6+X+LYcW6OnRKhUhoiSkJbhURCUJXSCJBC1apSEZXaKlLah6qUB6CUSqgVbwVEuQQpL4gqEi8UJB6qFpUo0LRpaUsU5ebEsZ04ja/x5dg+5yz/3+edZY9vsVPHscRYc2Z2Z+ab/3++b76Z3Vn73g0IQRAkJbZCMaNYEkbuJcIYKM0rFhQnwphVOur7/qTSJQ/+UkkUubRk1ShWKULwegPEhxUHRRrySxI+MVERRHOrFElnhImJiXn7KCkpQbtzBYj2Kl4V6fnqzdU+uj8viKjWLBkRLNftRsUyVxwjFcmN3XPVitJpRI3MtHvUR8sfi+xQUeNFXESAFtomnH8QrKVNjIjJ4ppAKsCUm+jJycmivtLptCNldSBHiJF05XFNjkjYJcSb0EX8FHV+rXbCwdxbr5iOE3TkdB+CXi6Xw+n4SpFvfYiosv8LIuouglQqBRnSAoNDPkZ6OmEcWJfIMo8XHBZMVB3jZNaKCN6TYFpz2ouRS0CQa8pCspAv6isk55ESIEmeVLIdaSsLtTydcI/E9xmSBfwUdT5XffW2SgSbwvIZBCGFaebz+aQiRBP19fVt1dXVO5PJZKsANSQSiVWkyJC8K4VCoZdU9duHhobe6uvrOwtJ1SfmMe2QPFqei/CAxGHKcfMOYRYn1ySqHtaIZH3YzBchM0uIjY2NJSGVzWaNYF1dXWtNTc3XBWyniGHiCw4i3ql+3hocHHytv7+/HcKZTCYP2bKyMiMuYYEGwDSO4FDTo8peEFnuzxnmJSqSkSYFwkxRqZmlCCYhOD4+nhSgxubm5kdLS0u/pp7MtPtzQ97bw+97H42d9HpzA15fGEFSn6q1uErpbWVbvO2Vn/PqUtUOZF4y/3rx4sUDkn9ZMvMhYSMd064RC8my5nY7AbOlcxIVyUqR2kgjR3JkZASypkGBSel+etOmTY9oxB/S/bK8lw/+NvCW/+bQP70T2bNeoL+FBF/+6tOZNm939Re9e2p3aluV9NW/DGbsD+fOnTsoMpMinIOw7hcqKioKSvHQcbKXhYE1d9YwK1FkiESbWiTiJJmDmKvMDK3VtLS0/ESmtB3Jh6++6x288ifv4uRlLq87NKcbvUcavuXdXfV5k6Ep8vb58+d/pItBTYc8ZswcnoNsh8iyBM0IM4iKJHOwVQRLp5PEXKXVlJzMxjVr1rykjlsG8kPBS92/9jHRpQyY9LNrHw9qk9U4ufM9PT3Pyml1iGBO83YG2dCE0XC7yM5YZ2cj2iSCbOnM8WCuaDIkmVZHLevXr/+VhNW0j3d6L3T93Ps4t2Avv6ixWJ2q9364br/XWroeTz3Q2dm5T3jOC8NknKxzUCHZEWHrmN4R2ouChKFFI6nULSMJzBVNymSr161b91NIvjvykfe9jhdvGElAMYD0QV/qs5a+wQAWMOkeU8twqrpLK8Qj8myOXBFR3WRrZ9s6hLilgzmpuZLevHnzD2Sum86Pd3kvdr/iZYNxJ+eGpfRBX/RJ32AAC5jw+mB0hGMgGkW2yFojoirIaHTY/aidHgq1TmKuMe/6kDzf3cOF0eCF7l8sC0kHHLL0Sd9gkKd/SFjTYAMjWAlgR8NK2V8WaTUiqgJM1rRJZUzDrZPycvWVlZUPU/6z7t/4PZNXyC5roE/6plOwgElEDSNYwRySdLiMj7swotImFRkBGxnMgVGSE2IOpDZs2PCwCireGfnQOzb6H9d22VP6BgNYwAQ2MIbWZxsaOISES8WLR0kLTqNGkgpEiOJpESQP11xWXrZHtQPWyZsdQgwBmMAGxnBViDsmBxNeFoqImjr1wwhhFgjR1u4+7VxK3hz6l39Oy8nNDmAAC5jABkawunkKB2E0E1da7ZxSQhlGwqnY1k5GKPS07GPvgtzrQ4dJVkRwWMAmgoYVzMqjOCMpTqTs4EoBTQGvQsxkVWgPzWqE6Sa0A2rWYtw2VsgGH44u7c6Hzq83gAVMYAOjw8uUg0NI0ok3JUZEndmqsj0sq3KysbHxTmrLAfjasLuGNz0FC5gAAkawOtyOh4qc+do7LYjauwsaOdVjtooJrVlbuP/+yHGSFRUcJjCCFcwCaFNvGlDjFydqmtTaaa9CsH3tJ20tulF72WmAFnXpMIERrGjUYYdwTJjNUTxWiSoyEpSZ5rF5ZYj2ZqEvNxhrtzKyDhMYwRpihiD+hocAy2ujTz6JRuPsjYUa+jIFn90HN3g7sNJCfzj4wlgHVsI8GBNozV59OK1iAhodiyqzo4WxZdi8zwNy1qLRYOq0QhjLHF6wY5lwmdYogUZnBDW2ihops9m6ZLTBmFH3Zt1wmBxGh3kuPGwYbN3AlsNgJGmokerjHi+zVlpwmMAYI2nYY1wc7AIatTdYTOAwiPtUkJB+7tWlOCRbWcFhAqPDK4TTuTjQBTRafFYQFmmSB7J1ex5rKVnrGqyY1GESxo/BOg+wAOOEqKlS2ym2VHZEoCd5e52oF8nvI2B75dZ55NycIodJGP+NRsGsNdU4wCWGyl6DsP5MhC+VKHMVAkbpwoULCMluybQG9cmVY75gARPYwBhqNMIOkRgnU2RCT+u80rfAiKgRZx82QjKLcT29f6BCf4fepq+UEGLhLcgHYESbYAY7HBzOkOwY1zgjMu5cklGyBjSWbRdkGkeo+I26r6jyrKsRxcsWwAAWAtjAGBK16abbjovV0Y8p0ryu1qJRY6gfjUhBG2UOdTjryJ06deofWoi71pY0effU7HSNb1oKBrCACWxgBCuYwe54CCCaZemcmqMg1tIyRMokJqoBpmtk1XCiq6vrj5Q/2HB/UOpH6y23ljXQNxjoFExggyRYwezwx0ANSeNWny1gcOzYsSHZsx3YMCoEXRtR2X3uxIkTR7T5P12XrPEfXf3tmJzlzdI3GMACJrBBFKxgBjuIwrlJ1hRIxibd7t275XzzV9XIVK+DHGukQeCcI6eGk6dPn/4dI3hv7S7v3ppdtF3WQJ/0DQawgAlsIUbOUA07HACm8qzKIkcbeZfe3l7bHOjNWjRPVZmzSSOq88pTHR0dv0XI400PBp8p+xTZZQn0RZ90BgawQDTEFs1PsIeASIuOEI0o5nvgwIFxjdBVVdCgBabRcIJzNjmpkZo8efLk3zUgr3F++eN1TwXbK24P5d64hD7oiz7pGwxgAZPwkjonhCbN4wo/u73IbEFnj2hk3njjDU+nVdny8vJ6jRYbem57Mn2eTdlBkVLnxOrVq5sqMhUtX6reHmQL4/6J7Bmru9Q/36z7qvfUmu8EaT/l853D0aNHfy+SWZGbgChRJovFcV6Kgmyjo/sXpbyig6HIdAF58ODBCXkwVB59KKFGOKVJCcPDTcgBZA8fPvzLS5cuHdK71eC7q/d6329+wmtK2XcYS8IVWchENn3QF33SNxhCLJE2pdlIm1IGB8FYZlEoekBFa4cOHUrs2bOnTetURrsOjgx53ZIaHR1N67iOY8USvZshLd2yZcudra2tT2hwSnNBPvjzwOv+q71/8UYKkQ8o6uxaFxWJcu+BVfd599d+OUj5SSxovL29/RWZ6xGRG9ecHIektDcuy4NoDo2KfIEo+Xjgs9Jm9Cjm+ky5jEuPHz8ebNu2rUMn2pshrtHKizBejEEpGpgzZ84c0Un02VtvvXVvbW3tXTI1X54xODr8gX9k+D07J9H7Vyd61rQskfHuqPisd2flNu8LlbcHGb+UPoKBgYHDwnJoeHi4ZxpJNJrT4NrJN+ZKoI2+aOnUtJr1aawIOEjUxn/++ef9/fv3V0rgRrQq7fLtAi+H+WIsLY1yZIdmebFWonKOB9qk4Qc02rchh5DTxxtnsx0+X6X05vr17mnqJVu9nm9XpeoUa722zMYgJUcz1cLzZDUfSYOvyrOe1SDbdJEmmZMTSplCFsMlkGll3yEJT09VVVUvjtXJiqdRB/GbjuzTTz/NR1B8Z2RnpTGynDinRTCttEQmRh7SaX1r1KiTrjsaGhq2CQxrUOTw4n3E8nnJOHXlypX39CTyjvavlwUej4q/wNlMKE8KQVvqHEldsxsqyHEO6F73XCTpa06iFKLZZ555Zo2I872RnbIJlDsc5vMbDmKZw2l1loaoUk637IRLT0ZV+oKsWSDqNadqpRV7J6P6A5rzA5LVpyWjW1oclqPhA4wcEaJKzauKJOQshnPSlhNHEucjTXcILg/Ys2oTLrMSpQCtkkIWzSrbJEEJATRTFsGEACdxUiLIB30cyjLnzXnpmiUpOnoXIDWfeumm++ylSdwOLK8iHiZyas/3ROx4MMtc6HSMnEjndc0OyMxVGPp1fVFteCE9J0kr52euIIER2SeffLJKHa+DlCLrrJEQOT6PsxMtaZgTLcsLhB1r6Jr9tK3F8X5ENNqykYeEUttfS1uWR8sibSTJq38zVbTp5iQyr0XS6sQ7ny0fJ/vYY49lZI4bBIgPrsyU0SwxJGxnIAIBOU6iGQR4MmCQtYFTe/OSkm0LvAjYF2HSKM+WmHD0HaAGwLQOOQKDoM1Dp3yAfcYq0fNq0nGyjt3FXKnkR5rdtWtXYseOHU0iUIe2aOPI6hpOZtK658hRh0EpEi8CXNubDFJd8yGGEUZzjiCVdG2mqoEa1s7s0i233GLr5EJJImNBRKlIiBPet29fuc4mG0Wu3BGGJXlIhqSNLNdEATY5KrOXcJCbEqv/PAifgyGF5qjoCOpyQr7gsjy67V8XQ9A61M+iiNIoTpZrCGv9ahCRSohi0tyPEeXSiJJxwZHkGmIQJR8zUW6PiWDvyy+/fPW5556z8ushidxFE6WRCwJi7fHMe/fuTW3cuLFWgKtE0g5fIU5dyIuAa2ap7kUPyDDiZkhyQoN2VevpoD7Fs23V9ZKLd/iJiDpBjjDXkGYeb926tULAM3IspQIKS/ukTSlzFmKYKHNyXPN9QoOT7e7uHtV2MtrCLQVB9WNhSYg6YdPT+ABML4tfLyWhuNz/y/x/AYAZzciRFFYEAAAAAElFTkSuQmCC";\n        let viewToken = \''+t+"',\n            drawableContainer = '',\n            modelViewer = \"\",\n            app = \"\",\n            isShow = '"+n+'\',\n            initCircleData = \'\',\n            viewType = \'\';\n\n        function isEmptyObject(obj = {}) {\n            let name;\n            for (name in obj) {\n                return !1;\n            }\n            return !0\n        }\n\n        function getQueryString(name) {\n            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");\n            var r = window.location.search.substr(1).match(reg);\n            if (r != null) return unescape(r[2]);\n            return null;\n        }\n\n        function removeDrawableItem() {\n            if (!drawableContainer) {\n                return;\n            }\n            drawableContainer.clear();\n\n            if (!initCircleData) {\n                return;\n            }\n            loadCircleItems(initCircleData);\n        }\n\n        function circleType(qState) {\n            var circle = document.createElement(\'div\');\n            var colorsTypes = {\n                \'red\': {\n                    background: \'#F33D3D\',\n                    border: \'1px solid #F33D3D\',\n                    boxShadow: \'0 1px 4px 0 #732424\'\n                },\n                \'yellow\': {\n                    background: \'#F39B3D\',\n                    border: \'1px solid #F39B3D\',\n                    boxShadow: \'0 1px 4px 0 #9B6711\'\n                },\n                \'green\': {\n                    background: \'#28D575\',\n                    border: \'1px solid #28D575\',\n                    boxShadow: \'0 1px 4px 0 rgba(66,96,35,0.80)\'\n                },\n                \'default\': {\n                    background: \'\',\n                    border: \'\',\n                    boxShadow: \'\',\n                    opacity: 0\n                },\n            };\n            var background = "#fff",\n                border = "1px solid #28D575",\n                boxShadow = "0 1px 4px 0 rgba(66,96,35,0.80)",\n                type;\n            switch (qState) {\n                case \'unrectified\':\n                    type = "red";\n                    break;\n                case \'delayed\':\n                    type = "red";\n                    break;\n                case \'unreviewed\':\n                    type = "yellow";\n                    break;\n                case \'staged\':\n                    type = "yellow";\n                    break;\n                case \'reviewed\':\n                    type = "yellow";\n                    break;\n                case \'inspected\':\n                    type = "green";\n                    break;\n                case \'accepted\':\n                    type = "green";\n                    break;\n                default:\n                    type = "default";\n            }\n\n            circle.style.width = \'10px\';\n            circle.style.height = \'10px\';\n            circle.style.borderRadius = \'5px\';\n            circle.style.background = colorsTypes[type].background;\n            circle.style.border = colorsTypes[type].border;\n            circle.style.boxShadow = colorsTypes[type].boxShadow;\n            return circle;\n        }\n\n        function item3Dcircle(qState) {\n            var imgSrc = "";\n            switch (qState) {\n                case \'unrectified\':\n                    imgSrc = window.marker3DRed;\n                    break;\n                case \'delayed\':\n                    imgSrc = window.marker3DRed;\n                    break;\n                case \'unreviewed\':\n                    imgSrc = window.marker3DYellow;\n                    break;\n                case \'staged\':\n                    imgSrc = window.marker3DYellow;\n                    break;\n                case \'reviewed\':\n                    imgSrc = window.marker3DYellow;\n                    break;\n                case \'inspected\':\n                    imgSrc = window.marker3DGreen;\n                    break;\n                case \'accepted\':\n                    imgSrc = window.marker3DGreen;\n                    break;\n                case \'standard\':\n                    imgSrc = window.markerFacility3DGreen;\n                    break;\n                case \'notStandard\':\n                    imgSrc = window.markerFacility3DRed;\n                    break;\n                case \'edit\':\n                    imgSrc = window.markerFacility3DYellow;\n                    break;\n                default:\n                    imgSrc = window.marker3DGreen;\n                    break;\n            }\n            return imgSrc;\n        }\n\n        function load2DItems(initData) {\n            var items = [];\n            for (var i in initData) {\n                var config = new Glodon.Bimface.Plugins.Drawable.CustomItemConfig();\n                var x = initData[i].drawingPositionX,\n                    y = initData[i].drawingPositionY,\n                    z = 0;\n                if (!!x && !!y) {\n                    console.log(initData[i].qcState);\n                    var circle = circleType(initData[i].qcState);\n                    circle.setAttribute("id", JSON.stringify(initData[i]));\n\n                    config.content = circle;\n                    config.viewer = modelViewer;\n                    config.worldPosition = {\n                        x,\n                        y,\n                        z\n                    };\n\n\n                    var tag = new Glodon.Bimface.Plugins.Drawable.CustomItem(config);\n\n                    var startTime, clientX, clientY;\n                    tag._domElement.addEventListener("touchstart", function(event) {\n                        startTime = new Date().getTime(),\n                            clientX = event.changedTouches[0].clientX,\n                            clientY = event.changedTouches[0].clientY;\n                    });\n\n                    tag._domElement.addEventListener("touchend", function(item) {\n                        var x = event.changedTouches[0].clientX;\n                        var y = event.changedTouches[0].clientY;\n\n                        endTime = new Date().getTime();\n\n                        if (endTime - startTime < 300 && Math.abs(x - clientX) < 10 && Math.abs(y - clientY) < 10) {\n                            var tempData = item && item.changedTouches[0] && item.changedTouches[0].target.getAttribute("id") || \'\';\n                            getPositionInfo(tempData);\n                        }\n                    });\n                    items.push(tag);\n                }\n\n            }\n            return items;\n        }\n\n\n        function load3DItems(tempData, drawableContainer) {\n\n            var items = [];\n            for (var i in tempData) {\n                var config = new Glodon.Bimface.Plugins.Marker3D.Marker3DConfig();\n\n                var x = tempData[i].drawingPositionX,\n                    y = tempData[i].drawingPositionY,\n                    z = tempData[i].drawingPositionZ;\n                if (!!x && !!y && !!z) {\n                    config.src = item3Dcircle(tempData[i].qcState);\n                    config.id\n\n                        = JSON.stringify(tempData[i]);\n                    config.worldPosition = {\n                        x,\n                        y,\n                        z\n                    };\n                    var tag = new Glodon.Bimface.Plugins.Marker3D.Marker3D(config);\n                    tag.onClick(function(item) {\n                        console.log(item.id, "item.id");\n                        getPositionInfo(item.id);\n                    });\n\n                    drawableContainer.addItem(tag);\n                    modelViewer.render();\n                    items.push(tag);\n\n                }\n            }\n             CLOUD$1.PickEditor.prototype.processTouchend = extendProcessTouchend;\n        }\n\n\n        function extendProcessTouchend(event) {\n\n           \n            if (this.timeId) {\n                clearTimeout(this.timeId);\n            }\n\n            if (this.longTapFlag) {\n                this.longTapFlag = false;\n                event.preventDefault();\n            }\n            var cameraControl = this.cameraControl;\n\n            function dispatchPickEvent(intersect, selectable) {\n                var modelManager = cameraControl.viewer.modelManager;\n                // 外部需要获得event的一些状态，需要得到canvas坐标，屏幕坐标没用处\n                modelManager.dispatchEvent({\n                    type: CLOUD$1.EVENTS.ON_CLICK_PICK,\n                    event: event, // add\n                    doubleClick: false, // add\n                    canvasPos: {\n                        x: canvasXY.x,\n                        y: canvasXY.y\n                    }, // adjust\n                    intersectInfo: intersect ? {\n                        selectedObjectId: intersect.userId,\n                        objectType: intersect.objectType,\n                        selectable: selectable,\n                        modelId: intersect.databagId,\n                        worldPosition: intersect.worldPosition,\n                        worldBoundingBox: intersect.worldBoundingBox,\n                        point: intersect.point,\n                        innnerDebugging: intersect.innnerDebugging\n                    } : null\n                });\n            }\n            switch (event.touches.length) {\n                case 0:\n                    {\n                        this.state = this.StateType.NONE;\n\n                        var sceneState = cameraControl.viewer.modelManager.sceneState;\n\n                        var scope = this;\n                        var screenPos = new THREE.Vector2(event.changedTouches[0].clientX, event.changedTouches[0].clientY);\n\n                        var canvasXY = cameraControl.screenToCanvas(event.changedTouches[0].clientX, event.changedTouches[0].clientY);\n\n\n\n                        var intersectContext = cameraControl.getIntersectContext(screenPos);\n                        var intersect = cameraControl.intersector.pick(intersectContext, null);\n\n\n                        if (!intersect || !(intersect.objectType === CLOUD$1.PICKABLETYPE.Marker3d)) {\n                            cameraControl.touchEndHandler(event);\n                            return;\n                        }\n                        // event.preventDefault();\n\n                        var userId = intersect.userId;\n\n                        scope.lastPickedUserId = userId;\n\n                        if (CLOUD$1.Utils.isMobileDevice()) {\n                            cameraControl.pivot = intersect.point;\n                        }\n\n                        // 将位置和包围转换到世界系\n                        cameraControl.scene.intersectToWorld(intersect);\n\n                        intersect.innnerDebugging = event.altKey;\n                        intersect.cx\n\n                        = screenPos.x;\n                        intersect.cy\n\n                        = screenPos.y;\n\n                        sceneState.addSelection([userId]);\n\n                        dispatchPickEvent(intersect, true);\n                        cameraControl.updateView(true);\n                    }\n                    break;\n\n                case 1:\n                    if (CLOUD$1.EditorConfig.NoRotate) return;\n\n                    this._rotateStart.set(event.touches[0].clientX, event.touches[0].clientY);\n                    this.state = this.StateType.ROTATE;\n                    break;\n\n                default:\n                    break;\n            }\n\n        };\n\n        function loadCircleItems(data) {\n            if (!data) {\n                return;\n            }\n\n            initCircleData = data;\n            initData = JSON.parse(data);\n            if (!drawableContainer) {\n                return;\n            }\n            if (viewType == \'DWGVIEW\') {\n                drawableContainer.addItems(load2DItems(initData));\n                return;\n            }\n            if (viewType == \'3DVIEW\') {\n                load3DItems(JSON.parse(initCircleData), drawableContainer);\n                return;\n            }\n        }\n\n        function loadPinItems(data) {\n            if (!data) {\n                return;\n            }\n            initData = JSON.parse(data);\n            if (!drawableContainer) {\n                return;\n            }\n            var items = [];\n            for (var i in initData) {\n                var config = new Glodon.Bimface.Plugins.Drawable.ImageConfig();\n                var x = initData[i].drawingPositionX || initData[i].x;\n                var y = initData[i].drawingPositionY || initData[i].y;\n                config.src = window.imgSrc;\n                config.worldPosition = {\n                    x,\n                    y,\n                    z: 0\n                };\n                var tag = new Glodon.Bimface.Plugins.Drawable.Image(config);\n                items.push(tag);\n            }\n            return drawableContainer.addItems(items);\n        }\n\n        function showSelectedComponent(data) {\n            if (!data) {\n                return;\n            }\n            initData = JSON.parse(data);\n            if (!modelViewer) {\n                return;\n            }\n            modelViewer.setSelectedComponentsById(initData);\n            modelViewer.render();\n        }\n\n        function getSelectedComponentsEx(components) {\n            if (!modelViewer) {\n                return [];\n            }\n            let tempObj = modelViewer.getSelectedComponents();\n            if (!Array.isArray(tempObj) && tempObj) {\n                let rtnObj = [];\n                components && Object.keys(components).map((property) => {\n                    rtnObj.push(property);\n                });\n                return rtnObj;\n            }\n            return components;\n        }\n\n        function getSelectedComponent() {\n            if (!modelViewer) {\n                return;\n            }\n            var result = {};\n            var tempObj = getSelectedComponentsEx(modelViewer.getSelectedComponents());\n            for (var i = 0; i < tempObj.length; ++i) {\n                result = Object.assign(result, {\n                    elementId: tempObj[i],\n                    fileId: \'\',\n                    objectId: tempObj[i]\n                });\n            }\n\n            if (window.modelEvent && window.modelEvent.getPosition) {\n                if (isEmptyObject(result)) {\n                    window.modelEvent.getPosition("");\n                } else {\n                    window.modelEvent.getPosition(JSON.stringify(result));\n                }\n            }\n            return;\n        }\n\n        function getPositionInfo(obj) {\n            if (!window.modelEvent || typeof modelEvent.getPositionInfo != \'function\') {\n                return \'modelEvent不存在\';\n            }\n            if (window.modelEvent && window.modelEvent.getPositionInfo) {\n                window.modelEvent.getPositionInfo(obj);\n            }\n            return;\n        }\n\n        function getPosition(obj) {\n            if (!window.modelEvent || typeof modelEvent.getPosition != \'function\') {\n                return \'modelEvent不存在\';\n            }\n            if (isEmptyObject(obj)) {\n                return \'无对应的位置信息\';\n            }\n            if (window.modelEvent && window.modelEvent.getPosition) {\n                window.modelEvent.getPosition(JSON.stringify(obj));\n            }\n            return;\n        }\n\n        function cancelPosition() {\n            if (window.modelEvent && window.modelEvent.cancelPosition) {\n                window.modelEvent.cancelPosition();\n            }\n            return;\n        }\n\n        var options = new BimfaceSDKLoaderConfig();\n        options.viewToken = viewToken;\n        BimfaceSDKLoader.load(options, successCallback, failureCallback);\n\n        function successCallback(viewMetaData) {\n            var view = document.getElementById(\'model\');\n            var appConfig = "";\n            viewType = viewMetaData.viewType.toUpperCase();\n            if (viewType == "DWGVIEW") {\n                appConfig = new Glodon.Bimface.Application.WebApplication2DConfig();\n                appConfig.domElement = view;\n\n                app = new Glodon.Bimface.Application.WebApplication2D(appConfig);\n                app.load(viewToken);\n                modelViewer = app.getViewer();\n            } else if (viewType == "3DVIEW") {\n                appConfig = new Glodon.Bimface.Application.WebApplication3DConfig();\n                appConfig.domElement = view;\n\n                app = new Glodon.Bimface.Application.WebApplication3D(appConfig);\n                app.addView(viewToken);\n                modelViewer = app.getViewer();\n            }\n\n            if (!app) {\n                return;\n            }\n\n            if (viewType == "DWGVIEW") {\n                var drawaleContainerConfig = new Glodon.Bimface.Plugins.Drawable.DrawableContainerConfig();\n                drawaleContainerConfig.viewer = modelViewer;\n                drawableContainer = new Glodon.Bimface.Plugins.Drawable.DrawableContainer(drawaleContainerConfig);\n\n                var startTime, endTime, clientX, clientY;\n                var domElement = modelViewer.getDomElement();\n                var toolbar = app.getToolbar("MainToolbar");\n                var leftSubToolBar = app.getToolbar("LeftSubToolbar");\n\n                if (toolbar) {\n                    toolbar.hide();\n                }\n\n                if (leftSubToolBar) {\n                    leftSubToolBar.hide();\n                }\n\n                domElement.addEventListener("touchstart", function(event) {\n                    startTime = new Date().getTime(),\n                        clientX = event.changedTouches[0].clientX,\n                        clientY = event.changedTouches[0].clientY;\n                });\n\n                domElement.addEventListener("touchend", function(event) {\n                    var offset = {};\n                    var x = event.changedTouches[0].clientX;\n                    var y = event.changedTouches[0].clientY;\n\n                    var viewer = self._dwgViewer,\n                        endTime = new Date().getTime(),\n                        position = domElement.getBoundingClientRect(),\n                        clientPosition = {\n                            x: x - position.left,\n                            y: y - position.top\n                        },\n                        worldPosition = modelViewer.clientToWorld(clientPosition);\n                    if (endTime - startTime > 300 && Math.abs(x - clientX) < 10 && Math.abs(y - clientY) < 10 && isShow == \'false\') {\n                        removeDrawableItem();\n\n                        var config = new Glodon.Bimface.Plugins.Drawable.ImageConfig();\n                        config.src = window.imgSrc;\n                        config.draggable = true;\n\n\n                        config.worldPosition = worldPosition;\n                        var tag = new Glodon.Bimface.Plugins.Drawable.Image(config);\n\n                        drawableContainer.addItem(tag);\n                        getPosition(worldPosition);\n                    }\n\n                });\n                modelViewer.addEventListener(Glodon.Bimface.Application.WebApplication2DEvent.Loaded, function() {\n                    if (window.modelEvent && window.modelEvent.loadDotsData) {\n                        window.modelEvent.loadDotsData();\n                        return;\n                    }\n                    // loadCircleItems(\'[{"qcState":"inspected","inspectionId":5200233,"rectificationId":null,"reviewId":null,"drawingGdocFileId":"408330d0c6a44d79a77d39018f5956e2","drawingPositionX":"8389.15185546875","drawingPositionY":"7541.7275390625","inspectionUserId":5200003,"responsibleUserId":5200001},{"qcState":"inspected","inspectionId":5200234,"rectificationId":null,"reviewId":null,"drawingGdocFileId":"408330d0c6a44d79a77d39018f5956e2","drawingPositionX":"9902.43212890625","drawingPositionY":"7712.3203125","inspectionUserId":5200003,"responsibleUserId":5200001},{"qcState":"inspected","inspectionId":5200241,"rectificationId":null,"reviewId":null,"drawingGdocFileId":"408330d0c6a44d79a77d39018f5956e2","drawingPositionX":"9201.3759765625","drawingPositionY":"3772.31982421875","inspectionUserId":5200003,"responsibleUserId":5200001},{"qcState":"inspected","inspectionId":5200278,"rectificationId":null,"reviewId":null,"drawingGdocFileId":"408330d0c6a44d79a77d39018f5956e2","drawingPositionX":"7152.9599609375","drawingPositionY":"13709.4404296875","inspectionUserId":5200003,"responsibleUserId":5210022}]\');\n            \n                });\n            } else if (viewType == "3DVIEW") {\n                var drawaleContainerConfig = new Glodon.Bimface.Plugins.Marker3D.Marker3DContainerConfig();\n                drawaleContainerConfig.viewer = modelViewer;\n                drawableContainer = new Glodon.Bimface.Plugins.Marker3D.Marker3DContainer(drawaleContainerConfig);\n\n                app.addEventListener(Glodon.Bimface.Application.WebApplication3DEvent.ViewAdded, function() {\n                    if (window.modelEvent && window.modelEvent.loadDotsData) {\n                        window.modelEvent.loadDotsData();\n                        return;\n                    }\n                });\n\n            }\n        }\n\n        function failureCallback(error) {\n            if (window.modelEvent && window.modelEvent.invalidateToken) {\n                window.modelEvent.invalidateToken();\n                return;\n            }\n        };\n    <\/script>\n</body>\n'+(a?"\n    </html>":"")}},359:function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(64));t.getBimFileToken=function(t,n){!function(e){e()}(function(){!function(t,n){r.default.getModelLatestVersion(storage.loadProject()).then(function(i){var o=i.data.data.versionId;storage.projectIdVersionId=o,function(t,n){r.default.getModelBimFileToken(storage.loadProject(),storage.projectIdVersionId,t).then(function(t){var a=t.data.data;e.storage.bimToken=a,n(a)}).catch(function(e){a.default.info("抱歉，您目前没有查看此模型的权限，请联系系统管理员。",3),n(null)})}(t,n)}).catch(function(e){n(null),a.default.info("非常抱歉，您目前没有查看此模型的权限，请联系系统管理员。",3)})}(t,n)})},n(63);var r=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}}).call(this,n(38))},36:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(e){e&&e.__esModule}(n(1));var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"toOnLine",value:function(){storage.setOfflineState(!0)}},{key:"toOffLine",value:function(){storage.setOfflineState(!0)}},{key:"isOnLine",value:function(){return!0}}]),e}();t.default=r},360:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=P(n(64)),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\navigation\\bim\\RelevantBlueprintPage.web.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(63);var o=n(48),l=P(n(10)),u=n(16),s=n(54),c=T(n(65)),f=n(1),d=P(f),p=P(n(9)),m=P(n(7)),g=P(n(27)),h=P(n(12)),_=P(n(3)),y=P(n(6)),b=(P(n(8)),P(n(2))),v=T(n(166)),N=n(25),E=T(n(359)),w=T(n(256)),I=(n(358),n(44));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}var S=p.default.get("window"),C=S.height,O=S.width,k="\nfunction callMessage(action, data, callbackName) { \n  let actionIn = 'unknown'; let dataIn = {}; let callbackNameIn = 'defaultReturn';\n  if(action) { actionIn = action;} else {alert('无效调用');return;}\n  if(data) { dataIn = data;}\n  if(callbackName) { callbackNameIn = callbackName; } \n  let cmd = JSON.stringify({action:actionIn,data:dataIn,callback:callbackNameIn});\n  window.postMessage(cmd,'"+c.BASE_URL+"');\n}\nwindow.modelEvent = {\n  defaultReturn : function(data) {console.log('执行命令成功:'+data);},\n  invalidateToken : function() { callMessage('invalidateToken');},\n  loadDotsData : function() { callMessage('loadDotsData');},\n  getPosition : function(jsonData) { callMessage('getPosition', jsonData);},\n  getPositionInfo : function(jsonData) { callMessage('getPositionInfo', jsonData);},\n};\ndocument.addEventListener('message', function(e) {eval(e.data);});\n",x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.loadTitle=function(){return d.default.createElement(u.BarItems.TitleBarItem,{text:a.state.drawingName?a.state.drawingName:"图纸",__source:{fileName:r,lineNumber:68}})},a.renderEditLeftTitle=function(){return d.default.createElement(u.BarItems,{__source:{fileName:r,lineNumber:73}},d.default.createElement(u.BarItems.LeftBarItem,{imageStyle:{},navigation:a.props.navigation,onPress:function(e){return a.goBack(e)},imageSource:n(202),__source:{fileName:r,lineNumber:74}}),a.state.pageType==w.PAGE_TYPE_EDIT_QUALITY?d.default.createElement(u.BarItems.LeftBarItem,{imageStyle:{},navigation:a.props.navigation,onPress:function(e){return a.changeBluePrint(e)},imageSource:n(598),__source:{fileName:r,lineNumber:81}}):null)},a.loadLeftTitle=function(){return a.state.showFinishView?d.default.createElement(u.BarItems,{__source:{fileName:r,lineNumber:90}},d.default.createElement(u.BarItems.LeftBarItem,{imageStyle:{},navigation:a.props.navigation,onPress:function(e){return a.removePosition(e)},text:"取消",__source:{fileName:r,lineNumber:91}})):a.renderEditLeftTitle()},a.renderEditRightTitle=function(){return a.state.showFinishView?d.default.createElement(u.BarItems,{__source:{fileName:r,lineNumber:104}},d.default.createElement(u.BarItems.RightBarItem,{imageStyle:{},navigation:a.props.navigation,onPress:function(e){return a.finish(e)},text:"完成",__source:{fileName:r,lineNumber:105}})):a.state.showCreateButton?d.default.createElement(u.BarItems,{__source:{fileName:r,lineNumber:113}},d.default.createElement(u.BarItems.RightBarItem,{imageStyle:{},navigation:a.props.navigation,onPress:function(e){},text:"长按新建",__source:{fileName:r,lineNumber:114}})):null},a.loadRightTitle=function(){return a.state.pageType!=w.PAGE_TYPE_DETAIL?a.renderEditRightTitle():null},a.componentDidMount=function(){var e=a.props.navigation.state.params,t=e.pageType,n=e.relevantBlueprint,r=!1;t!=w.PAGE_TYPE_EDIT_QUALITY&&t!=w.PAGE_TYPE_EDIT_EQUIPMENT||(r=!0);var i=t==w.PAGE_TYPE_DETAIL;t!=w.PAGE_TYPE_QUALITY_MODEL||v.isQualityCreate()||(i=!0);var o=!0,l=!0;t==w.PAGE_TYPE_DETAIL?o=!1:t==w.PAGE_TYPE_QUALITY_MODEL&&(v.isQualityCreate()||(o=!1,l=!1)),a.setState({drawingGdocFileId:n.drawingGdocFileId,drawingName:n.drawingName,drawingPositionX:n.drawingPositionX,drawingPositionY:n.drawingPositionY,pageType:t,showFinishView:r,show:i,showCreateNoticeView:o,showCreateButton:l});var u=setTimeout(function(){clearTimeout(u),a.setState({showCreateNoticeView:!1})},4e3);E.getBimFileToken(n.drawingGdocFileId,function(e){if(e){var t="./bimEntryHtml.html?param="+e+"&show="+a.state.show;a.setState({url:t,error:null})}else a.setState({url:"",html:"",error:new Error("加载失败！")})})},a.createNoticeView=function(){return d.default.createElement(b.default,{style:{alignItems:"flex-end",position:"absolute",right:10},__source:{fileName:r,lineNumber:211}},d.default.createElement(m.default,{source:n(363),style:{width:20,height:20,marginRight:30},__source:{fileName:r,lineNumber:212}}),d.default.createElement(y.default,{style:{backgroundColor:"#00baf3",borderRadius:6,color:"#ffffff",fontSize:16,padding:10,marginTop:-8},__source:{fileName:r,lineNumber:213}},"手指长按屏幕可以在当前位","\n","置新建检查单或者质检单哦"))},a.goBack=function(){storage.goBack(a.props.navigation,null)},a.changeBluePrint=function(){var e=a.props.navigation;storage.pushNext(e,"BimFileChooserPage",{fileId:0,dataType:"图纸文件",pageType:w.PAGE_TYPE_NEW_QUALITY})},a.setPosition=function(){var e=[{x:a.state.drawingPositionX,y:a.state.drawingPositionY,z:0}];a.refs.webview.injectJavaScript("javascript:loadPinItems('"+JSON.stringify(e)+"');")},a.removePosition=function(){a.refs.webview.injectJavaScript("javascript:removeDrawableItem();"),a.setState({showFinishView:!1},function(){a.props.navigation.setParams({loadTitle:a.loadTitle,loadLeftTitle:a.loadLeftTitle,loadRightTitle:a.loadRightTitle})})},a.finish=function(){var e={drawingGdocFileId:a.state.drawingGdocFileId,drawingName:a.state.drawingName,drawingPositionX:a.state.drawingPositionX,drawingPositionY:a.state.drawingPositionY};a.state.pageType==w.PAGE_TYPE_NEW_QUALITY?(storage.bimFileChooseCallback(e,"图纸文件"),a.props.navigation.pop("NewPage")):a.state.pageType==w.PAGE_TYPE_EDIT_QUALITY?(storage.bimFileChooseCallback(e,"图纸文件"),a.props.navigation.goBack()):a.state.pageType==w.PAGE_TYPE_DETAIL?a.props.navigation.goBack():a.state.pageType==w.PAGE_TYPE_QUALITY_MODEL&&a.props.navigation.replace("NewPage",{relevantBlueprint:e})},a.onMessage=function(e){var t=JSON.parse(e.nativeEvent.data),n=t.action;if(n)switch(n){case"invalidateToken":a.invalidateToken();break;case"getPosition":a.getPosition(t.data);break;case"getPositionInfo":a.getPositionInfo(t.data);case"loadDotsData":a.loadDotsData()}},a.showRepairDialog=function(e,t,n){var r=[];t&&r.push({title:"新建整改单",onPress:function(){s.BimFileEntry.showNewReviewPage(a.props.navigation,e.inspectionId,l.default.CREATE_TYPE_RECTIFY)}}),n&&r.push({title:"查看检查单",onPress:function(){var t={value:{}};t.value.id=e.inspectionId,storage.pushNext(null,"QualityDetailPage",{item:t})}});r.length>0&&o.ActionSheet.show(r,{title:"取消"})},a.showReviewDialog=function(e,t,n){var r=[];t&&r.push({title:"新建复查单",onPress:function(){s.BimFileEntry.showNewReviewPage(a.props.navigation,e.inspectionId,l.default.CREATE_TYPE_REVIEW)}}),n&&r.push({title:"查看检查单",onPress:function(){var t={value:{}};t.value.id=e.inspectionId,storage.pushNext(null,"QualityDetailPage",{item:t})}});r.length>0&&o.ActionSheet.show(r,{title:"取消"})},a.showDetailDialog=function(e,t){var n=[];t&&n.push({title:"查看检查单",onPress:function(){var t={value:{}};t.value.id=e.inspectionId,storage.pushNext(null,"QualityDetailPage",{item:t})}});n.length>0&&o.ActionSheet.show(n,{title:"取消"})},a.getBluePrintDots=function(){a.state.pageType==w.PAGE_TYPE_QUALITY_MODEL&&l.default.getBluePrintDots(storage.loadProject(),a.state.drawingGdocFileId).then(function(e){a.refs.webview.injectJavaScript("javascript:loadCircleItems('"+JSON.stringify(e.data)+"');")}).catch(function(e){console.log(e)})},a.loadDotsData=function(){a.setPosition(),a.getBluePrintDots()},a.onLoadEnd=function(){},a.state={drawingPositionX:"",drawingPositionY:"",showFinishView:!1,name:"",pageType:w.PAGE_TYPE_NEW_QUALITY,show:!1,showCreateNoticeView:!0,showCreateButton:!0,url:"",html:"",error:null},a.props.navigation.setParams({loadTitle:a.loadTitle,loadLeftTitle:a.loadLeftTitle,loadRightTitle:a.loadRightTitle}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){e.updateIndex!=this.props.updateIndex&&this.loadDotsData()}},{key:"invalidateToken",value:function(){a.default.info("invalidate token ",2)}},{key:"getPosition",value:function(e){var t=this;e=JSON.parse(e),this.setState({drawingPositionX:e.x,drawingPositionY:e.y,showFinishView:!0},function(){t.props.navigation.setParams({loadTitle:t.loadTitle,loadLeftTitle:t.loadLeftTitle,loadRightTitle:t.loadRightTitle})})}},{key:"getPositionInfo",value:function(e){if(e){var t=JSON.parse(e);switch(t.qcState){case l.default.QC_STATE_UNRECTIFIED:case l.default.QC_STATE_DELAYED:this.showRepairDialog(t,v.isCreateRectify()&&v.isMe(t.responsibleUserId),v.isQualityBrowser());break;case l.default.QC_STATE_UNREVIEWED:this.showReviewDialog(t,v.isCreateReview()&&v.isMe(t.inspectionUserId),v.isQualityBrowser());break;case l.default.QC_STATE_INSPECTED:case l.default.QC_STATE_REVIEWED:case l.default.QC_STATE_ACCEPTED:this.showDetailDialog(t,v.isQualityBrowser())}}}},{key:"onNavigationStateChange",value:function(e){}},{key:"render",value:function(){var e=this;return this.state.error?d.default.createElement(u.NoDataView,{text:"加载失败",__source:{fileName:r,lineNumber:442}}):""==this.state.url?d.default.createElement(u.LoadingView,{__source:{fileName:r,lineNumber:446}}):d.default.createElement(g.default,{style:[D.container,{backgroundColor:"#ecf0f1"}],__source:{fileName:r,lineNumber:450}},d.default.createElement(h.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:451}}),d.default.createElement(b.default,{style:D.container,__source:{fileName:r,lineNumber:452}},d.default.createElement(N.WebView,{bounces:!1,ref:"webview",onNavigationStateChange:function(){return e.onNavigationStateChange},scalesPageToFit:!0,javaScriptEnabled:!0,domStorageEnabled:!1,onMessage:function(t){return e.onMessage(t)},injectedJavaScript:k,source:{uri:this.state.url},style:{width:O,height:C},__source:{fileName:r,lineNumber:454}}),this.state.showCreateNoticeView?this.createNoticeView():null))}}]),t}();x.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{headerTitle:t.state.params.loadTitle?t.state.params.loadTitle():d.default.createElement(u.BarItems.TitleBarItem,{text:"",__source:{fileName:r,lineNumber:44}}),headerLeft:t.state.params.loadLeftTitle?t.state.params.loadLeftTitle():d.default.createElement(u.BarItems,{navigation:t,__source:{fileName:r,lineNumber:45}}),headerRight:t.state.params.loadRightTitle?t.state.params.loadRightTitle():null}};var D=_.default.create({container:{flex:1,paddingTop:0}});t.default=(0,I.connect)(function(e){return{updateIndex:e.updateData.updateIndex}},function(e){return{}})(x)},361:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\navigation\\bim\\WebPage.web.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=m(i),l=(m(n(175)),m(n(3))),u=m(n(9)),s=m(n(6)),c=m(n(2)),f=m(n(27)),d=m(n(12)),p=m(n(445));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=u.default.get("window"),_=h.height,y=h.width,b=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.componentDidMount=function(){console.log(a.props.navigation.state.params),a.props.navigation.setParams({title:a.props.navigation.state.params.title,rightNavigatePress:a._rightAction})},a._rightAction=function(){console.log("执行js window.modelEvent.loadDotsData();"),a.refs.webview.injectJavaScript("javascript:window.modelEvent.loadDotsData();")},a.onMessage=function(e){console.log(e.nativeEvent.data);e.nativeEvent.data},g(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"onNavigationStateChange",value:function(e){console.log("onNavigationStateChange:"),console.log(e)}},{key:"render",value:function(){var e=this,t="http://192.168.81.30/app.html?param="+storage.bimToken+"&show=false";return console.log("web view:"+t),o.default.createElement(f.default,{style:[v.container,{backgroundColor:"#ecf0f1"}],__source:{fileName:a,lineNumber:103}},o.default.createElement(d.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:104}}),o.default.createElement(c.default,{style:v.container,__source:{fileName:a,lineNumber:105}},o.default.createElement(p.default,{bounces:!1,ref:"webview",onNavigationStateChange:function(){return e.onNavigationStateChange},scalesPageToFit:!0,javaScriptEnabled:!0,domStorageEnabled:!1,onMessage:function(t){return e.onMessage(t)},injectedJavaScript:"function callMessage(action, data, callbackName) {   let actionIn = 'unknown'; let dataIn = {}; let callbackNameIn = 'defaultReturn';  if(action) { actionIn = action;} else {alert('无效调用');return;}  if(data) { dataIn = data;}  if(callbackName) { callbackNameIn = callbackName; }   let cmd = JSON.stringify({action:actionIn,data:dataIn,callback:callbackNameIn});  console.log('执行命令：'+cmd);  window.postMessage(cmd);}window.modelEvent = {  defaultReturn : function(data) {console.log('执行命令成功:'+data);},  loadDotsData : function() { callMessage('loadDotsData');},  invalidateToken : function() { callMessage('invalidateToken');},  cancelPosition : function() { callMessage('cancelPosition');},  getPosition : function(jsonData) { callMessage('getPosition', jsonData);},  getPositionInfo : function(jsonData) { callMessage('getPositionInfo', jsonData);},};//document.addEventListener('message', function(e) {eval(e.data);});",source:{uri:t,method:"GET"},style:{width:y,height:_},__source:{fileName:a,lineNumber:106}})))}},{key:"loadDotsData",value:function(){}},{key:"invalidateToken",value:function(){}},{key:"cancelPosition",value:function(){}},{key:"getPosition",value:function(e){}},{key:"getPositionInfo",value:function(e){}}]),t}();b.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{title:t.state.params?t.state.params.title:"图纸",headerRight:o.default.createElement(s.default,{onPress:function(){return t.state.params.rightNavigatePress()},style:{marginLeft:5,width:30,textAlign:"center"},__source:{fileName:a,lineNumber:43}},"测试")}},t.default=b;var v=l.default.create({container:{flex:1,paddingTop:0}})},362:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\navigation\\bim\\ThumbnailImage.web.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=m(i),l=m(n(0)),u=(m(n(3)),m(n(2))),s=m(n(7)),c=m(n(10)),f=m(n(36)),d=m(n(210)),p=n(25);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(t){function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return t.getImageSource=function(){return t.state.url?{uri:t.state.url}:n(599)},t.state={url:null},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,i.Component),r(l,[{key:"componentDidMount",value:function(){var t=this;if(this.props.fileId)if(f.default.isOnLine())c.default.getBluePrintThumbnail(storage.loadProject(),e.storage.projectIdVersionId,this.props.fileId).then(function(e){if(e){var n=e.data.data.thumbnailUrl;t.setState({url:n})}}).catch(function(e){});else{var n=(new d.default).getImagePathById(this.props.fileId);p.RNFS.exists(n).then(function(e){e&&t.setState({url:"file://"+n})}).catch(function(e){console.log(e)})}}},{key:"render",value:function(){return o.default.createElement(u.default,{__source:{fileName:a,lineNumber:77}},o.default.createElement(s.default,{style:{width:72,height:48},source:this.getImageSource(),__source:{fileName:a,lineNumber:78}}))}}]),l}();t.default=g,g.propTypes={fileId:l.default.string}}).call(this,n(38))},364:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.RightBarButtons=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\navigation\\bim\\BimFileChooserPage.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=P(n(10)),l=n(16),u=n(1),s=P(u),c=P(n(9)),f=P(n(73)),d=P(n(7)),p=P(n(138)),m=P(n(12)),g=P(n(3)),h=P(n(6)),_=P(n(8)),y=P(n(2)),b=P(n(602)),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(257)),N=P(n(601)),E=P(n(362)),w=n(65),I=n(25),T=P(n(41));function P(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=c.default.get("window"),x=k.width,D=(k.height,null),A=null,R=t.RightBarButtons=function(t){function a(){var t,n,r;S(this,a);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=C(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(o))),r._onSearchPress=function(t){e.storage.pushNext(t,"BimSearchPage",{dataType:t.state.params.dataType,pageType:t.state.params.pageType})},C(r,n)}return O(a,s.default.Component),i(a,[{key:"render",value:function(){var e=this;return s.default.createElement(l.BarItems,{navigation:this.props.navigation,__source:{fileName:r,lineNumber:30}},s.default.createElement(l.BarItems.RightBarItem,{navigation:this.props.navigation,imageSource:n(163),onPress:function(t){return e._onSearchPress(t)},__source:{fileName:r,lineNumber:31}}))}}]),a}(),j=function(e){function t(e){S(this,t);var n=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));M.call(n);var a=n.props.navigation.state.params,r=a.fileId||0,i=a.dataType||"",o=a.navData?a.navData:[];n.state={isLoading:!0,refreshing:!1,error:!1,errorInfo:"",dataArray:[],page:0,hasMore:!0,projectId:storage.loadProject(),latestVersion:storage.projectIdVersionId,fileId:r,dataType:i,pageType:a.pageType,navData:o};var l=T.default.getBasicInfoManager();return D=l.getModelList(),console.log("-----------modellist--------------"),console.log(D),A=l.getBlueprintList(),console.log("------------blueprintlist-------------"),console.log(A),n}return O(t,u.Component),i(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchData(1),this.deEmitter=I.DeviceEventEmitter.addListener("changeDir",function(t){if(e.state.navData.length-1===t.index&&e.state.fileId!==t.value.fileId){var n=[].concat(e.state.navData);n[t.index]=a({},n[t.index],t.value),e.setState({fileId:t.value.fileId,navData:n,refreshing:!0,page:0},function(){e.fetchData(0)})}})}},{key:"componentWillUnmount",value:function(){this.deEmitter&&this.deEmitter.remove()}},{key:"renderErrorView",value:function(e){return"TEST"===w.SERVER_TYPE?s.default.createElement(l.NoDataView,{text:"error："+e,__source:{fileName:r,lineNumber:309}}):s.default.createElement(l.NoDataView,{text:"加载失败",__source:{fileName:r,lineNumber:311}})}}]),t}();j.navigationOptions=function(e){var t=e.navigation,n=t.state.params.dataType,a="图纸",i=o.default.APP_QUALITY_DRAWER;return"图纸文件"===n?(a="图纸",i=o.default.APP_QUALITY_DRAWER):(a="模型",i=o.default.APP_QUALITY_MODLE),{headerTitle:s.default.createElement(l.BarItems.TitleBarItem,{text:a||"",__source:{fileName:r,lineNumber:50}}),headerRight:s.default.createElement(R,{navigation:t,__source:{fileName:r,lineNumber:51}}),headerLeft:s.default.createElement(l.BarItems,{top:t.getParam("top"),navigation:t,currentItem:i,__source:{fileName:r,lineNumber:53}})}};var M=function(){var e=this;this._filterByFileId=function(e,t){if(t&&t.length>0){var n=0==e?"0":e;return t.filter(function(e){return e.parentId===n})}return[]},this._filterBySpecial=function(e,t){return"all"==e?t:t&&t.length>0?t.filter(function(t){return t.specialtyCode===e}):[]},this._filterByBuilding=function(e,t){return 0==e?t:t&&t.length>0?t.filter(function(t){return t.buildingId===e}):[]},this._keyExtractor=function(e,t){return t},this.fetchData=function(t){""===e.state.latestVersion?o.default.getModelLatestVersion(storage.loadProject()).then(function(n){var a=n.data.data.versionId;storage.projectIdVersionId=a,storage.setLatestVersionId(storage.loadProject(),a),e.setState({latestVersion:a}),e.fetchDataInner(t,storage.loadProject(),a)}).catch(function(t){e.setState({isLoading:!1,error:!0,errorInfo:t})}):e.fetchDataInner(t,storage.loadProject(),e.state.latestVersion)},this.fetchDataInner=function(t,n,a){var r="图纸文件"==e.state.dataType?A:D,i=e._filterByFileId(e.state.fileId,r);e._handleData(i,t)},this._handleData=function(t,n){var a=[];if(t.length>0){n>0&&(a=e.state.dataArray);t.forEach(function(e){a.push({key:"P0"+e.fileId,value:e}),0}),a=e.sortData(a),e.setState({dataArray:a,isLoading:!1,refreshing:!1,page:n+1,hasMore:!0})}else e.setState({isLoading:!1,refreshing:!1});a=null},this.filterData=function(t){return(!e.state.fileId||0==e.state.fileId)&&t.length>0&&e.state.dataType?t.filter(function(t){return t.name===e.state.dataType}):t},this.sortData=function(e){return e.sort(function(e,t){return e.value.folder?-1:t.value.folder?1:0})},this.getDirData=function(){var t=[];if(e.state.dataArray)for(var n in e.state.dataArray){if(!e.state.dataArray[n].value.folder)break;t.push(e.state.dataArray[n].value)}return t},this.getParentDir=function(){var t=[];return e.state.navData&&e.state.navData.length>0&&(t=e.state.navData[e.state.navData.length-1].dir),t},this._itemClick=function(t,n){var r=e.props.navigation;if(!0===t.value.folder){var i=[];e.state.navData.forEach(function(e){i.push(e)});var o=a({},t.value,{dir:e.getDirData()});i.push(o),storage.pushNext(r,"BimFileChooserPage",{fileId:t.value.fileId,dataType:e.state.dataType,pageType:e.state.pageType,navData:i})}else"图纸文件"===e.state.dataType?v.showBlueprintFromChoose(r,e.state.pageType,t.value.fileId,t.value.name):v.showModelFromChoose(r,e.state.pageType,t.value.fileId,t.value.buildingId,t.value.buildingName)},this._separator=function(){return s.default.createElement(y.default,{style:{height:.5,backgroundColor:"#CCCCCC",marginLeft:20},__source:{fileName:r,lineNumber:335}})},this.renderItemView=function(t){var n=t.item,a=t.index;return n.value.folder?e.renderFolderView({item:n,index:a}):e.renderFileView({item:n,index:a})},this.renderFileView=function(t){var n=t.item,a=t.index;return s.default.createElement(_.default,{key:a,activeOpacity:.5,onPress:function(t){t.preventDefault(),e._itemClick(n,a)},__source:{fileName:r,lineNumber:349}},s.default.createElement(y.default,{style:L.containerFileView,__source:{fileName:r,lineNumber:350}},s.default.createElement(E.default,{fileId:n.value.fileId,__source:{fileName:r,lineNumber:351}}),s.default.createElement(h.default,{style:L.content,__source:{fileName:r,lineNumber:352}}," ",n.value.name)))},this.renderFolderView=function(t){var a=t.item,i=t.index;return s.default.createElement(_.default,{key:i,activeOpacity:.5,onPress:function(t){t.preventDefault(),e._itemClick(a,i)},__source:{fileName:r,lineNumber:362}},s.default.createElement(y.default,{style:L.containerFolderView,__source:{fileName:r,lineNumber:363}},s.default.createElement(d.default,{source:n(248),style:L.image,__source:{fileName:r,lineNumber:364}}),s.default.createElement(h.default,{style:L.content,__source:{fileName:r,lineNumber:367}}," ",a.value.name)))},this._onEndReached=function(){},this._onRefreshing=function(){if(!e.state.refreshing){e.setState({refreshing:!0,page:0});var t=setTimeout(function(){clearTimeout(t),e.fetchData(e.state.page)},1500)}},this.onFilterChange=function(t,n){var a=t?t.code:"",r=n?n.id:0,i="图纸文件"==e.state.dataType?A:D,o=e._filterByFileId(e.state.fileId,i),l=e._filterBySpecial(a,o),u=e._filterByBuilding(r,l);console.log("-------------filter---------------"),console.log(a+" "+r),console.log(u);var s=[];u.length>0&&u.forEach(function(e){s.push({key:"P0"+e.fileId,value:e})}),e.setState({dataArray:s})},this.renderList=function(){return s.default.createElement(f.default,{style:{width:x},data:e.state.dataArray,renderItem:e.renderItemView,ItemSeparatorComponent:e._separator,onEndReached:e._onEndReached,onRefresh:e._onRefreshing,refreshing:e.state.refreshing,onEndReachedThreshold:.1,refreshControl:s.default.createElement(p.default,{refreshing:e.state.refreshing,__source:{fileName:r,lineNumber:456}}),__source:{fileName:r,lineNumber:447}})},this.renderData=function(){return s.default.createElement(y.default,{style:L.container,__source:{fileName:r,lineNumber:468}},s.default.createElement(m.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:469}}),s.default.createElement(y.default,{__source:{fileName:r,lineNumber:470}},s.default.createElement(N.default,{onFilterChange:function(t,n){e.onFilterChange(t,n)},children:s.default.createElement(b.default,{childView:e.renderList(),data:e.state.navData,onItemClick:function(t,n){I.DeviceEventEmitter.emit("changeDir",{value:t,index:n});var a=e.state.navData.length;e.props.navigation.pop(a-n-1)},__source:{fileName:r,lineNumber:474}}),__source:{fileName:r,lineNumber:471}})))},this.render=function(){return e.state.isLoading&&!e.state.error?s.default.createElement(l.LoadingView,{__source:{fileName:r,lineNumber:496}}):e.state.error?e.renderErrorView(e.state.errorInfo):e.renderData()}};t.default=j;var L=g.default.create({container:{flex:1,backgroundColor:"#FFFFFF"},containerFolderView:{flex:1,height:52,marginLeft:20,flexDirection:"row",alignItems:"center",backgroundColor:"#FFF"},containerFileView:{flex:1,height:72,marginLeft:20,flexDirection:"row",alignItems:"center"},title:{fontSize:15,color:"blue"},content:{left:0,top:15,marginLeft:12,textAlign:"left",fontSize:15,color:"black",alignSelf:"flex-start"},image:{width:30,height:25},barItem:{alignItems:"center",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start",width:70},barItemImage:{width:24,height:24,resizeMode:"contain"},spliteItem:{width:10}})}).call(this,n(38))},366:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=I(n(64)),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\navigation\\project\\ProjectPage.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(63);var o=n(1),l=I(o),u=(I(n(66)),I(n(3))),s=I(n(9)),c=I(n(6)),f=I(n(2)),d=I(n(12)),p=I(n(7)),m=I(n(8)),g=I(n(138)),h=n(44),_=n(25),y=w(n(166)),b=w(n(603)),v=n(16),N=I(n(10)),E=(I(n(209)),I(n(36)));function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}var T=s.default.get("window"),P=T.width,S=(T.height,function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._keyExtractor=function(e,t){return t},i.fetchData=function(e,t){if(!(e>0&&!1===i.props.hasMore)){var n=storage.loadLastTenant(),a=i.props.navigation.state.params.tenantId;i.props.fetchData(e,t,a,n)}},i._itemClick=function(e,t){var n=i.props.navigation,r=(storage.loadLastTenant(),i.props.navigation.state.params.tenantId);E.default.isOnLine()?y.loadAuthoritys(""+e.value.id,function(t){t?N.default.setCurrentTenant(r).then(function(t){storage.saveTenant(i.props.navigation.state.params.id),storage.saveLastTenant(r),storage.saveProject(""+e.value.id,""+e.value.name),storage.gotoMainPage(n)}).catch(function(e){a.default.info("切换失败",1.5)}):a.default.info("获取权限失败",1.5)},r):(storage.saveProject(""+e.value.id,""+e.value.name),storage.gotoMainPage(n))},i._separator=function(){return l.default.createElement(f.default,{style:{height:1,backgroundColor:"#F7F7F7",marginLeft:40},__source:{fileName:r,lineNumber:94}})},i.renderItemView=function(e){var t=e.item,n=e.index;return l.default.createElement(m.default,{key:n,activeOpacity:.5,onPress:function(e){e.preventDefault(),i._itemClick(t,n)},style:{},__source:{fileName:r,lineNumber:99}},l.default.createElement(f.default,{style:[C.containerView,t.value.id==storage.loadProject()?C.selectContainer:null],__source:{fileName:r,lineNumber:100}},l.default.createElement(c.default,{style:[C.content,t.value.id==storage.loadProject()?{color:"#00baf3",fontWeight:"bold"}:null],__source:{fileName:r,lineNumber:101}}," ",t.value.name)))},i.renderItemSimpleView=function(e){var t=e.item,a=e.index;return l.default.createElement(m.default,{key:a,activeOpacity:.5,onPress:function(e){e.preventDefault(),i._itemClick(t,a)},__source:{fileName:r,lineNumber:110}},l.default.createElement(f.default,{style:C.containerSimpleView,__source:{fileName:r,lineNumber:111}},l.default.createElement(p.default,{source:n(365),style:C.image,__source:{fileName:r,lineNumber:112}}),l.default.createElement(c.default,{style:[C.contentSimple,t.value.id==storage.loadProject()?{color:"#00baf3"}:null],__source:{fileName:r,lineNumber:115}}," ",t.value.name)))},i._onEndReached=function(){i.props.isLoading||!1===i.props.hasMore||i.fetchData(i.props.page,i.props.dataArray)},i._onRefreshing=function(){i.props.isLoading||i.fetchData(-1,[])},i.renderData=function(){return l.default.createElement(f.default,{style:C.container,__source:{fileName:r,lineNumber:134}},l.default.createElement(d.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:135}}),l.default.createElement(_.FlatList,{style:{width:P},data:i.props.dataArray,renderItem:i.renderItemView,ItemSeparatorComponent:i._separator,onEndReached:i._onEndReached,onRefresh:i._onRefreshing,refreshing:i.props.isLoading,onEndReachedThreshold:.1,refreshControl:l.default.createElement(g.default,{refreshing:i.props.isLoading,__source:{fileName:r,lineNumber:145}}),keyExtractor:function(e,t){return t+""},__source:{fileName:r,lineNumber:136}}))},i.renderDataSimple=function(){return l.default.createElement(f.default,{style:C.container,__source:{fileName:r,lineNumber:157}},l.default.createElement(d.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:158}}),l.default.createElement(c.default,{style:{color:"transparent",height:25},__source:{fileName:r,lineNumber:159}}," 项目列表 "),l.default.createElement(_.FlatList,{style:{width:P},data:i.props.dataArray,renderItem:i.renderItemSimpleView,keyExtractor:function(e,t){return t+""},__source:{fileName:r,lineNumber:160}}))},i.render=function(){if(i.props.dataArray&&1==i.props.dataArray.length){var e=storage.loadProject();if(e&&"0"==e)return i._itemClick(i.props.dataArray[0],0),l.default.createElement(v.LoadingView,{__source:{fileName:r,lineNumber:177}})}return i.props.isLoading&&!i.props.error?l.default.createElement(v.LoadingView,{__source:{fileName:r,lineNumber:182}}):i.props.error?i.renderErrorView(i.props.error):i.props.dataArray.length<5?i.renderDataSimple():i.renderData()},storage.homeNavigation||(storage.homeNavigation=i.props.navigation),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentDidMount",value:function(){this.fetchData(0,this.props.dataArray)}},{key:"renderErrorView",value:function(e){return l.default.createElement(f.default,{style:C.container,__source:{fileName:r,lineNumber:54}},l.default.createElement(d.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:55}}),l.default.createElement(c.default,{__source:{fileName:r,lineNumber:56}},"加载失败"))}}]),t}());S.navigationOptions={headerTitle:l.default.createElement(v.BarItems.TitleBarItem,{text:"项目列表",__source:{fileName:r,lineNumber:26}}),headerRight:l.default.createElement(f.default,{__source:{fileName:r,lineNumber:27}})},t.default=(0,h.connect)(function(e){return{dataArray:e.projectList.data,isLoading:e.projectList.isLoading,error:e.projectList.error,page:e.projectList.page,hasMore:e.projectList.hasMore}},function(e){return{fetchData:function(t,n,a,r){e&&e(b.fetchData(t,n,a,r))},resetData:function(){e&&e(b.reset())}}})(S);var C=u.default.create({container:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#FFFFFF"},containerSimpleView:{borderRadius:8,borderWidth:1,borderColor:"#00baf3",height:60,marginTop:5,marginBottom:15,marginLeft:20,marginRight:20,backgroundColor:"#FFF",alignItems:"center",flexDirection:"row"},containerView:{height:50,paddingLeft:40,paddingRight:40,justifyContent:"center"},selectContainer:{backgroundColor:"#F2FcFf"},title:{fontSize:15,color:"blue"},content:{alignItems:"center",textAlign:"left",fontSize:15,color:"#325771"},contentSimple:{marginLeft:10,fontSize:15,color:"#325771"},image:{width:40,height:40,marginLeft:10}})},367:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\navigation\\tenant\\TenantPage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(25),o=N(n(10)),l=n(16),u=n(1),s=N(u),c=N(n(93)),f=N(n(66)),d=(N(n(34)),N(n(7))),p=N(n(14)),m=N(n(12)),g=N(n(3)),h=N(n(6)),_=N(n(8)),y=N(n(2)),b=N(n(36)),v=N(n(209));function N(e){return e&&e.__esModule?e:{default:e}}var E=null,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.changeProject=!1,r.needBack=function(e){e&&e(!1),"0"!=storage.loadLastTenant()?r.resetTenant():e?e(!0):storage.gotoLogin(r.props.navigation)},r.resetTenant=function(){o.default.setCurrentTenant(storage.loadLastTenant()).then(function(e){storage.gotoMainPage(r.props.navigation,{activeIndex:storage.currentTab})})},r.loadLeftTitle=function(){return s.default.createElement(l.BarItems,{top:!1,needBack:r.needBack,navigation:r.props.navigation,currentItem:o.default.APP_EQUIPMENT,__source:{fileName:a,lineNumber:68}})},r.fetchData=function(){if(!0===r.props.navigation.getParam("change")&&"0"!=storage.loadLastTenant()&&"undefined"!=storage.loadLastTenant()){r.props.navigation.setParams({change:!1});var e=r.props.navigation;storage.pushNext(e,"ProjectPage",{tenantId:storage.loadLastTenant(),id:storage.loadTenant()})}var t=storage.loadUserInfo();if(t&&t.accountInfo){var n=t.accountInfo.userTenants;if(n){var a=n,i=[],o=0;if(a.map(function(e){i.push({key:"A0"+o,value:e}),o++}),1==i.length&&"0"==storage.loadLastTenant())return r.props.navigation.setParams({isFirst:!1}),void r._clickItem(i[0],0);r.setState({dataArray:i,isLoading:!1}),a=null,i=null}else r.setState({error:!0,errorInfo:{errorInfo:"未登录"}})}else storage.gotoLogin(r.props.navigation)},r._clickItem=function(e,t){if(b.default.isOnLine())o.default.setCurrentTenant(e.value.tenantId).then(function(t){var n=r.props.navigation;r.changeProject?(storage.saveTenant(e.value.id),storage.saveLastTenant(e.value.tenantId),storage.saveTenantInfo(JSON.stringify(e)),storage.saveTenantInfoRefresh("1"),E.downloadProjectInfo(e.value.tenantId+""),n.pop(1)):(storage.saveTenantInfo(JSON.stringify(e)),E.downloadProjectInfo(e.value.tenantId+""),storage.pushNext(n,"ProjectPage",{tenantId:e.value.tenantId,id:e.value.id}))});else{var n=r.props.navigation;r.changeProject?(storage.saveTenant(e.value.id),storage.saveLastTenant(e.value.tenantId),storage.saveTenantInfo(JSON.stringify(e)),storage.saveTenantInfoRefresh("1"),n.pop(1)):(storage.saveTenantInfo(JSON.stringify(e)),storage.pushNext(n,"ProjectPage",{tenantId:e.value.tenantId,id:e.value.id}))}},r.renderItemView=function(e){var t=e.item,i=e.index;return s.default.createElement(_.default,{key:i,activeOpacity:.5,onPress:function(e){e.preventDefault(),r._clickItem(t,i)},__source:{fileName:a,lineNumber:231}},s.default.createElement(y.default,{style:I.containerView,__source:{fileName:a,lineNumber:232}},s.default.createElement(d.default,{source:n(604),style:I.image,__source:{fileName:a,lineNumber:233}}),s.default.createElement(h.default,{style:[I.content,t.value.tenantId==storage.loadLastTenant()?{color:"#00baf3"}:null],__source:{fileName:a,lineNumber:236}}," ",t.value.tenantName)))},r._keyExtractor=function(e,t){return t},storage.homeNavigation||(storage.homeNavigation=r.props.navigation),r.state={isLoading:!0,error:!1,errorInfo:"",dataArray:[]},void 0!=r.props.navigation.state.params&&void 0!=r.props.navigation.state.params.changeProject&&(r.changeProject=r.props.navigation.state.params.changeProject),r.props.navigation.setParams({loadLeftTitle:r.loadLeftTitle}),E=new v.default,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),r(t,[{key:"componentDidMount",value:function(){this.appearAfterMount&&this.appear()}},{key:"componentWillUnmount",value:function(){this.removeBackListener()}},{key:"removeBackListener",value:function(){this.backListener&&(this.backListener.remove(),this.backListener=null)}},{key:"componentWillMount",value:function(){var e=this;if(this.fetchData(),"android"===p.default.OS){var t=c.default.BackHandler?c.default.BackHandler:c.default.BackAndroid;this.backListener=t.addEventListener("hardwareBackPress",function(){return storage.currentRouteName===e.props.navigation.state.routeName&&(e.resetTenant(),!0)})}"web"===p.default.OS&&(this.backListener=i.BackHandler.addEventListener("hardwareBackPress",function(){return storage.currentRouteName===e.props.navigation.state.routeName&&(e.resetTenant(),!0)}))}},{key:"renderLoadingView",value:function(){return s.default.createElement(y.default,{style:I.container,__source:{fileName:a,lineNumber:168}},s.default.createElement(m.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:169}}),s.default.createElement(f.default,{animating:!0,style:[I.gray,{height:80}],color:"#00baf3",size:"large",__source:{fileName:a,lineNumber:170}}))}},{key:"renderErrorView",value:function(e){return s.default.createElement(y.default,{style:I.container,__source:{fileName:a,lineNumber:183}},s.default.createElement(m.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:184}}),s.default.createElement(h.default,{__source:{fileName:a,lineNumber:185}},"加载失败"))}},{key:"createEmptyView",value:function(){return s.default.createElement(h.default,{style:{fontSize:40,alignSelf:"center"},__source:{fileName:a,lineNumber:243}},"还没有数据哦！")}},{key:"renderData",value:function(){return s.default.createElement(y.default,{style:{backgroundColor:"#fff",flex:1},__source:{fileName:a,lineNumber:249}},s.default.createElement(m.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:250}}),s.default.createElement(i.FlatList,{style:{backgroundColor:"#fff"},ListHeaderComponent:s.default.createElement(y.default,{style:{height:25},__source:{fileName:a,lineNumber:253}}),data:this.state.dataArray,renderItem:this.renderItemView,ListEmptyComponent:this.createEmptyView,getItemLayout:function(e,t){return{length:60,offset:45*t,index:t}},__source:{fileName:a,lineNumber:251}}))}},{key:"render",value:function(){return this.state.isLoading&&!this.state.error?this.renderLoadingView():this.state.error?this.renderErrorView(this.state.errorInfo):this.renderData()}}]),t}();w.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{headerTitle:s.default.createElement(l.BarItems.TitleBarItem,{text:"租户列表",__source:{fileName:a,lineNumber:18}}),gesturesEnabled:!1,headerLeft:t.state.params&&t.state.params.loadLeftTitle?t.state.params.loadLeftTitle():null,headerRight:s.default.createElement(y.default,{__source:{fileName:a,lineNumber:21}})}},t.default=w;var I=g.default.create({container:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#F5FCFF",height:180},containerView:{borderRadius:8,height:60,marginTop:5,marginBottom:15,marginLeft:20,marginRight:20,backgroundColor:"#FFFFFF",elevation:5,shadowColor:"#333333",shadowOffset:{width:3,height:7},shadowOpacity:.15,shadowRadius:3,flexDirection:"row",alignItems:"center"},title:{fontSize:15,color:"blue"},content:{marginLeft:10,fontSize:15,color:"#325771"},image:{marginLeft:10,width:40,height:40}})},369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\navigation\\bim\\CheckPointPage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=h(n(1)),o=h(n(0)),l=h(n(3)),u=h(n(6)),s=h(n(2)),c=h(n(7)),f=h(n(8)),d=(h(n(12)),h(n(176)),h(n(103)),n(48)),p=n(25),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(10)),g=n(16);h(n(36)),h(n(41));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._getCheckPoints=function(){m.getCheckPoints(storage.loadProject()).then(function(t){e.setState({checkPoints:t.data}),e.setState({listData:e._getListByParentId(null)})})},e._getListByParentId=function(t){var n=[];return e.state.checkPoints.map(function(a){a.parentId==t&&(e._hasChild(a.id)&&(a.viewType=1),n.push(a))}),n},e._hasChild=function(t){var n=e.state.checkPoints,a=Array.isArray(n),r=0;for(n=a?n:n["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(a){if(r>=n.length)break;i=n[r++]}else{if((r=n.next()).done)break;i=r.value}if(i.parentId==t)return!0}return!1},e._moduleItemClick=function(t,n){1==t.viewType?(e.setState({listData:e._getListByParentId(t.id)}),e.state.navData.push(t)):"function"==typeof e.state.callback&&(e.state.callback(t),e.props.navigation.goBack())},e._navItemClick=function(t,n){e.setState({listData:e._getListByParentId(t.parentId)});var a=e.state.navData.length;e.state.navData.splice(n,a-n)},e.renderNavItemView=function(t){var r=t.item,o=t.index;return i.default.createElement(f.default,{activeOpacity:.5,onPress:function(t){t.preventDefault(),e._navItemClick(r,o)},__source:{fileName:a,lineNumber:123}},i.default.createElement(s.default,{style:y.navContainer,__source:{fileName:a,lineNumber:124}},i.default.createElement(u.default,{style:o==e.state.navData.length-1?y.lastNavName:y.navName,__source:{fileName:a,lineNumber:125}}," ",r.name),o==e.state.navData.length-1?i.default.createElement(c.default,{style:y.navDownArrow,source:n(368),__source:{fileName:a,lineNumber:128}}):i.default.createElement(u.default,{style:y.navArrow,__source:{fileName:a,lineNumber:130}}," ","->")))},e.renderDirItemView=function(t){var r=t.item,o=t.index;return i.default.createElement(f.default,{activeOpacity:.5,onPress:function(t){t.preventDefault(),e._moduleItemClick(r,o)},__source:{fileName:a,lineNumber:143}},i.default.createElement(s.default,{style:y.moduleItemContainer,__source:{fileName:a,lineNumber:144}},i.default.createElement(c.default,{source:n(248),style:y.moduleDirIcon,__source:{fileName:a,lineNumber:145}}),i.default.createElement(u.default,{style:y.moduleDirItemName,__source:{fileName:a,lineNumber:146}}," ",r.name),i.default.createElement(c.default,{source:n(100),style:y.moduleItemArrow,__source:{fileName:a,lineNumber:147}})))},e.toCheckPointInfo=function(t){var n=e.props.navigation;storage.pushNext(n,"QualityStatardsPage",{qualityCheckpointId:t.id,qualityCheckpointName:t.name})},e.renderModuleItemView=function(t){var r=t.item,o=t.index;return i.default.createElement(f.default,{activeOpacity:.5,onPress:function(t){t.preventDefault(),e._moduleItemClick(r,o)},__source:{fileName:a,lineNumber:160}},i.default.createElement(s.default,{style:y.moduleItemContainer,__source:{fileName:a,lineNumber:161}},i.default.createElement(u.default,{style:y.moduleChildItemName,__source:{fileName:a,lineNumber:162}}," ",r.name),i.default.createElement(f.default,{onPress:function(t){t.preventDefault(),e.toCheckPointInfo(r)},__source:{fileName:a,lineNumber:163}},i.default.createElement(c.default,{source:n(198),style:y.moduleChildMark,__source:{fileName:a,lineNumber:164}})),i.default.createElement(s.default,{style:{flex:1},__source:{fileName:a,lineNumber:166}}),e.state.selectedCheckPoint&&e.state.selectedCheckPoint.id==r.id?i.default.createElement(c.default,{source:n(197),style:y.moduleItemSelectedIcon,__source:{fileName:a,lineNumber:169}}):null))},e.renderContentItem=function(t){var n=t.item,a=t.index;return 1==n.viewType?e.renderDirItemView({item:n,index:a}):e.renderModuleItemView({item:n,index:a})},e.itemSeparatorComponent=function(){return i.default.createElement(s.default,{style:y.moduleItemDividerLine,__source:{fileName:a,lineNumber:185}})},e.state={checkPoints:[],listData:[],navData:[],selectedCheckPoint:{},callback:o.default.func},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props.navigation.state.params;this.setState({selectedCheckPoint:e.selectedCheckPoint,callback:e.callback}),this._getCheckPoints()}},{key:"showDefault",value:function(e,t,n){var r=this,o=i.default.createElement(d.Overlay.View,{style:{alignItems:"center",justifyContent:"center",marginTop:100},modal:t,overlayOpacity:e?0:null,ref:function(e){return r.overlayView=e},__source:{fileName:a,lineNumber:190}},i.default.createElement(s.default,{style:{backgroundColor:e?"#333":d.Theme.defaultColor,padding:40,borderRadius:15,alignItems:"center"},__source:{fileName:a,lineNumber:196}},i.default.createElement(u.default,{__source:{fileName:a,lineNumber:197}},"fsd")));d.Overlay.show(o)}},{key:"render",value:function(){return i.default.createElement(s.default,{style:{flex:1,backgroundColor:"#fff"},__source:{fileName:a,lineNumber:210}},this.state.navData&&this.state.navData.length>0?i.default.createElement(s.default,{style:{height:48},__source:{fileName:a,lineNumber:214}},i.default.createElement(p.FlatList,{horizontal:!0,showsHorizontalScrollIndicator:!1,data:this.state.navData,renderItem:this.renderNavItemView,keyExtractor:function(e,t){return t+"aa"},__source:{fileName:a,lineNumber:215}})):null,i.default.createElement(s.default,{style:{flex:1},__source:{fileName:a,lineNumber:226}},i.default.createElement(p.FlatList,{ItemSeparatorComponent:this.itemSeparatorComponent,showsVerticalIndicator:!1,data:this.state.listData,renderItem:this.renderContentItem,keyExtractor:function(e,t){return t+"bb"},__source:{fileName:a,lineNumber:228}})))}}]),t}();_.navigationOptions={headerTitle:i.default.createElement(g.BarItems.TitleBarItem,{text:"质检项目",__source:{fileName:a,lineNumber:72}}),headerRight:i.default.createElement(s.default,{__source:{fileName:a,lineNumber:73}})},t.default=_;var y=l.default.create({navContainer:{flexDirection:"row",height:48,alignItems:"center"},navName:{fontSize:14,color:"#b5b5b5",marginLeft:20},lastNavName:{fontSize:14,color:"#00baf3",marginLeft:20},navArrow:{fontSize:14,color:"#b5b5b5",marginRight:8,flex:1},navDownArrow:{width:11,height:5},moduleItemContainer:{flexDirection:"row",height:52,alignItems:"center"},moduleChildItemName:{fontSize:16,color:"#333333",marginLeft:20,marginRight:12},moduleChildMark:{width:15,height:15},moduleItemSelectedIcon:{marginRight:21,width:21,height:14},moduleItemArrow:{marginRight:21,width:5,height:12},moduleDirItemName:{fontSize:16,color:"#333333",flex:1},moduleDirIcon:{width:30,height:25,marginLeft:20,marginRight:14},moduleItemDividerLine:{height:1,marginLeft:19,flex:1,backgroundColor:"#f7f7f7"}})},370:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=S(n(64)),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\quality\\NewReviewPage.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(63);var o=n(25),l=n(48),u=S(n(10)),s=n(16),c=n(1),f=S(c),d=S(n(93)),p=S(n(9)),m=S(n(7)),g=S(n(14)),h=S(n(19)),_=S(n(12)),y=S(n(3)),b=S(n(6)),v=S(n(67)),N=S(n(2)),E=n(44),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(605)),I=S(n(252)),T=S(n(164)),P=S(n(373));function S(e){return e&&e.__esModule?e:{default:e}}var C=Date.now(),O=new Date(C),k=p.default.get("window"),x=k.width,D=(k.height,function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=[];e.params&&e.params.files&&(t=e.params.files);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));A.call(a);var r=a.props.navigation.state.params,i=r&&r.createType===u.default.CREATE_TYPE_REVIEW;return a.state={description:"",status:u.default.STATUS_NOT_ACCEPTED,expand:!1,lastRectificationDate:O,switchValue:null,isSetEditInfo:!1,firstLoad:!0,showRectificationView:i,files:t},a.description="",a.props.navigation.setParams({leftNavigatePress:a.goBack,rightNavigatePress:a.submit}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,c.Component),i(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.navigation.state.params;if((0,this.props.fetchData)(t.qualityCheckListId,t.createType),"android"===g.default.OS){var n=d.default.BackHandler?d.default.BackHandler:d.default.BackAndroid;this.backListener=n.addEventListener("hardwareBackPress",function(){return storage.currentRouteName===e.props.navigation.state.routeName&&(e.goBack(),!0)})}"web"===g.default.OS&&(this.backListener=o.BackHandler.addEventListener("hardwareBackPress",function(){return storage.currentRouteName===e.props.navigation.state.routeName&&(e.goBack(),!0)}))}},{key:"shouldComponentUpdate",value:function(e,t){return!this.state.isSetEditInfo&&e.editInfo&&e.editInfo.id?(this.setEditInfo(e.editInfo),!1):!1!==e.isLoading||!0!==this.state.firstLoad||(this.setState({firstLoad:!1}),!1)}},{key:"componentWillUnmount",value:function(){this.props.reset(),a.default.hide(),this.removeBackListener(),e.storage.backInterceptor=null}},{key:"removeBackListener",value:function(){this.backListener&&(this.backListener.remove(),this.backListener=null)}},{key:"render",value:function(){var e=this;return!0===this.state.firstLoad?f.default.createElement(s.LoadingView,{__source:{fileName:r,lineNumber:268}}):f.default.createElement(h.default,{style:{paddingBottom:10},__source:{fileName:r,lineNumber:271}},f.default.createElement(_.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:272}}),f.default.createElement(v.default,{ref:function(t){e.inputRef=t},maxLength:255,style:R.input,placeholder:"现场情况描述...",multiline:!0,underlineColorAndroid:"transparent",textAlign:"left",onChangeText:function(t){e.state.description=t},defaultValue:this.description,__source:{fileName:r,lineNumber:273}}),f.default.createElement(N.default,{style:{width:"100%",height:130,marginTop:10,marginBottom:0,backgroundColor:"#FFFFFF"},__source:{fileName:r,lineNumber:287}},f.default.createElement(s.ImageChooserView,{ref:"gldPhoto",files:this.state.files,style:{width:x,height:100,marginTop:10,marginLeft:10,marginRight:10},onChange:function(){},__source:{fileName:r,lineNumber:288}})),this.state.showRectificationView?f.default.createElement(N.default,{style:{backgroundColor:"#ffffff",marginTop:10},__source:{fileName:r,lineNumber:292}},f.default.createElement(T.default.SwitchItem,{title:"需要整改",bottomSeparator:this.state.switchValue?"full":"indent",switchValue:this.state.switchValue,onValueChange:this.onChangeSwitch,__source:{fileName:r,lineNumber:293}}),this.state.switchValue?null:this.renderReviewDate()):null,f.default.createElement(N.default,{style:{backgroundColor:"#ffffff",paddingLeft:8,marginTop:10},__source:{fileName:r,lineNumber:301}},f.default.createElement(l.ListRow,{title:f.default.createElement(b.default,{style:{fontSize:16},__source:{fileName:r,lineNumber:302}},"检查单"),bottomSeparator:"none",accessory:this.renderAccessory(),onPress:function(t){t.preventDefault(),e.inputRef&&e.inputRef.blur(),e.setState({expand:!e.state.expand})},__source:{fileName:r,lineNumber:302}})),f.default.createElement(N.default,{style:this.state.expand?{}:{display:"none"},__source:{fileName:r,lineNumber:315}},this.props.qualityInfo.inspectionInfo?f.default.createElement(P.default,{qualityInfo:this.props.qualityInfo,__source:{fileName:r,lineNumber:317}}):null),f.default.createElement(s.StatusActionButton,{style:{height:40,marginTop:30,marginRight:40,marginLeft:40,backgroundColor:"#00b5f2",borderColor:"#00b5f2"},color:"#ffffff",text:"保存",onClick:this.save,__source:{fileName:r,lineNumber:322}}),this.props.editInfo&&this.props.editInfo.id?f.default.createElement(s.StatusActionButton,{text:"删除",style:{height:40,marginTop:20,marginRight:40,marginLeft:40,backgroundColor:"#ffffff",borderColor:"#ffffff"},color:"#000000",onClick:this.deleteForm,__source:{fileName:r,lineNumber:325}}):null,f.default.createElement(N.default,{style:{width:"100%",height:50},__source:{fileName:r,lineNumber:328}}))}}]),n}());D.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{headerTitle:f.default.createElement(b.default,{style:{color:"#ffffff",fontSize:17,marginTop:5,alignSelf:"center",flex:1,textAlign:"center"},__source:{fileName:r,lineNumber:27}},t.state.params.createType===u.default.CREATE_TYPE_REVIEW?"复查单":"整改单"),headerRight:f.default.createElement(s.BarItems,{navigation:t,__source:{fileName:r,lineNumber:29}},f.default.createElement(s.BarItems.RightBarItem,{navigation:t,text:"提交",onPress:function(e){return e.state.params.rightNavigatePress()},__source:{fileName:r,lineNumber:30}})),headerLeft:f.default.createElement(s.BarItems,{navigation:t,__source:{fileName:r,lineNumber:34}},f.default.createElement(s.BarItems.LeftBarItem,{navigation:t,text:"取消",onPress:function(e){return e.state.params.leftNavigatePress()},__source:{fileName:r,lineNumber:35}})),gesturesEnabled:!1}};var A=function(){var e=this;this.setEditInfo=function(t){var n=O,a=t.status,r=e.state.switchValue,i=t.lastRectificationDate;a==u.default.STATUS_NOT_ACCEPTED&&i?(n=new Date(i),r=!1):r=!0,e.setState({firstLoad:!1,status:a,description:t.description,lastRectificationDate:n,isSetEditInfo:!0,switchValue:r,files:t.files}),e.description=t.description},this.getRectificationId=function(e){if(e){var t=e.progressInfos;if(t&&t.length>0)return t[t.length-1].id}return""},this.goBack=function(){var t=e.props.navigation.state.params;w.isEditInfoChange(e.state.description,e.state.status,e.state.lastRectificationDate,e.props.editInfo,t.createType,e.refs.gldPhoto,function(t){t?s.ActionModal.alert("是否确认退出当前页面？","您还未保存当前数据！",[{text:"取消",style:{color:"#5b5b5b"}},{text:"不保存",style:{color:"#e75452"},onPress:function(){storage.goBack(e.props.navigation,null)}},{text:"保存",style:{color:"#00baf3"},onPress:function(){e.save()}}]):storage.goBack(e.props.navigation,null)})},this.save=function(){var t=e.props.navigation.state.params;e.props.saveRepairReview(t.qualityCheckListId,e.state.description,e.state.status,e.state.lastRectificationDate,e.props.qualityInfo,e.props.editInfo,t.createType,e.refs.gldPhoto)},this.submit=function(){var t=e.props.navigation.state.params;e.props.submit(t.qualityCheckListId,e.state.description,e.state.status,e.state.lastRectificationDate,e.props.qualityInfo,e.props.editInfo,t.createType,e.props.navigation,e.refs.gldPhoto)},this.deleteForm=function(){e.props.navigation.state.params;s.ActionModal.alertConfirm("是否确认删除？","删除当前数据后，数据不可恢复哦！",{text:"取消"},{text:"删除",onPress:function(){var t=e.props.navigation.state.params;e.props.deleteForm(t.qualityCheckListId,e.props.editInfo.id,t.createType,e.props.navigation)}})},this.onChangeSwitch=function(t){var n=t?u.default.STATUS_CLOSED:u.default.STATUS_NOT_ACCEPTED;e.setState({status:n,switchValue:t})},this.renderSwitchView=function(){return f.default.createElement(s.BimSwitch,{value:e.state.switchValue,onValueChange:function(t){e.onChangeSwitch(t)},__source:{fileName:r,lineNumber:243}})},this.renderReviewDate=function(){return f.default.createElement(I.default,{title:"整改期限",textStyle:{alignItems:"flex-end"},date:e.state.lastRectificationDate,onDateChange:function(t){e.setState({lastRectificationDate:t})},__source:{fileName:r,lineNumber:249}})},this.renderAccessory=function(){return f.default.createElement(m.default,{style:{width:12,height:6,marginRight:5},source:e.state.expand?n(398):n(255),__source:{fileName:r,lineNumber:257}})}};t.default=(0,E.connect)(function(e){return{qualityInfo:e.reviewRepair.qualityInfo,editInfo:e.reviewRepair.editInfo,error:e.reviewRepair.error,isLoading:e.reviewRepair.isLoading}},function(e){return{fetchData:function(t,n){e&&e(w.fetchData(t,n))},saveRepairReview:function(t,n,a,r,i,o,l,u){e&&e(w.save(t,n,a,r,i,o,l,u))},submit:function(t,n,a,r,i,o,l,u,s){e(w.submit(t,n,a,r,i,o,l,u,s))},deleteForm:function(t,n,a,r){e&&e(w.deleteForm(t,n,a,r))},reset:function(){e(w.reset())}}})(D);var R=y.default.create({input:{textAlignVertical:"top",paddingLeft:12,paddingRight:12,paddingTop:12,paddingBottom:0,backgroundColor:"#ffffff",minHeight:120},title:{color:"#ffffff",fontSize:17,marginTop:5,alignSelf:"center",flex:1,textAlign:"center"}})}).call(this,n(38))},371:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\quality\\BigImageViewPage.web.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=c(i),l=(c(n(2)),c(n(176))),u=(c(n(66)),c(n(12)),c(n(617))),s=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));d.call(n);var a=n.props.navigation.state.params,r=void 0===a?{media:[],index:0}:a,i=r.media||[],o=(r.index,[]);return i.map(function(e,t){e.url=e.photo,delete e.photo,o.push(e.url)}),n.state={media:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i)),bigMedia:[],smallMedia:o,modalVisible:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"_setModalVisible",value:function(e){this.setState({modalVisible:e}),storage.pop(this.props.navigation,1)}},{key:"render",value:function(){var e=this,t=this.props.navigation.state.params,n=(void 0===t?{index:0}:t).index||0;return this.state.bigMedia&&this.state.bigMedia.length>0?o.default.createElement(l.default,{key:"big",visible:this.state.modalVisible,transparent:!0,onRequestClose:function(){e._setModalVisible(!1)},__source:{fileName:a,lineNumber:109}},o.default.createElement(u.default,{key:"bigImageView",index:n,urls:this.state.bigMedia,onClose:function(){e.props.navigation.goBack()},__source:{fileName:a,lineNumber:111}})):o.default.createElement(l.default,{key:"big",visible:this.state.modalVisible,transparent:!0,onRequestClose:function(){e._setModalVisible(!1)},__source:{fileName:a,lineNumber:117}},o.default.createElement(u.default,{key:"bigImageView",index:n,urls:this.state.smallMedia,onClose:function(){e.props.navigation.goBack()},__source:{fileName:a,lineNumber:119}}))}}]),t}();f.navigationOptions={header:null,title:"大图预览",gesturesEnabled:!1};var d=function(){var e=this;this.toUrls=function(e){var t=[];return e.map(function(e,n){e.url&&t.push(e.url)}),t},this.componentWillMount=function(){var t=e.state.media.length,n=e.state.media;e.state.media.map(function(a,r){a.objectId?s.default.getBimFileUrl(a.objectId,function(a,i){t--,a&&(n[r].url=i),t<1&&e.setState({bigMedia:e.toUrls(n)})}).catch(function(a){--t<1&&e.setState({bigMedia:e.toUrls(n)})}):--t<1&&e.setState({bigMedia:e.toUrls(n)})})}};t.default=f},372:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\quality\\QualityStatardsPage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=g(i),l=(g(n(175)),g(n(3))),u=g(n(9)),s=(g(n(6)),g(n(2))),c=g(n(27)),f=g(n(12)),d=n(25),p=g(n(10)),m=n(16);function g(e){return e&&e.__esModule?e:{default:e}}var h=u.default.get("window"),_=h.height,y=h.width,b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAjJJREFUWAntmUFOwkAUhp2GuOICegITD+CeeALXxI1WYMPKRBMTURITTVyxAYxsjHsvYFjrAYgXMNEDsGJB/f9mpmkII0P7oDV2kvIebzozX//XKfBQG7oFQaB6vd6xUuoI/i7CZdO3ZjsGwwgMg3q9/gg/4PqKL/1+f2s6nT7DrfB9jtrQ87xqrVb78qhkTiGpV4VsZFTdbtdH4IFRyDyBuYR94lUwtu7G7ALsEOu2YTf1+ie8L98Q2GMAgOe4L+50Z6YGXGfgutVc70w9N07YqKTxs7ZxFjJ6AIp2d1bpnifKDEuZoH+iiYMiTYqH9NWLgmLH7mATfPKgLwkrCgqwAxzb+qAv1kRB8XA2z72NuC9BKwoqAWSbowC1KZM0XiiaVDnbuEJRmzJJ44WiSZWzjSvZOuJx/Aq4wffDU3zZiD554v0Wv4VxLUtfGMacE8x532g0Ln47j32uqW8uCblo3bBfz9l0OdkVtMOrd5lwmXP0nB2XMU6p16lZmB6k+gqLmnRfYxzfizRXRUUWSzNJAZpGvXljC0XnqZIm9j8VReUtetbG/TRKmrGiigLuBRN/89C+WSe1dXrgu67i+/4HPhb5c5kFt7AA6zp20XmioKsANBcgmnoz6SosQcdmYhZRjZ+1nWEZe7iXRgYK9xcrvblocRYylhAYgCysOMO2UeDiRshFadwoRsawRAi4VwQrpiNndohy/T5TH+CZVwXcMGeAxAn/viFjVHCFvLn+Q+wH19fSqWHjCcYAAAAASUVORK5CYII=",v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAbNJREFUWAntmUFKxDAUhk0YXM0FPIMHcF88hrjRse1mVoKC4GJAUHA1m7bibMRjSNd6gDmDF+hqFo3/XxIZBqFxeEwjJou+zGv68vV/KWRe1J5txhhVluW5UuoM/UO4x+7ejm0DhiUYFlmWPaNvOL/ipaqqg7ZtX9FN+DugVmutT9I0/dRUMlBI6pWQjYyqKIoJHE/0QuYVzC3sC9+Cvl03Zhdgp5h3Brtv57/gunyH44gOAF5jXTzYm4MacF2B695yfTD1/HC6RiVdf2i7zkJGDaDvr3uodP8kygbLmKB/okVQ6TRFRaOi0gpIx4trNCoqrYB0vLhG/62iI583x7+AO+wPL7EvdDtun8d6xyDmCjEf8zy/6Rvsu0an0pAEszGnfZC87ws659v7BPzNGBtz7vOMV+ptanrT4zPhtmN8Fd02vthzEVRMShsoKhoVlVZAOl5co1FRaQWk43GNNi4oi6iuP7TdYGk0djBLB4VtFyu9QbR1FjKO4FiArKs4w85Q6WXlOYjSuFOMjAoXlsff4EzcjcBsjXL9MVNveEQCuDowQOJ0xzdk7M6Z6LHKBnsg9gUjHKh1fPU0mwAAAABJRU5ErkJggg==",N=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.proccessHtml=function(e,t,a){var r=a?'display:""':"display:none",i="<div class='standardsContent"+(t+1)+"'>\n       ",o=e.children;return i+="<div class='standardsHeader standardsHeader"+t+"'>\n       <p><img onclick='onImageClick(this,\"id_"+e.id+"\")' open=false src='"+(a?v:b)+'\'  alt="-" width=20 height=20></img>&nbsp;'+e.name+"</p></div>\n       <div class='standardsOff' style='"+r+"' id='id_"+e.id+"'>\n       <p>"+p.default.removeHTMLTag(e.content)+"</p>\n       ",o.map(function(e,a){i+=n.proccessHtml(e,t+1,!1)}),i+="\n       </div>\n       </div>\n       "},n.proccessHtmlTop=function(e){var t=e.children,a="",r=t.length;return t.map(function(e,t){a+=n.proccessHtml(e,0,r<=1)}),a},n.proccessData=function(e){var t="<div class='standardsHeaderTop'><p>"+n.props.navigation.state.params.qualityCheckpointName+"质检标准</p>\n        ",a={0:{children:[]}};return e.map(function(e,t){a[""+e.id]=e,e.children=[]}),e.map(function(e,t){e.id;var n=e.parentId;n||(n="0");e.name;var r=a[""+n];r||(r=a[0]),r.children.push(e)}),'<HTML>\n        <HEAD>\n        <meta charset="utf-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1" />\n        <TITLE>详情</TITLE>\n        <style>\n        body {\n            margin: 20px;\n            margin-top: 40px;\n            padding: 0px;\n        }\n        img {\n        \twidth:14px;\n        \theight:14px;\n        }\n        .standardsOff {\n            margin-left: 20px;\n        }\n        .standardsHeader {\n            font-size:12px;\n            font-weight:bold;\n            font-family:"Helvetica Neue",Helvetica,Arial,"Hiragino Sans GB","Microsoft YaHei UI",sans-serif;\n        }\n        .standardsContent {\n            font-size:12px;\n            font-weight:normal;\n            font-family:"Helvetica Neue",Helvetica,Arial,"Hiragino Sans GB","Microsoft YaHei UI",sans-serif;\n        }\n        .standardsHeaderTop {\n            font-size:26px; \n            margin-bottom: 20px;\n        }\n        .standardsHeader0 {\n            font-size:18px;\n        }\n        .standardsHeader1 {\n            font-size:16px;\n        }\n        .standardsHeader2 {\n            font-size:14px;\n        }\n        .standardsHeader3 {\n            font-size:12px;\n        }\n        .standardsHeader4 {\n            font-size:10px;\n        }\n        .standardsHeader5 {\n            font-size:8px;\n        }\n        .standardsContent0 {\n            font-size:18px;\n        }\n        .standardsContent1 {\n            font-size:16px;\n            margin-left: 20px;\n        }\n        .standardsContent2 {\n            font-size:14px;\n            margin-left: 20px;\n        }\n        .standardsContent3 {\n            font-size:12px;\n            margin-left: 20px;\n        }\n        .standardsContent4 {\n            font-size:10px;\n            margin-left: 20px;\n        }\n        .standardsContent5 {\n            font-size:8px;\n            margin-left: 20px;\n        }\n        </style>\n        <script type="text/javascript">\n        const imagePlus = \'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAjJJREFUWAntmUFOwkAUhp2GuOICegITD+CeeALXxI1WYMPKRBMTURITTVyxAYxsjHsvYFjrAYgXMNEDsGJB/f9mpmkII0P7oDV2kvIebzozX//XKfBQG7oFQaB6vd6xUuoI/i7CZdO3ZjsGwwgMg3q9/gg/4PqKL/1+f2s6nT7DrfB9jtrQ87xqrVb78qhkTiGpV4VsZFTdbtdH4IFRyDyBuYR94lUwtu7G7ALsEOu2YTf1+ie8L98Q2GMAgOe4L+50Z6YGXGfgutVc70w9N07YqKTxs7ZxFjJ6AIp2d1bpnifKDEuZoH+iiYMiTYqH9NWLgmLH7mATfPKgLwkrCgqwAxzb+qAv1kRB8XA2z72NuC9BKwoqAWSbowC1KZM0XiiaVDnbuEJRmzJJ44WiSZWzjSvZOuJx/Aq4wffDU3zZiD554v0Wv4VxLUtfGMacE8x532g0Ln47j32uqW8uCblo3bBfz9l0OdkVtMOrd5lwmXP0nB2XMU6p16lZmB6k+gqLmnRfYxzfizRXRUUWSzNJAZpGvXljC0XnqZIm9j8VReUtetbG/TRKmrGiigLuBRN/89C+WSe1dXrgu67i+/4HPhb5c5kFt7AA6zp20XmioKsANBcgmnoz6SosQcdmYhZRjZ+1nWEZe7iXRgYK9xcrvblocRYylhAYgCysOMO2UeDiRshFadwoRsawRAi4VwQrpiNndohy/T5TH+CZVwXcMGeAxAn/viFjVHCFvLn+Q+wH19fSqWHjCcYAAAAASUVORK5CYII=\';\n        const imageMinus = \'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAbNJREFUWAntmUFKxDAUhk0YXM0FPIMHcF88hrjRse1mVoKC4GJAUHA1m7bibMRjSNd6gDmDF+hqFo3/XxIZBqFxeEwjJou+zGv68vV/KWRe1J5txhhVluW5UuoM/UO4x+7ejm0DhiUYFlmWPaNvOL/ipaqqg7ZtX9FN+DugVmutT9I0/dRUMlBI6pWQjYyqKIoJHE/0QuYVzC3sC9+Cvl03Zhdgp5h3Brtv57/gunyH44gOAF5jXTzYm4MacF2B695yfTD1/HC6RiVdf2i7zkJGDaDvr3uodP8kygbLmKB/okVQ6TRFRaOi0gpIx4trNCoqrYB0vLhG/62iI583x7+AO+wPL7EvdDtun8d6xyDmCjEf8zy/6Rvsu0an0pAEszGnfZC87ws659v7BPzNGBtz7vOMV+ptanrT4zPhtmN8Fd02vthzEVRMShsoKhoVlVZAOl5co1FRaQWk43GNNi4oi6iuP7TdYGk0djBLB4VtFyu9QbR1FjKO4FiArKs4w85Q6WXlOYjSuFOMjAoXlsff4EzcjcBsjXL9MVNveEQCuDowQOJ0xzdk7M6Z6LHKBnsg9gUjHKh1fPU0mwAAAABJRU5ErkJggg==\';\n        function onImageClick(img, divId) {\n            var open = img.open ? false : true;\n            var divSub = document.getElementById(divId);\n            divSub.style.display = open ? \'\' : \'none\';\n            img.open = open;\n            img.src = open ? imageMinus : imagePlus;\n        }\n        <\/script>\n        </HEAD>\n        <BODY>\n        '+t+"\n\n        "+n.proccessHtmlTop(a[0])+"\n\n        </BODY>\n        </HTML>"},n.fetchData=function(){n.props.navigation.setParams({title:n.props.navigation.state.params.qualityCheckpointName});var e=n.props.navigation.state.params.qualityCheckpointId;p.default.getStandardsItems(e).then(function(e){var t=n.proccessData(e.data);n.setState({isLoading:!1,error:!1,errorInfo:"",html:t})}).catch(function(e){n.setState={isLoading:!1,error:e,errorInfo:e,html:""}})},n.componentDidMount=function(){n.fetchData()},n.state={isLoading:!0,error:!1,errorInfo:"",html:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this;return o.default.createElement(c.default,{style:[E.container,{backgroundColor:"#ecf0f1"}],__source:{fileName:a,lineNumber:226}},o.default.createElement(f.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:227}}),o.default.createElement(s.default,{style:E.container,__source:{fileName:a,lineNumber:228}},o.default.createElement(d.WebView,{bounces:!1,ref:"webview",onNavigationStateChange:function(){return e.onNavigationStateChange},scalesPageToFit:!0,javaScriptEnabled:!0,domStorageEnabled:!1,dataDetectorTypes:"none",source:{html:this.state.html,baseUrl:""},style:{width:y,height:_},__source:{fileName:a,lineNumber:229}})))}}]),t}();N.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{headerTitle:o.default.createElement(m.BarItems.TitleBarItem,{text:t.state.params?t.state.params.title:"",__source:{fileName:a,lineNumber:30}}),headerRight:o.default.createElement(s.default,{__source:{fileName:a,lineNumber:31}})}},t.default=N;var E=l.default.create({container:{flex:1,paddingTop:0}})},373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\quality\\QualityDetailView.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=p(i),l=(p(n(66)),p(n(6)),p(n(2))),u=(p(n(7)),p(n(0))),s=n(54),c=p(n(10)),f=p(n(620)),d=p(n(619));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onAction=function(e){storage.pushNext(null,"QualityStatardsPage",{qualityCheckpointId:e.qualityCheckpointId,qualityCheckpointName:e.qualityCheckpointName})},n.onCheckPointAction=function(e){storage.pushNext(null,"QualityStatardsPage",{qualityCheckpointId:e.qualityCheckpointId,qualityCheckpointName:e.qualityCheckpointName})},n.onOpenDrawingAction=function(e){s.BimFileEntry.showBlueprintFromDetail(null,e.drawingGdocFileId,e.drawingName,e.drawingPositionX,e.drawingPositionY)},n.onOpenModleAction=function(e){s.BimFileEntry.showModelFromDetail(null,e.gdocFileId,e.elementId)},n.renderFirstProgressInfoItem=function(e){var t={id:e.id,code:e.code,billType:c.default.toBillType(e.inspectionType),lastRectificationDate:e.lastRectificationDate,handleDate:e.lastRectificationDate,handlerId:e.creatorId,handlerName:e.creatorName,handlerTitle:e.inspectionUserTitle,commitTime:e.commitTime,files:e.files};return n.renderProgressInfoItem(t,"-11")},n.renderProgressInfoItem=function(e,t){var r=e.handlerTitle&&e.handlerTitle.length>0?"-"+e.handlerTitle:"",i=e.handlerName+r;if(e.files.length<=0)return o.default.createElement(l.default,{key:"renderProgressInfoItem"+t,style:{marginTop:10},__source:{fileName:a,lineNumber:94}},o.default.createElement(f.default,{userName:i,actionDate:c.default.formatUnixtimestamp(e.commitTime),showType:"user",actionText:e.billType,actionColor:c.default.toBillTypeColor(e.billType),onAction:function(){n.onAction(e)},__source:{fileName:a,lineNumber:95}}),o.default.createElement(f.default,{description:e.description,descriptionDate:e.lastRectificationDate?"整改期："+c.default.formatUnixtimestampSimple(e.lastRectificationDate):null,showType:"description",__source:{fileName:a,lineNumber:97}}),o.default.createElement(d.default,{showType:"line",__source:{fileName:a,lineNumber:98}}));if(1==e.files.length)return o.default.createElement(l.default,{key:"renderProgressInfoItem"+t,style:{marginTop:10},__source:{fileName:a,lineNumber:103}},o.default.createElement(f.default,{userName:i,actionDate:c.default.formatUnixtimestamp(e.commitTime),showType:"user",actionText:e.billType,actionColor:c.default.toBillTypeColor(e.billType),onAction:function(){n.onAction(e)},__source:{fileName:a,lineNumber:104}}),o.default.createElement(f.default,{description:e.description,descriptionDate:e.lastRectificationDate?"整改期："+c.default.formatUnixtimestampSimple(e.lastRectificationDate):null,showType:"description",__source:{fileName:a,lineNumber:106}}),o.default.createElement(f.default,{url:e.files[0],showType:"image",__source:{fileName:a,lineNumber:107}}),o.default.createElement(d.default,{showType:"line",__source:{fileName:a,lineNumber:108}}));var u=[];return e.files.map(function(e,t){u.push(e)}),o.default.createElement(l.default,{key:"renderProgressInfoItem"+t,style:{marginTop:10},__source:{fileName:a,lineNumber:117}},o.default.createElement(f.default,{userName:i,actionDate:c.default.formatUnixtimestamp(e.commitTime),showType:"user",actionText:e.billType,actionColor:c.default.toBillTypeColor(e.billType),onAction:function(){n.onAction(e)},__source:{fileName:a,lineNumber:118}}),o.default.createElement(f.default,{description:e.description,descriptionDate:e.lastRectificationDate?"整改期："+c.default.formatUnixtimestampSimple(e.lastRectificationDate):null,showType:"description",__source:{fileName:a,lineNumber:120}}),o.default.createElement(f.default,{urls:u,showType:"images",__source:{fileName:a,lineNumber:121}}),o.default.createElement(d.default,{showType:"line",__source:{fileName:a,lineNumber:123}}))},n.render=function(){var e=n.props.qualityInfo,t=e.inspectionInfo,r=e.progressInfos;return o.default.createElement(l.default,{__source:{fileName:a,lineNumber:129}},o.default.createElement(l.default,{style:{marginTop:10},__source:{fileName:a,lineNumber:130}},o.default.createElement(d.default,{leftTitle:"inspection"===t.inspectionType?"检查单位：":"验收单位：",content:t.inspectionCompanyName,__source:{fileName:a,lineNumber:131}}),o.default.createElement(d.default,{leftTitle:"施工单位：",content:t.constructionCompanyName,__source:{fileName:a,lineNumber:132}}),o.default.createElement(d.default,{leftTitle:"责任人：",content:t.responsibleUserName,__source:{fileName:a,lineNumber:133}}),t.qualityCheckpointId>0?o.default.createElement(d.default,{leftTitle:"质检项目：",showType:"info",onClick:function(){n.onCheckPointAction(t)},content:t.qualityCheckpointName,__source:{fileName:a,lineNumber:136}}):o.default.createElement(d.default,{leftTitle:"质检项目：",showType:"info",content:t.qualityCheckpointName,__source:{fileName:a,lineNumber:139}}),o.default.createElement(d.default,{leftTitle:"现场描述：",content:t.description,__source:{fileName:a,lineNumber:142}}),o.default.createElement(d.default,{leftTitle:"保存时间：",content:c.default.formatUnixtimestamp(t.updateTime),__source:{fileName:a,lineNumber:143}}),o.default.createElement(d.default,{leftTitle:"提交时间：",content:c.default.formatUnixtimestamp(t.commitTime),__source:{fileName:a,lineNumber:144}}),o.default.createElement(d.default,{leftTitle:"关联图纸：",showType:"link",onClick:function(){n.onOpenDrawingAction(t)},content:t.drawingName,__source:{fileName:a,lineNumber:145}}),o.default.createElement(d.default,{leftTitle:"关联模型：",showType:"link",onClick:function(){n.onOpenModleAction(t)},content:t.elementName,__source:{fileName:a,lineNumber:148}}),o.default.createElement(d.default,{showType:"line",__source:{fileName:a,lineNumber:151}})),n.renderFirstProgressInfoItem(t),r.map(function(e,t){return n.renderProgressInfoItem(e,t)}))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}}]),t}();t.default=m,m.propTypes={qualityInfo:u.default.any.isRequired}},374:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\quality\\QualityDetailPage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=_(i),l=(_(n(66)),_(n(19))),u=(_(n(3)),_(n(6))),s=_(n(2)),c=_(n(12)),f=(_(n(7)),n(44)),d=n(16),p=n(54),m=_(n(10)),g=_(n(373)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(618));function _(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.newUnreviewed=function(e){p.BimFileEntry.showNewReviewPage(n.props.navigation,e,m.default.CREATE_TYPE_REVIEW)},n.newUnrectified=function(e){p.BimFileEntry.showNewReviewPage(n.props.navigation,e,m.default.CREATE_TYPE_RECTIFY)},n.loadRightTitle=function(){var e=n.props.qualityInfo.inspectionInfo;if(e.qcState==m.default.QC_STATE_UNRECTIFIED){if(p.AuthorityManager.isCreateRectify()&&p.AuthorityManager.isMe(e.responsibleUserId))return o.default.createElement(d.BarItems,{navigation:n.props.navigation,__source:{fileName:a,lineNumber:62}},o.default.createElement(d.BarItems.RightBarItem,{navigation:n.props.navigation,text:m.default.TYPE_NEW_NAME[0],onPress:function(t){return n.newUnrectified(e.id)},__source:{fileName:a,lineNumber:63}}))}else if(e.qcState==m.default.QC_STATE_UNREVIEWED&&(p.AuthorityManager.isCreateReview()&&p.AuthorityManager.isMe(e.creatorId)))return o.default.createElement(d.BarItems,{navigation:n.props.navigation,__source:{fileName:a,lineNumber:72}},o.default.createElement(d.BarItems.RightBarItem,{navigation:n.props.navigation,text:m.default.TYPE_NEW_NAME[1],onPress:function(t){return n.newUnreviewed(e.id)},__source:{fileName:a,lineNumber:73}}));return o.default.createElement(s.default,{__source:{fileName:a,lineNumber:77}})},n.loadTitle=function(){var e=n.props.qualityInfo.inspectionInfo,t="";return e.inspectionType==m.default.TYPE_INSPECTION[0]?t=m.default.TYPE_INSPECTION_NAME[0]:e.inspectionType==m.default.TYPE_INSPECTION[1]&&(t=m.default.TYPE_INSPECTION_NAME[1]),o.default.createElement(d.BarItems.TitleBarItem,{text:t,__source:{fileName:a,lineNumber:88}})},n.renderData=function(){var e=n.props.qualityInfo;return o.default.createElement(l.default,{style:{backgroundColor:"#FFFFFF"},__source:{fileName:a,lineNumber:117}},o.default.createElement(g.default,{qualityInfo:e,__source:{fileName:a,lineNumber:118}}))},n.state={isLoading:!0,error:!1,errorInfo:"",qualityInfo:null},n.props.navigation.setParams({loadTitle:n.loadTitle,loadRightTitle:n.loadRightTitle}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){e.updateIndex!=this.props.updateIndex&&(0,this.props.fetchData)(this.props.navigation.state.params.item.value.id);var t=this.props.qualityInfo.inspectionInfo?this.props.qualityInfo.inspectionInfo.qcState:null,n=e.qualityInfo.inspectionInfo?e.qualityInfo.inspectionInfo.qcState:null;n&&n!=t&&this.props.navigation.setParams({loadTitle:this.loadTitle,loadRightTitle:this.loadRightTitle})}},{key:"componentDidMount",value:function(){(0,this.props.fetchData)(this.props.navigation.state.params.item.value.id)}},{key:"componentWillUnmount",value:function(){(0,this.props.resetData)()}},{key:"renderErrorView",value:function(e){return o.default.createElement(s.default,{__source:{fileName:a,lineNumber:105}},o.default.createElement(c.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:106}}),o.default.createElement(u.default,{__source:{fileName:a,lineNumber:107}},"加载失败"))}},{key:"render",value:function(){return this.props.isLoading&&!this.props.error?o.default.createElement(d.LoadingView,{__source:{fileName:a,lineNumber:126}}):this.props.error?this.renderErrorView(this.props.error):this.renderData()}}]),t}();y.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{headerTitle:t.state.params.loadTitle?t.state.params.loadTitle():null,gesturesEnabled:!0,headerRight:t.state.params.loadRightTitle?t.state.params.loadRightTitle():o.default.createElement(s.default,{__source:{fileName:a,lineNumber:21}})}},t.default=(0,f.connect)(function(e){return{qualityInfo:e.qualityInfo.data,isLoading:e.qualityInfo.isLoading,item:e.qualityInfo.item,error:e.qualityInfo.error,updateIndex:e.updateData.updateIndex}},function(e){return{fetchData:function(t){e&&e(h.fetchData(t))},resetData:function(){e&&e(h.reset())}}})(y)},377:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteData=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(l){a.default.createDeleteInspection(storage.loadProject(),n,t).then(function(e){l(o.updateData())}).catch(function(t){l(h(t,e,0,r,i))})}},t.newDeleteData=function(e,t,n,r,i){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return function(c){var f=s.default.getQualityManager(),d=s.default.getAsyncManager(),m=t.value.projectId,g=f.getSubmitInfoById(r);switch(e){case"submit"+a.default.QC_STATE_Q_NEW_SAVE:p(n,r,i,l,u);break;case"delete"+a.default.QC_STATE_Q_NEW_SAVE:f.delete(r+""),d.deleteByKey(r+""),c(o.updateData());break;case"submit"+a.default.QC_STATE_Q_EDIT_SAVE:p(n,r,i,l,u);break;case"delete"+a.default.QC_STATE_Q_EDIT_SAVE:f.createDeleteInspection(m).then(function(e){c(o.updateData())});break;case"submit"+a.default.QC_STATE_REPAIR_NEW_SAVE:if(g){var h=g.projectId,_=g.props;f.createSubmitRepair(h,_).then(function(e){c(o.updateData())})}break;case"delete"+a.default.QC_STATE_REPAIR_NEW_SAVE:f.deleteRepair(r,m,"").then(function(e){c(o.updateData())});break;case"submit"+a.default.QC_STATE_REPAIR_EDIT_SAVE:if(g){var y=g.projectId,b=g.props,v=g.fileId;f.editSubmitRepair(y,v,b).then(function(e){c(o.updateData())})}break;case"delete"+a.default.QC_STATE_REPAIR_EDIT_SAVE:if(g){var N=g.projectId,E=(g.props,g.fileId);f.deleteRepair(r,N,E).then(function(e){c(o.updateData())})}break;case"submit"+a.default.QC_STATE_REVIEW_NEW_SAVE:if(g){var w=g.projectId,I=g.props;f.createSubmitReview(w,I).then(function(e){c(o.updateData())})}break;case"delete"+a.default.QC_STATE_REVIEW_NEW_SAVE:f.deleteReview(r,m,"").then(function(e){c(o.updateData())});break;case"submit"+a.default.QC_STATE_REVIEW_EDIT_SAVE:if(g){var T=g.projectId,P=g.props;f.createSubmitReview(T,P).then(function(e){c(o.updateData())})}break;case"delete"+a.default.QC_STATE_REVIEW_EDIT_SAVE:if(g){var S=g.projectId,C=(g.props,g.fileId);f.deleteReview(r,S,C).then(function(e){c(o.updateData())})}}}},t.submitData=p,t.searchData=function(e,t,n,r){return function(o){0==t&&(!function(e,t){if(!e||0==e.length)return;var n=c.SearchHistory.saveHistory(e,c.SearchHistory.SEARCH_TYPE_QUALITY);t(function(e){return{type:i.LOAD_SEARCH_HISTORY,searchHistory:e}}(n))}(e,o),o(m(n,t))),t<0&&(t=0),a.default.searchQualityData(storage.loadProject(),e,t,20).then(function(e){var i=e.data.content,l=0==e.data.last,u=new Map,s=0,c=[];t>0&&r&&(u=r),i.forEach(function(e){e.showTime=""+a.default.formatUnixtimestamp(e.updateTime),e.index=s,e.qcStateShow=""+a.default.toQcStateShow(e.qcState),e.files&&e.files.size>0&&(e.url=e.files[0].url);var t=e.showTime.substring(0,10),n=u.get(t);void 0==n&&(n=[],u.set(t,n)),n.push({key:""+e.id,value:e}),s++}),u.forEach(function(e,t,n){c.push({key:t,data:e})}),o(g(c,u,n,t,l)),i=null,c=null,u=null}).catch(function(e){o(h(e,n,t))})}},t.fetchData=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(o){!function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";0==t&&r(m(e,t,i,o));t<0&&(t=0);if(u.default.isOnLine())a.default.getQualityInspectionAll(storage.loadProject(),e,t,20,i,o).then(function(l){var u=l.data.content,s=0==l.data.last,c=new Map,f=0,d=[];t>0&&n&&(c=n),u.forEach(function(e){e.showTime=""+a.default.formatUnixtimestamp(e.updateTime),e.index=f,e.qcStateShow=""+a.default.toQcStateShow(e.qcState),e.files&&e.files.size>0&&(e.url=e.files[0].url);var t=e.showTime.substring(0,10),n=c.get(t);void 0==n&&(n=[],c.set(t,n)),n.push({key:""+e.id,value:e}),f++});c.forEach(function(e,t,n){d.push({key:t+"",data:e})}),r(g(d,c,e,t,s,i,o)),u=null,d=null,c=null}).catch(function(n){r(h(n,e,t,i,o))});else{var l=s.default.getQualityManager();l.getQualityList(e,t,20,i).then(function(l){var u=l.total,s=l.list,c=!0;c=!(s.length<20)&&20*t+20!=u;var f=new Map,d=0,p=[];t>0&&n&&(f=n),s.forEach(function(e){e.showTime=""+a.default.formatUnixtimestamp(e.updateTime),e.index=d,e.qcStateShow=""+a.default.toQcStateShow(e.qcState),e.files&&e.files.size>0&&(e.url=e.files[0].url);var t=e.showTime.substring(0,10),n=f.get(t);void 0==n&&(n=[],f.set(t,n)),n.push({key:""+e.id,value:e}),d++});f.forEach(function(e,t,n){p.push({key:t+"",data:e})}),r(g(p,f,e,t,c,i,o)),s=null,p=null,f=null}).catch(function(n){r(h(n,e,t,i,o))})}}(e,t,n,o,r,i)}},t.reset=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(a){a(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:r.QUALITY_LIST_INIT,qcState:e,qualityCheckpointId:t}}(e,t,n))}};var a=d(n(10)),r=f(n(424)),i=f(n(208)),o=f(n(143)),l=n(54),u=d(n(36)),s=d(n(41)),c=n(118);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(n){l.BimFileEntry.submitInspectionFromList(t,function(t){"success"===t.res?n(o.updateData()):n(h(t.data,e,0,a,r))})}}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:r.QUALITY_LIST_DOING,qcState:e,page:t,qualityCheckpointId:n}}function g(e,t,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;arguments.length>6&&void 0!==arguments[6]&&arguments[6];return{type:r.QUALITY_LIST_DONE,data:e,dataMap:t,qcState:n,page:a,hasMore:i,qualityCheckpointId:o}}function h(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{type:r.QUALITY_LIST_ERROR,error:e,qcState:t,page:n,qualityCheckpointId:a}}},378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QualityListView=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\quality\\qualityListView.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(25),l=n(16),u=n(1),s=_(u),c=_(n(9)),f=_(n(12)),d=_(n(3)),p=(_(n(6)),_(n(2))),m=n(44),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(377)),h=_(n(249));function _(e){return e&&e.__esModule?e:{default:e}}var y=c.default.get("window"),b=y.width,v=y.height,N=t.QualityListView=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._sectionData=function(e){return n.state.sectionArray},n._keyExtractor=function(e,t){return e.value.id+""},n.fetchData=function(e){n._fetchData(e,0,n.props.qualityCheckpointId,n.props.qualityCheckpointName)},n._fetchData=function(e,t){"search"===e?n.props.searchData(n.props.keywords,t,e,n.props.dataMap):(n.props.fetchData(e,t,n.props.dataMap,n.props.qualityCheckpointId,n.props.qualityCheckpointName),t<1&&n.props.updateNumber&&n.props.updateNumber())},n.componentWillReceiveProps=function(e){return e.updateIndex==n.props.updateIndex||!n.props.selected||(n.fetchData(n.props.qcState,n.props.qualityCheckpointId,n.props.qualityCheckpointName),!0)},n.onCellAction=function(e,t,a){"delete"!=a?"submit"!=a?a&&n.props.newDeleteData(a,e,n.props.qcState,e.value.id,e.value.inspectionType,n.props.qualityCheckpointId,n.props.qualityCheckpointName):n.props.submitData(n.props.qcState,e.value.id,e.value.inspectionType,n.props.qualityCheckpointId,n.props.qualityCheckpointName):n.props.deleteData(n.props.qcState,e.value.id,e.value.inspectionType,n.props.qualityCheckpointId,n.props.qualityCheckpointName)},n.renderItemView=function(e){var t=e.item,a=e.index;return s.default.createElement(h.default,{key:t.value.id,onCellAction:n.onCellAction,item:t,index:a,__source:{fileName:r,lineNumber:101}})},n._sectionComp=function(e){var t=e.section.key;return s.default.createElement(l.DateGroupHeaderView,{key:t,text:t,__source:{fileName:r,lineNumber:107}})},n._onEndReached=function(){n.props.isLoading||0==n.props.hasMore||n._fetchData(n.props.qcState,n.props.page)},n._onRefresh=function(){n._fetchData(n.props.qcState,-1)},n._emptyView=function(){return s.default.createElement(p.default,{style:{alignItems:"center",justifyContent:"center",width:b,height:v-44-20-49},__source:{fileName:r,lineNumber:120}},s.default.createElement(l.NoDataView,{text:"暂无数据",image:l.NoDataView.NoDataImage,__source:{fileName:r,lineNumber:120}}))},n.scrollToOffset=function(){n.refs.sectionList.scrollTo&&n.refs.sectionList.scrollTo()},n.renderData=function(){return"search"===n.props.qcState&&n.props.keywords&&n.props.keywords.length>0&&(!n.props.dataArray||0===n.props.dataArray.length)?n.renderEmpty():s.default.createElement(o.SectionList,{ref:"sectionList",style:{height:"100%",width:"100%"},sections:n.props.dataArray,renderItem:n.renderItemView,keyExtractor:n._keyExtractor,renderSectionHeader:n._sectionComp,stickySectionHeadersEnabled:!1,onRefresh:n._onRefresh,refreshing:n.props.isLoading,onEndReached:n._onEndReached,onEndReachedThreshold:1,ListEmptyComponent:n._emptyView,__source:{fileName:r,lineNumber:135}})},e.onRef&&e.onRef(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.PureComponent),i(t,[{key:"componentDidMount",value:function(){this.fetchData(this.props.qcState,this.props.qualityCheckpointId,this.props.qualityCheckpointName)}},{key:"renderErrorView",value:function(e){return"search"===this.props.qcState&&this.props.keywords&&this.props.keywords.length>0&&(!this.props.dataArray||0===this.props.dataArray.length)?this.renderEmpty():s.default.createElement(p.default,{style:E.container,__source:{fileName:r,lineNumber:70}},s.default.createElement(f.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:71}}),s.default.createElement(l.NoDataView,{text:"加载失败",image:l.NoDataView.NoDataImage,__source:{fileName:r,lineNumber:72}}))}},{key:"renderEmpty",value:function(){return s.default.createElement(p.default,{style:E.emptyContainer,__source:{fileName:r,lineNumber:155}},s.default.createElement(l.NoDataView,{text:"很抱歉，没有找到相关的内容",image:l.NoDataView.NoDataImage,__source:{fileName:r,lineNumber:156}}))}},{key:"render",value:function(){return this.props.isLoading&&!this.props.error?s.default.createElement(l.LoadingView,{__source:{fileName:r,lineNumber:164}}):this.props.error?this.renderErrorView(this.props.error):this.renderData()}}]),t}(),E=d.default.create({contentHeader:{height:30,top:0},gray:{top:100,left:b/2-30,position:"absolute"},emptyContainer:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#FFFFFF"},container:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#F8f8f8"}});t.default=(0,m.connect)(function(e){return a({},e)},function(e){return{fetchData:function(t,n,a,r,i){e&&e(g.fetchData(t,n,a,r,i))},resetData:function(t,n,a){e&&e(g.reset(t,n,a))},deleteData:function(t,n,a,r,i){e&&e(g.deleteData(t,n,a,r,i))},newDeleteData:function(t,n,a,r,i){e&&e(g.newDeleteData(t,n,a,r,i))},submitData:function(t,n,a,r,i){e&&e(g.submitData(t,n,a,r,i))},searchData:function(t,n,a,r){e&&e(g.searchData(t,n,a,r))}}},function(e,t,n){return n.qualityCheckpointId&&0!=n.qualityCheckpointId?a({},n,t,{dataArray:e.qualityList.datas_n[n.qcState].data,dataMap:e.qualityList.datas_n[n.qcState].dataMap,page:e.qualityList.datas_n[n.qcState].page,isLoading:e.qualityList.datas_n[n.qcState].isLoading,error:e.qualityList.datas_n[n.qcState].error,hasMore:e.qualityList.datas_n[n.qcState].hasMore,updateIndex:e.updateData.updateIndex}):a({},n,t,{dataArray:e.qualityList.datas[n.qcState].data,dataMap:e.qualityList.datas[n.qcState].dataMap,page:e.qualityList.datas[n.qcState].page,isLoading:e.qualityList.datas[n.qcState].isLoading,error:e.qualityList.datas[n.qcState].error,hasMore:e.qualityList.datas[n.qcState].hasMore,updateIndex:e.updateData.updateIndex})})(N)},379:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\quality\\QualityMainPage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=f(n(1)),o=f(n(3)),l=f(n(10)),u=n(16),s=n(54),c=f(n(622));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){var e,n,a;d(this,t);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a._onSearchPress=function(e){e.navigate("QualitySearchPage")},a._onNewPress=function(e){s.AuthorityManager.isQualityCreate()&&s.BimFileEntry.newSelect(e)},p(a,n)}return m(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this;return i.default.createElement(u.BarItems,{navigation:this.props.navigation,__source:{fileName:a,lineNumber:18}},i.default.createElement(u.BarItems.RightBarItem,{navigation:this.props.navigation,imageSource:n(163),navigation:this.props.navigation,onPress:function(t){return e._onSearchPress(e.props.navigation)},__source:{fileName:a,lineNumber:19}}),s.AuthorityManager.isQualityCreate()?i.default.createElement(u.BarItems.RightBarItem,{navigation:this.props.navigation,imageStyle:{width:24,height:24},imageSource:n(375),navigation:this.props.navigation,onPress:function(t){return e._onNewPress(e.props.navigation)},__source:{fileName:a,lineNumber:23}}):null)}}]),t}(),h=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement(c.default,{navigation:this.props.navigation,__source:{fileName:a,lineNumber:41}})}}]),t}();h.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{headerTitle:i.default.createElement(u.BarItems.TitleBarItem,{text:"质检清单",__source:{fileName:a,lineNumber:31}}),headerRight:i.default.createElement(g,{navigation:t,__source:{fileName:a,lineNumber:34}}),headerLeft:i.default.createElement(u.BarItems,{top:t.getParam("top"),navigation:t,currentItem:l.default.APP_QUALITY,__source:{fileName:a,lineNumber:37}})}},t.default=h;o.default.create({barItem:{alignItems:"center",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start",width:70},barItemImage:{width:24,height:24,resizeMode:"contain"},spliteItem:{width:10}})},382:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MainTabTitle=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\main\\MainPage.js",i=n(1),o=P(i),l=P(n(3)),u=P(n(6)),s=P(n(2)),c=P(n(19)),f=P(n(12)),d=P(n(136)),p=P(n(7)),m=P(n(235)),g=P(n(9)),h=P(n(27)),_=P(n(14)),y=P(n(633)),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(389)),v=n(48),N=n(54),E=n(16),w=P(n(36)),I=P(n(41)),T=P(n(10));function P(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=t.MainTabTitle=function(e){function t(){var e,a,i;S(this,t);for(var l=arguments.length,c=Array(l),f=0;f<l;f++)c[f]=arguments[f];return a=i=C(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.render=function(){var e=i.props,t=e.text,a=e.activeTitleStyle,l=e.titleStyle,c=e.select;return o.default.createElement(s.default,{style:{alignItems:"center"},__source:{fileName:r,lineNumber:31}},o.default.createElement(u.default,{style:c?a:l,__source:{fileName:r,lineNumber:32}},t),o.default.createElement(s.default,{style:{width:40,height:4,marginTop:4},__source:{fileName:r,lineNumber:33}},c?o.default.createElement(p.default,{style:{width:40,height:4,position:"absolute",top:6.5},resizeMode:"contain",source:n(632),__source:{fileName:r,lineNumber:34}}):null))},C(i,a)}return O(t,i.Component),t}(),x=function(e){function t(){S(this,t);var e=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._loadQualityForm=function(t){if(!e.bPress){e.bPress=!0;var n=e.props.navigation;storage.projectIdVersionId="",storage.fileId="",storage.bimToken={},storage.pushNext(n,"QualityMainPage",{top:!0}),setTimeout(function(){e.bPress=!1},2e3)}},e._loadEquipmentForm=function(){var t=e.props.navigation;storage.projectIdVersionId="",storage.fileId="",storage.bimToken={},storage.pushNext(t,"EquipmentMainPage",{top:!0})},e._fileChoose=function(){var t=e.props.navigation;N.BimFileEntry.chooseBlueprintFromHome(t)},e._moduleChoose=function(){var t=e.props.navigation;N.BimFileEntry.chooseEquipmentModelFromHome(t)},e._checkPointChoose=function(){var t=e.props.navigation;storage.projectIdVersionId="",storage.pushNext(t,"CheckPointListPage",{top:!0})},e._projectChoose=function(){var t=e.props.navigation;N.BimFileEntry.chooseQualityModelFromHome(t)},e.onWindowResize=function(t){t.preventDefault(),setTimeout(function(){e.forceUpdate()},200)},e.componentWillMount=function(){window&&window.addEventListener&&window.addEventListener("resize",e.onWindowResize)},e.componentWillUnmount=function(){window&&window.addEventListener&&window.removeEventListener("resize",e.onWindowResize)},e.fetchData=function(){e.render()},e.scrollToPage=function(t){e.setState({activeIndex:t},function(){e.refs.carousel&&e.refs.carousel&&parseInt(""+t)!=parseInt(""+e.refs.carousel.activeIndex)&&e.refs.carousel.scrollToPage(t)})},e.renderCarouselView=function(e,t){g.default.get("window").width;return e&&t?o.default.createElement(v.Carousel,{cycle:!1,startIndex:0,ref:"carousel",style:{height:203},carousel:!1,scrollEnabled:!1,__source:{fileName:r,lineNumber:160}},o.default.createElement(s.default,{style:D.topImageView,__source:{fileName:r,lineNumber:161}},o.default.createElement(p.default,{style:[D.topImage,{width:27,height:74}],source:n(381),__source:{fileName:r,lineNumber:162}})),o.default.createElement(s.default,{style:D.topImageView,__source:{fileName:r,lineNumber:165}},o.default.createElement(p.default,{style:[D.topImage,{width:121,height:87}],source:n(380),__source:{fileName:r,lineNumber:166}}))):t?o.default.createElement(v.Carousel,{ref:"carousel",style:{height:203},carousel:!1,scrollEnabled:!1,__source:{fileName:r,lineNumber:173}},o.default.createElement(s.default,{style:D.topImageView,__source:{fileName:r,lineNumber:174}},o.default.createElement(p.default,{style:[D.topImage,{width:121,height:87}],source:n(380),__source:{fileName:r,lineNumber:175}}))):e?o.default.createElement(v.Carousel,{ref:"carousel",style:{height:203},carousel:!1,scrollEnabled:!1,__source:{fileName:r,lineNumber:181}},o.default.createElement(s.default,{style:D.topImageView,__source:{fileName:r,lineNumber:182}},o.default.createElement(p.default,{style:[D.topImage,{width:27,height:74}],source:n(381),__source:{fileName:r,lineNumber:183}}))):null},e.closeOfflineHintView=function(){e.setState(function(e){return{isShowOfflineHint:!1}})},e._getlatestVersion=function(e){T.default.getModelLatestVersion(e).then(function(t){var n=t.data.data.versionId;storage.projectIdVersionId=n,storage.setLatestVersionId(e,n)}).catch(function(e){console.log(e)})},e.offlineHintView=function(){return w.default.isOnLine()?null:e.state.isShowOfflineHint?o.default.createElement(s.default,{style:{width:347,height:26,flexDirection:"row",alignItems:"center",alignSelf:"center"},__source:{fileName:r,lineNumber:226}},o.default.createElement(p.default,{source:n(631),style:{width:12,height:10,marginLeft:10},__source:{fileName:r,lineNumber:227}}),o.default.createElement(d.default,{onPress:function(){E.ActionModal.alertConfirm("当前操作环境为网络模式，网络不畅，要进入离线模式吗？",null,{},{text:"离线模式",onPress:function(){w.default.toOffLine(),e.forceUpdate()}})},__source:{fileName:r,lineNumber:228}},o.default.createElement(u.default,{style:{color:"#666666",fontSize:12,marginLeft:6},__source:{fileName:r,lineNumber:234}},"当前网络不畅，已进入")),o.default.createElement(d.default,{style:{flex:1},onPress:function(){E.ActionModal.alertConfirm("当前操作环境为离",null,{},{text:"网络模式",onPress:function(){w.default.toOnLine(),e.forceUpdate()}})},__source:{fileName:r,lineNumber:236}},o.default.createElement(u.default,{style:{color:"#00baf3",fontSize:12},__source:{fileName:r,lineNumber:242}},"离线模式")),o.default.createElement(d.default,{onPress:function(){e.closeOfflineHintView()},__source:{fileName:r,lineNumber:244}},o.default.createElement(p.default,{source:n(630),style:{width:7,height:7,marginRight:10,marginLeft:5},__source:{fileName:r,lineNumber:245}}))):null},e.state={isShowOfflineHint:!0,activeIndex:0},e.bPress=!1,e}return O(t,i.Component),a(t,[{key:"componentDidMount",value:function(){"web"!==_.default.OS&&(I.default.close(),I.default.init(),w.default.isOnLine()&&this._getlatestVersion(storage.loadProject()),b.checkVersion("auto"))}},{key:"render",value:function(){var e=this,t=N.AuthorityManager.isQualityBrowser(),a=N.AuthorityManager.isEquipmentBrowser();if(!t&&!a)return o.default.createElement(h.default,{style:[D.container,{backgroundColor:"#ecf0f1"}],__source:{fileName:r,lineNumber:255}},o.default.createElement(f.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:256}}),o.default.createElement(s.default,{style:{flex:1,alignItems:"center",justifyContent:"center",flexDirection:"column"},__source:{fileName:r,lineNumber:257}},o.default.createElement(u.default,{style:D.text,__source:{fileName:r,lineNumber:258}}," 未授权，请联系管理员获取！ ")));var i=g.default.get("window").width;return o.default.createElement(h.default,{style:{width:"100%",height:"100%"},__source:{fileName:r,lineNumber:264}},o.default.createElement(c.default,{style:{backgroundColor:"#f8f8f8"},__source:{fileName:r,lineNumber:265}},o.default.createElement(f.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:266}}),o.default.createElement(s.default,{style:{backgroundColor:"#ffffff"},__source:{fileName:r,lineNumber:267}},"web"!==_.default.OS?this.offlineHintView():null,o.default.createElement(m.default,{style:{height:203,marginTop:44,backgroundColor:"#ffffff"},resizeMode:"contain",source:n(629),__source:{fileName:r,lineNumber:271}},this.renderCarouselView(t,a))),o.default.createElement(v.SegmentedView,{indicatorType:"none",barStyle:{left:i/2-104,width:208,height:40,alignItems:"center",justifyContent:"center"},style:{height:300,backgroundColor:"#FFFFFF"},onChange:function(t){e.scrollToPage(t)},bounces:!0,type:"carousel",__source:{fileName:r,lineNumber:277}},t?o.default.createElement(v.SegmentedView.Sheet,{title:o.default.createElement(k,{key:"item0",text:"质量检查",select:0==this.state.activeIndex,activeTitleStyle:{color:"#00baf3",fontWeight:"bold",fontSize:16},titleStyle:{color:"#333333",fontSize:16},__source:{fileName:r,lineNumber:280}}),style:{backgroundColor:"#f8f8f8"},__source:{fileName:r,lineNumber:280}},o.default.createElement(s.default,{style:D.tabContent,__source:{fileName:r,lineNumber:281}},o.default.createElement(s.default,{style:D.spliteItem,__source:{fileName:r,lineNumber:282}}),o.default.createElement(s.default,{style:D.spliteItem,__source:{fileName:r,lineNumber:283}}),o.default.createElement(y.default,{source:n(628),onPress:function(t){t.preventDefault(),e._loadQualityForm(t)},title:"质检清单",__source:{fileName:r,lineNumber:284}}),o.default.createElement(s.default,{style:D.spliteItem,__source:{fileName:r,lineNumber:285}}),o.default.createElement(y.default,{source:n(627),onPress:function(t){t.preventDefault(),e._fileChoose()},title:"图纸",__source:{fileName:r,lineNumber:286}}),o.default.createElement(s.default,{style:D.spliteItem,__source:{fileName:r,lineNumber:287}}),o.default.createElement(y.default,{source:n(626),onPress:function(t){t.preventDefault(),e._projectChoose()},title:"模型",__source:{fileName:r,lineNumber:288}}),o.default.createElement(s.default,{style:D.spliteItem,__source:{fileName:r,lineNumber:289}}),o.default.createElement(y.default,{source:n(625),onPress:function(t){t.preventDefault(),e._checkPointChoose()},title:"质检项目",__source:{fileName:r,lineNumber:290}}),o.default.createElement(s.default,{style:D.spliteItem,__source:{fileName:r,lineNumber:291}}),o.default.createElement(s.default,{style:D.spliteItem,__source:{fileName:r,lineNumber:292}}))):null,a?o.default.createElement(v.SegmentedView.Sheet,{title:o.default.createElement(k,{key:"item0",text:"材设进场",select:1==this.state.activeIndex,activeTitleStyle:{color:"#00baf3",fontWeight:"bold",fontSize:16},titleStyle:{color:"#333333",fontSize:16},__source:{fileName:r,lineNumber:299}}),style:{backgroundColor:"#f8f8f8"},__source:{fileName:r,lineNumber:299}},o.default.createElement(s.default,{style:D.tabContent,__source:{fileName:r,lineNumber:300}},o.default.createElement(s.default,{style:D.spliteItem,__source:{fileName:r,lineNumber:301}}),o.default.createElement(s.default,{style:D.spliteItem,__source:{fileName:r,lineNumber:302}}),o.default.createElement(y.default,{source:n(624),onPress:function(t){t.preventDefault(),e._loadEquipmentForm()},title:"材设清单",__source:{fileName:r,lineNumber:303}}),o.default.createElement(s.default,{style:D.spliteItem,__source:{fileName:r,lineNumber:304}}),o.default.createElement(y.default,{source:n(623),onPress:function(t){t.preventDefault(),e._moduleChoose()},title:"模型预览",__source:{fileName:r,lineNumber:305}}),o.default.createElement(s.default,{style:D.spliteItem,__source:{fileName:r,lineNumber:306}}),o.default.createElement(s.default,{style:D.spliteItem,__source:{fileName:r,lineNumber:307}}))):null)))}}]),t}();t.default=x;var D=l.default.create({style_fogotText:{color:"green"},topImageView:{width:"100%",height:203,alignItems:"center",justifyContent:"center"},topImage:{},spliteItem:{width:10,height:80},tabContent:{alignItems:"center",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",marginLeft:0,marginTop:28,marginRight:0,marginBottom:28,backgroundColor:"#f8f8f8"},container:{flex:1},text:{fontSize:18,color:"gray"}})},385:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=w(n(669)),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\new\\NewQualityPage.web.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(662);var o=n(25),l=n(25),u=n(16),s=n(1),c=w(s),f=w(n(93)),d=w(n(66)),p=w(n(9)),m=w(n(14)),g=w(n(12)),h=w(n(3)),_=w(n(6)),y=w(n(2)),b=n(44),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(659)),N=w(n(658)),E=w(n(657));function w(e){return e&&e.__esModule?e:{default:e}}var I=p.default.get("window"),T=(I.width,I.height),P=[{title:"检查单",type:"inspection"},{title:"验收单",type:"acceptance"}],S=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return C.call(t),t.activePage=null,t.inspectionPage=null,t.acceptancePage=null,t.setActiveTab(),t.setTitle(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.Component),i(n,[{key:"componentDidMount",value:function(){var e=this;if(this.props.fetchData(this.props.navigation.state.params),"android"===m.default.OS){var t=f.default.BackHandler?f.default.BackHandler:f.default.BackAndroid;this.backListener=t.addEventListener("hardwareBackPress",function(){return storage.currentRouteName===e.props.navigation.state.routeName&&(e.goBack(),!0)})}"web"===m.default.OS&&(this.backListener=o.BackHandler.addEventListener("hardwareBackPress",function(){return storage.currentRouteName===e.props.navigation.state.routeName&&(e.goBack(),!0)}))}},{key:"componentWillUnmount",value:function(){this.props.reset(),this.removeBackListener(),e.storage.backInterceptor=null}},{key:"removeBackListener",value:function(){this.backListener&&(this.backListener.remove(),this.backListener=null)}},{key:"renderLoadingView",value:function(){return c.default.createElement(y.default,{style:O.container,__source:{fileName:r,lineNumber:190}},c.default.createElement(g.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:191}}),c.default.createElement(d.default,{animating:!0,style:{height:80},color:"#00baf3",size:"large",__source:{fileName:r,lineNumber:192}}))}},{key:"renderErrorView",value:function(e){return c.default.createElement(y.default,{__source:{fileName:r,lineNumber:205}},c.default.createElement(g.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:206}}),c.default.createElement(y.default,{__source:{fileName:r,lineNumber:207}},c.default.createElement(_.default,{style:{alignSelf:"center",marginTop:120},__source:{fileName:r,lineNumber:208}}," 加载失败")))}},{key:"render",value:function(){var e=this;return this.props.loadingError?this.renderErrorView():c.default.createElement(l.KeyboardAwareScrollView,{__source:{fileName:r,lineNumber:219}},c.default.createElement(g.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:220}}),c.default.createElement(y.default,{style:[{marginTop:-44,width:"100%",height:T}],__source:{fileName:r,lineNumber:221}},c.default.createElement(a.default,{tabs:P,ananimated:!0,swipeable:!1,initialPage:this.activeTab,renderTabBar:function(t){return c.default.createElement(N.default,{backgroundColor:"#FFFFFF",ref:function(t){e.hiddenBar=t},activeTab:e.activeTab,defaultProps:t,__source:{fileName:r,lineNumber:228}})},__source:{fileName:r,lineNumber:222}},c.default.createElement(E.default,{setRef:function(t){e.setRef(t,0)},editParams:this.getPageParams(P[0].type),type:P[0].type,navigator:this.props.navigation,setTitle:this.setTitle,__source:{fileName:r,lineNumber:231}}),c.default.createElement(E.default,{setRef:function(t){e.setRef(t,1)},editParams:this.getPageParams(P[1].type),type:P[1].type,setTitle:this.setTitle,navigator:this.props.navigation,__source:{fileName:r,lineNumber:238}}))))}}]),n}();S.navigationOptions=function(e){var t=e.navigation;e.screenProps;return{headerTitle:t.state.params.headerTitle,headerTintColor:"#FFF",headerStyle:{backgroundColor:"#00baf3"},headerRight:c.default.createElement(u.BarItems,{navigation:t,__source:{fileName:r,lineNumber:32}},c.default.createElement(u.BarItems.RightBarItem,{text:"提交",navigation:t,onPress:function(e){return e.state.params.rightNavigatePress()},__source:{fileName:r,lineNumber:33}})),headerLeft:t.state.params&&t.state.params.loadLeftTitle?t.state.params.loadLeftTitle():null,gesturesEnabled:!1}};var C=function(){var e=this;this.activePage=null,this.inspectionPage=null,this.acceptancePage=null,this.hiddenBar=null,this.activeTab=0,this.setTitle=function(){var t=c.default.createElement(y.default,{style:{height:44,alignSelf:"center",flex:1},__source:{fileName:r,lineNumber:55}},c.default.createElement(a.default,{tabs:P,initialPage:e.activeTab,ananimated:!0,onChange:function(t,n){e.onChangePage(t,n)},noRenderContent:!0,swipeable:!1,renderTabBar:function(e){return c.default.createElement(N.default,{defaultProps:e,__source:{fileName:r,lineNumber:66}})},__source:{fileName:r,lineNumber:56}}));e.props.navigation.setParams({loadLeftTitle:e.loadLeftTitle,rightNavigatePress:e.submit,onChangePage:e.onChangePage,headerTitle:t})},this.needBack=function(t){t&&t(!1),e.goBack()},this.loadLeftTitle=function(){return c.default.createElement(u.BarItems,{top:!1,needBack:e.needBack,navigation:e.props.navigation,currentItem:"",__source:{fileName:r,lineNumber:81}})},this.setActiveTab=function(){var t=e.props.navigation.state.params;t&&t.item&&t.item.value&&(t.item.value.inspectionType===P[1].type&&(e.activeTab=1))},this.onChangePage=function(t,n){0==n?e.activePage=e.inspectionPage:1==n&&(e.activePage=e.acceptancePage),e.activeTab=n,e.hiddenBar&&e.hiddenBar.onTabClick(n)},this.submit=function(){e.activePage&&e.activePage.submit(e.props.navigation)},this.goBack=function(){e.activePage?e.activePage.goBack(e.props.navigation):e.props.navigation.goBack()},this.setRef=function(t,n){0==n?e.inspectionPage=t:e.acceptancePage=t,e.activeTab==n&&(e.activePage=t)},this.getPageParams=function(t){var n=e.props.editParams,a=n.editInfo,r=n.inspectionCompanies,i=n.isEdit,o=n.noimage,l={editInfo:a,inspectionCompanies:r,supporters:n.supporters,noimage:o};return i&&a&&a.editInfo&&a.editInfo.inspectionType!=t&&(l.editInfo={}),l}},O=h.default.create({container:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#F5FCFF",height:180}});t.default=(0,b.connect)(function(e){return{isLoading:e.newQuality.isLoading,editParams:e.newQuality.editQualityParams,loadingError:e.newQuality.loadingError}},function(e){return{fetchData:function(t){e(v.fetchData(t))},reset:function(){e(v.reset())}}})(S)}).call(this,n(38))},386:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\subscription\\SubscribePage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=f(n(1)),o=f(n(3)),l=(f(n(6)),f(n(2))),u=f(n(12)),s=f(n(27)),c=n(16);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement(s.default,{style:[p.container,{backgroundColor:"#ecf0f1"}],__source:{fileName:a,lineNumber:24}},i.default.createElement(u.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:25}}),i.default.createElement(c.NoDataView,{text:"暂无数据",image:c.NoDataView.NoDataImage,__source:{fileName:a,lineNumber:26}}))}}]),t}();d.navigationOptions={headerTitle:i.default.createElement(c.BarItems.TitleBarItem,{text:"订阅",__source:{fileName:a,lineNumber:16}}),headerRight:i.default.createElement(l.default,{__source:{fileName:a,lineNumber:17}})},t.default=d;var p=o.default.create({container:{flex:1},text:{fontSize:18,color:"gray"}})},387:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\message\\MessagePage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=c(n(1)),o=c(n(3)),l=(c(n(6)),c(n(2)),c(n(12))),u=c(n(27)),s=n(16);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement(u.default,{style:[d.container,{backgroundColor:"#ecf0f1"}],__source:{fileName:a,lineNumber:20}},i.default.createElement(l.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:21}}),i.default.createElement(s.NoDataView,{text:"暂无数据",image:s.NoDataView.NoDataImage,__source:{fileName:a,lineNumber:22}}))}}]),t}();t.default=f;var d=o.default.create({container:{flex:1},text:{fontSize:18,color:"gray"}})},389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkVersion=function(e){"android"===r.default.OS&&i.default.checkVersion().then(function(t){if(t&&t.data){var n=!0;null!=storage.loadAutoDownload()&&void 0!=storage.loadAutoDownload()&&(n=storage.loadAutoDownload());var a={type:e,sysValue:t.data.sysValue,autoDownload:n};l.setVersionInfo(a)}}).catch(function(e){})};var a=o(n(56)),r=o(n(14)),i=o(n(10));function o(e){return e&&e.__esModule?e:{default:e}}var l=a.default.CheckVersionManager},390:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=T(n(64)),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\me\\SettingPage.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(63);var o=n(1),l=T(o),u=T(n(2)),s=T(n(6)),c=T(n(12)),f=T(n(8)),d=T(n(7)),p=T(n(27)),m=T(n(19)),g=T(n(3)),h=T(n(9)),_=T(n(56)),y=T(n(14)),b=n(44),v=I(n(394)),N=I(n(10)),E=I(n(389)),w=n(16);function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=_.default.GLDPhotoManager,k=h.default.get("window"),x=k.width,D=k.height,A=function(e){function t(){P(this,t);var e=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.componentDidMount=function(){e.props.navigation.setParams({rightNavigatePress:e._rightAction})},e.componentWillUnmount=function(){clearTimeout()},e._rightAction=function(){},e._flexDebugShow=function(){O.flexDebugShow()},e._tenantChoose=function(){var t=e.props.navigation;storage.projectIdVersionId="",storage.pushNext(t,"TenantPage")},e._about=function(){var t=e.props.navigation;storage.pushNext(t,"AboutPage")},e._feedback=function(){var t=e.props.navigation;storage.pushNext(t,"FeedbackPage")},e._share=function(){w.ShareManager.share()},e._password=function(){var t=e.props.navigation;storage.pushNext(t,"ForgotPage",{title:"重置密码"})},e._logout=function(){storage.logout(),a.default.loading("退出中...",10);var t=!1;N.loginOut().then(function(){if(N.uaaLoginOut().then(function(){}).catch(function(e){}),!t){a.default.hide(),t=!0;var n=e.props.navigation;storage.gotoLogin(n)}}).catch(function(n){if(!t){t=!0,a.default.hide();var r=e.props.navigation;storage.gotoLogin(r)}}),setTimeout(function(){if(!t){t=!0,a.default.hide();var n=e.props.navigation;storage.gotoLogin(n)}},1e4)};var n=!0;return!1===storage.loadAutoDownload()&&(n=!1),e.state={autoDownload:n},e}return C(t,o.Component),i(t,[{key:"render",value:function(){var e=this;return l.default.createElement(p.default,{style:M.container,__source:{fileName:r,lineNumber:128}},l.default.createElement(c.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:129}}),l.default.createElement(m.default,{style:{paddingBottom:60},__source:{fileName:r,lineNumber:130}},l.default.createElement(j,{icon:n(674),title:"修改密码",onPress:function(){return e._password()},__source:{fileName:r,lineNumber:131}}),l.default.createElement(u.default,{style:M.settingItemLine,__source:{fileName:r,lineNumber:132}}),"android"===y.default.OS?l.default.createElement(u.default,{__source:{fileName:r,lineNumber:135}},l.default.createElement(j,{icon:n(388),title:"检查更新",hideArrow:!0,showExtText:"当前版本 V1.1.0",onPress:function(){E.checkVersion("setting")},__source:{fileName:r,lineNumber:136}})):l.default.createElement(j,{icon:n(388),title:"版本信息",hideArrow:!0,showExtText:"版本号V1.1.0",__source:{fileName:r,lineNumber:139}}),l.default.createElement(u.default,{style:M.settingItemLine,__source:{fileName:r,lineNumber:142}}),l.default.createElement(j,{icon:n(673),title:"意见反馈",onPress:function(){return e._feedback()},__source:{fileName:r,lineNumber:143}}),l.default.createElement(u.default,{style:M.settingItemLine,__source:{fileName:r,lineNumber:144}}),l.default.createElement(j,{icon:n(672),title:"联系我们",hideArrow:!0,__source:{fileName:r,lineNumber:145}}),l.default.createElement(u.default,{style:M.settingItemLine,__source:{fileName:r,lineNumber:146}}),l.default.createElement(j,{icon:n(671),title:"关于我们",onPress:function(){return e._about()},__source:{fileName:r,lineNumber:147}}),l.default.createElement(u.default,{style:{height:10},__source:{fileName:r,lineNumber:148}}),l.default.createElement(j,{icon:n(670),title:"分享应用",onPress:function(){return e._share()},__source:{fileName:r,lineNumber:149}}),l.default.createElement(u.default,{style:{height:10},__source:{fileName:r,lineNumber:150}}),l.default.createElement(R,{__source:{fileName:r,lineNumber:152}}),l.default.createElement(u.default,{style:M.settingItemLine,__source:{fileName:r,lineNumber:153}}),"android"===y.default.OS?l.default.createElement(u.default,{__source:{fileName:r,lineNumber:156}},l.default.createElement(j,{title:"WLAN下自动升级",hideArrow:!0,switchValue:this.state.autoDownload,showSwitch:!0,onSwitchChange:function(e){storage.setAutoDownload(e)},__source:{fileName:r,lineNumber:157}})):null,l.default.createElement(u.default,{style:{marginTop:40,marginLeft:20,marginRight:20},__source:{fileName:r,lineNumber:164}},l.default.createElement(w.ActionButton,{onPress:function(){e._logout()},isDisabled:function(){return!1},text:"退出登录",__source:{fileName:r,lineNumber:164}})),l.default.createElement(u.default,{style:{height:60,width:"100%"},__source:{fileName:r,lineNumber:172}})))}}]),t}();A.navigationOptions=function(e){e.navigation,e.screenProps;return{title:"设置"}};var R=function(e){function t(){P(this,t);var e=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._cleanCallBack=function(){console.log("ret"),e.setState(function(){return{text:""}})},e.state={text:"232M"},e}return C(t,l.default.Component),i(t,[{key:"render",value:function(){var e=this;return l.default.createElement(f.default,{onPress:function(){w.ToCleanDialog.show(e._cleanCallBack)},__source:{fileName:r,lineNumber:198}},l.default.createElement(u.default,{style:{backgroundColor:"#ffffff",height:50,flexDirection:"row",alignItems:"center"},__source:{fileName:r,lineNumber:199}},l.default.createElement(s.default,{style:{color:"#6f899b",fontSize:14,marginLeft:11,flex:1},__source:{fileName:r,lineNumber:200}},"清除本地缓存"),l.default.createElement(s.default,{style:{color:"#7594a9",fontSize:14,marginRight:18},__source:{fileName:r,lineNumber:201}},this.state.text)))}}]),t}(),j=function(e){function t(){P(this,t);var e=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={switchValue:!0},e}return C(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){var e=!1;this.props&&this.props.switchValue&&(e=!0),this.setState({switchValue:e})}},{key:"render",value:function(){var e=this,t=this.props.hideArrow?null:l.default.createElement(d.default,{source:n(100),style:M.settingItemArrow,__source:{fileName:r,lineNumber:228}}),a=this.props.showExtText?l.default.createElement(s.default,{style:M.settingItemExtText,__source:{fileName:r,lineNumber:229}},this.props.showExtText):null;return l.default.createElement(f.default,{onPress:function(){e.props.onPress&&e.props.onPress()},__source:{fileName:r,lineNumber:231}},l.default.createElement(u.default,{style:M.settingItemContainer,__source:{fileName:r,lineNumber:232}},l.default.createElement(d.default,{source:this.props.icon,style:M.settingItemIcon,__source:{fileName:r,lineNumber:233}}),l.default.createElement(s.default,{style:M.settingItemText,__source:{fileName:r,lineNumber:234}},this.props.title," "),a,this.props.showSwitch?l.default.createElement(w.BimSwitch,{style:{marginRight:20},value:this.state.switchValue,onValueChange:function(t){e.setState({switchValue:t},function(){e.props.onSwitchChange&&e.props.onSwitchChange(t)})},__source:{fileName:r,lineNumber:237}}):null,t))}}]),t}(),M=g.default.create({container:{backgroundColor:"#f5f8f9",width:x,height:D},settingItemContainer:{height:50,alignItems:"center",flexDirection:"row",backgroundColor:"#ffffff"},settingItemIcon:{width:24,height:24,marginLeft:10,resizeMode:"contain"},settingItemText:{marginLeft:11,flex:1,fontSize:14,color:"#6f899b"},settingItemExtText:{fontSize:14,color:"#7594a9",marginRight:20},settingItemArrow:{width:5,height:12,marginRight:20},settingItemLine:{height:1,backgroundColor:"#f7f7f7"}});t.default=(0,b.connect)(function(e){return{status:e.loginIn.status,isSuccess:e.loginIn.isSuccess,user:e.loginIn.user,hasChoose:e.loginIn.hasChoose}},function(e){return{logout:function(){e&&e(v.logout())}}})(A)},392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\me\\MyPage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=y(i),l=y(n(3)),u=y(n(6)),s=y(n(2)),c=y(n(12)),f=y(n(27)),d=y(n(19)),p=y(n(7)),m=y(n(8)),g=y(n(9)),h=y(n(14)),_=n(16);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=g.default.get("window"),w=E.width,I=(E.height,""),T=function(e){function t(){b(this,t);var e=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._gotoTenantChoose=function(){if(!e.bPress){e.bPress=!0;var t=e.props.navigation;storage.projectIdVersionId="",storage.pushNext(t,"ChangeProjectPage"),setTimeout(function(){e.bPress=!1},2e3)}},e._gotoOfflineManage=function(){var t=e.props.navigation;storage.pushNext(t,"OfflineManagePage")},e._gotoTask=function(){},e._gotoPlan=function(){},e._gotoSubscribe=function(){},e._gotoSubscribe=function(){},storage.loadUserInfo().accountInfo&&(I=storage.loadUserInfo().accountInfo.name),e.bPress=!1,e}return N(t,i.Component),r(t,[{key:"render",value:function(){var e=this;return o.default.createElement(f.default,{style:S.container,__source:{fileName:a,lineNumber:74}},o.default.createElement(c.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:75}}),o.default.createElement(s.default,{style:{backgroundColor:"#00baf3",marginBottom:20},__source:{fileName:a,lineNumber:76}},o.default.createElement(p.default,{source:n(391),style:S.mineAvatar,__source:{fileName:a,lineNumber:77}}),o.default.createElement(u.default,{style:S.mineName,__source:{fileName:a,lineNumber:78}},I),o.default.createElement(p.default,{source:n(679),style:S.mineWave,__source:{fileName:a,lineNumber:79}})),o.default.createElement(d.default,{bounces:!1,__source:{fileName:a,lineNumber:81}},"web"!==h.default.OS?o.default.createElement(P,{icon:n(678),title:"离线管理",onPress:function(){return e._gotoOfflineManage()},__source:{fileName:a,lineNumber:82}}):null,"web"!==h.default.OS?o.default.createElement(s.default,{style:S.mineItemLine,__source:{fileName:a,lineNumber:83}}):null,o.default.createElement(P,{icon:n(677),title:"我的任务",onPress:function(){return e._gotoTask()},__source:{fileName:a,lineNumber:84}}),o.default.createElement(s.default,{style:S.mineItemLine,__source:{fileName:a,lineNumber:85}}),o.default.createElement(P,{icon:n(676),title:"我的计划",onPress:function(){return e._gotoPlan()},__source:{fileName:a,lineNumber:86}}),o.default.createElement(s.default,{style:S.mineItemLine,__source:{fileName:a,lineNumber:87}}),o.default.createElement(P,{icon:n(675),title:"我的订阅",onPress:function(){return e._gotoSubscribe()},__source:{fileName:a,lineNumber:88}}),o.default.createElement(s.default,{style:S.mineItemLine,__source:{fileName:a,lineNumber:89}}),o.default.createElement(s.default,{style:{marginTop:40,marginLeft:20,marginRight:20},__source:{fileName:a,lineNumber:91}},o.default.createElement(_.ActionButton,{onPress:function(t){t.preventDefault(),e._gotoTenantChoose()},isDisabled:function(){return!1},text:"切换项目",__source:{fileName:a,lineNumber:92}})),o.default.createElement(s.default,{style:{height:65,width:"100%"},__source:{fileName:a,lineNumber:99}})))}}]),t}();T.navigationOptions={title:""},t.default=T;var P=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,i.Component),r(t,[{key:"render",value:function(){var e=this;return o.default.createElement(m.default,{onPress:function(t){t.preventDefault(),e.props.onPress()},__source:{fileName:a,lineNumber:110}},o.default.createElement(s.default,{style:S.mineItemContainer,__source:{fileName:a,lineNumber:111}},o.default.createElement(p.default,{source:this.props.icon,style:S.mineItemIcon,__source:{fileName:a,lineNumber:112}}),o.default.createElement(u.default,{style:S.mineItemText,__source:{fileName:a,lineNumber:113}},this.props.title," "),o.default.createElement(p.default,{source:n(100),style:S.mineItemArrow,__source:{fileName:a,lineNumber:114}})))}}]),t}(),S=l.default.create({container:{backgroundColor:"#ffffff",flex:1},mineAvatar:{width:90,height:90,alignSelf:"center",marginTop:7},mineName:{marginTop:7,alignSelf:"center",fontSize:22,color:"#ffffff"},mineWave:{width:w,height:37,alignSelf:"center",marginTop:20},mineItemContainer:{height:50,alignItems:"center",flexDirection:"row",backgroundColor:"#ffffff"},mineItemIcon:{width:24,height:24,marginLeft:22},mineItemText:{marginLeft:17,flex:1,fontSize:14,color:"#6f899b"},mineItemArrow:{width:5,height:12,marginRight:20},mineItemLine:{height:1,marginLeft:22,backgroundColor:"#f7f7f7"}})},393:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\home\\home.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=m(n(1)),o=m(n(2)),l=(m(n(7)),m(n(27))),u=(m(n(14)),n(48)),s=n(54),c=n(16),f=m(n(10)),d=m(n(681)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(680));function m(e){return e&&e.__esModule?e:{default:e}}u.Theme.set({primaryColor:"#00baf3",btnPrimaryColor:"#00baf3",btnPrimaryBorderColor:"#00baf3",sbBtnActiveTitleColor:"#00baf3",sbIndicatorLineColor:"#00baf3",tvBarBtnIconTintColor:"#8f8f8f",tvBarBtnIconActiveTintColor:"#00baf3",tvBarBtnTitleColor:"#8f8f8f",tvBarBtnActiveTitleColor:"#00baf3",navColor:"#00baf3",navSeparatorColor:"#00baf3",tvBarBtnWidth:70,asCancelItemTitleColor:"#f56323"});var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.componentDidMount=function(){storage.page=r.refs.page},r.onNewClick=function(){s.BimFileEntry.homeSelect(r.props.navigation)},r.renderCreate=function(){return s.AuthorityManager.isQualityCreate()||s.AuthorityManager.isEquipmentCreate()?i.default.createElement(u.TabView.Sheet,{type:"button",title:"",icon:i.default.createElement(d.default,{__source:{fileName:a,lineNumber:76}}),style:{width:70,backgroundColor:"orange"},iconContainerStyle:{justifyContent:"center"},onPress:function(e){e.preventDefault(),r.onNewClick()},__source:{fileName:a,lineNumber:72}}):null},r.options=function(e){var t=r.props.navigation.getParam(t);return e==f.default.PAGE_INNDX_HOME?{headerTitle:i.default.createElement(c.BarItems.TitleBarItem,{text:t||storage.loadCurrentProjectName(),__source:{fileName:a,lineNumber:91}}),headerRight:i.default.createElement(c.BarItems.RightBarItem,{imageSource:n(163),navigation:r.props.navigation,onPress:function(e){return r.props.navigation.navigate("SearchPage")},__source:{fileName:a,lineNumber:92}}),headerLeft:i.default.createElement(o.default,{__source:{fileName:a,lineNumber:94}})}:e==f.default.PAGE_INNDX_SUBSCRIBE?{headerLeft:i.default.createElement(o.default,{__source:{fileName:a,lineNumber:101}}),headerTitle:i.default.createElement(c.BarItems.TitleBarItem,{text:t||f.default.PAGE_NAME_SUBSCRIBE,__source:{fileName:a,lineNumber:102}}),headerRight:i.default.createElement(o.default,{__source:{fileName:a,lineNumber:104}})}:e==f.default.PAGE_INNDX_MESSAGE?{headerLeft:i.default.createElement(o.default,{__source:{fileName:a,lineNumber:110}}),headerTitle:i.default.createElement(c.BarItems.TitleBarItem,{text:t||f.default.PAGE_NAME_MESSAGE,__source:{fileName:a,lineNumber:111}}),headerRight:i.default.createElement(o.default,{__source:{fileName:a,lineNumber:113}})}:e==f.default.PAGE_INNDX_MINE?{title:"",headerRight:i.default.createElement(c.BarItems.RightBarItem,{imageStyle:{width:24,height:24},imageSource:n(518),navigation:r.props.navigation,onPress:function(e){},__source:{fileName:a,lineNumber:120}}),headerLeft:i.default.createElement(c.BarItems.LeftBarItem,{imageStyle:{width:22,height:22},imageSource:n(399),navigation:r.props.navigation,onPress:function(e){return r.props.navigation.navigate("SettingPage")},__source:{fileName:a,lineNumber:122}})}:{title:"BIM协同"}},r.onChange=function(e){r.state.activeIndex=e,storage.currentTab=e,r.props.navigation.setParams({options:function(){return r.options(e)}})},storage.homeNavigation=r.props.navigation;var l=0;return e.navigation.getParam("activeIndex")&&(l=e.navigation.getParam("activeIndex")||0),r.state={activeIndex:l},e.navigation.setParams({options:function(){return r.options(f.default.PAGE_INNDX_HOME)}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this;return i.default.createElement(l.default,{style:{height:"100%",backgroundColor:"#f5f8f9"},__source:{fileName:a,lineNumber:139}},i.default.createElement(u.TabView,{activeIndex:this.state.activeIndex,ref:function(t){e.tabView=t},onChange:this.onChange,style:{flex:1,overflow:"visible"},type:"projector",__source:{fileName:a,lineNumber:140}},i.default.createElement(u.TabView.Sheet,{title:f.default.PAGE_NAME_HOME,icon:n(517),activeIcon:n(516),__source:{fileName:a,lineNumber:141}},i.default.createElement(p.MainPage,{__source:{fileName:a,lineNumber:146}})),i.default.createElement(u.TabView.Sheet,{title:f.default.PAGE_NAME_SUBSCRIBE,icon:n(515),activeIcon:n(247),__source:{fileName:a,lineNumber:148}},i.default.createElement(p.SubscribePage,{__source:{fileName:a,lineNumber:153}})),this.renderCreate(),i.default.createElement(u.TabView.Sheet,{title:f.default.PAGE_NAME_MESSAGE,icon:n(514),activeIcon:n(513),__source:{fileName:a,lineNumber:159}},i.default.createElement(p.MessagePage,{__source:{fileName:a,lineNumber:164}})),i.default.createElement(u.TabView.Sheet,{title:f.default.PAGE_NAME_MINE,icon:n(512),activeIcon:n(511),__source:{fileName:a,lineNumber:166}},i.default.createElement(p.MyPage,{__source:{fileName:a,lineNumber:172}}))))}}]),t}();g.navigationOptions=function(e){var t=e.navigation;e.screenProps;storage.homeNavigation=t;var r=t.getParam("options");return r?r():{headerTitle:i.default.createElement(c.BarItems.TitleBarItem,{text:storage.loadCurrentProjectName(),__source:{fileName:a,lineNumber:46}}),headerRight:i.default.createElement(c.BarItems.RightBarItem,{imageSource:n(163),navigation:t,onPress:function(){},__source:{fileName:a,lineNumber:47}}),headerLeft:i.default.createElement(o.default,{__source:{fileName:a,lineNumber:49}})}},t.default=g},394:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.login=function(e,t){return"TEST"===r.SERVER_TYPE?function(e,t){return function(n){n(p(e));var r=new u.default;s.default.isOnLine()?a.default.authToken(e,t).then(function(a){console.log("response.data:"+a.data1),r.saveAccountInfo(e,t),d(n,a,e,t,a.data.access_token)}).catch(function(e){n(g(!1))}):r.checkAccountInfo(e,t)?function(e,t,n){e(m(!0,null,t))}(n,e):n(g(!1))}}(e,t):function(e,t){return function(n){n(p(e)),"web"!==o.default.OS?f.RNInvokeOCCallBack({caller:"soulrn",name:"clearCookie",ver:"1.0",data:{title:"登录",message:"是否确认登录？"}},function(r,i){a.default.login(e,t).then(function(a){d(n,a,e,t)}).catch(function(e){n(g(!1))})}):a.default.login(e,t).then(function(a){d(n,a,e,t)}).catch(function(e){n(g(!1))})}}(e,t)},t.logout=function(){return function(e){e({type:l.LOGIN_IN_INIT})}};var a=c(n(10)),r=n(65),i=c(n(56)),o=c(n(14)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(426)),u=c(n(209)),s=c(n(36));function c(e){return e&&e.__esModule?e:{default:e}}var f=i.default.GLDRNBridgeModule;function d(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"cookie_token";storage.saveLoginToken(i),a.default.accountInfo().then(function(r){if(r.err)return e(g(!1)),void storage.saveLoginToken("");var o=r.data;if(o){if(!o.accountInfo)return e(g(!1)),void storage.saveLoginToken("");var u=o.gldAccountId;if(u||(u="0"),i&&(storage.saveLoginToken(i,u),storage.saveLoginUserName(n)),storage.saveUserInfo(o),storage.hasChoose()){var s=storage.loadLastTenant();"0"==s?e(m(!0,t.data,n)):a.default.setCurrentTenant(s).then(function(a){e(m(!0,t.data,n))}).catch(function(t){storage.saveLastTenant("0"),e(g(!1))})}else e(function(e,t,n){return{type:l.LOGIN_IN_DONE_CHOOSE,user:t,userName:n}}(0,t.data,n))}else e({type:l.LOGIN_IN_RETRY})}).catch(function(t){storage.saveLoginToken(""),e(g(!1))})}function p(e){return{type:l.LOGIN_IN_DOING,userName:e}}function m(e,t,n){return{type:l.LOGIN_IN_DONE,user:t,userName:n}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"登录失败";return{type:l.LOGIN_IN_ERROR,message:t}}},395:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\GLDGrid.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=g(i),l=g(n(2)),u=g(n(6)),s=g(n(3)),c=g(n(73)),f=g(n(9)),d=g(n(8)),p=g(n(7)),m=g(n(0));function g(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=f.default.get("window"),y=_.width,b=(_.height,(y-40)/4),v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r._renderGrid=function(){var e=r.props.cardStyle.width?r.props.cardStyle.width:b,t=r.props.numColumns*e;return o.default.createElement(c.default,{style:[{width:t,backgroundColor:"#fff"}],data:r.props.data,renderItem:function(e){var t=e.item,n=e.index;return r.renderBuildingItem({item:t,index:n})},numColumns:r.props.numColumns,keyExtractor:function(e){return e.id+""},__source:{fileName:a,lineNumber:42}})},r._renderHorizontalList=function(){return o.default.createElement(c.default,{style:[{backgroundColor:"#fff"}],data:r.props.data,renderItem:function(e){var t=e.item,n=e.index;return r.renderBuildingItem({item:t,index:n})},keyExtractor:function(e){return e.name+""},horizontal:!0,__source:{fileName:a,lineNumber:55}})},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){return this.props.horizontal?this._renderHorizontalList():this._renderGrid()}},{key:"renderBuildingItem",value:function(e){var t=this,n=e.item,r=e.index;return o.default.createElement(d.default,{onPress:function(e){e.preventDefault(),t.props.onPress&&t.props.onPress(n,r)},__source:{fileName:a,lineNumber:73}},o.default.createElement(l.default,{style:[N.card,this.props.cardStyle],__source:{fileName:a,lineNumber:79}},o.default.createElement(p.default,{source:n.source,style:[this.props.imageStyle],__source:{fileName:a,lineNumber:80}}),o.default.createElement(u.default,{style:N.itemText,__source:{fileName:a,lineNumber:81}},n.name)))}}]),t}();v.propTypes={numColumns:m.default.number,cardStyle:m.default.any,imageStyle:m.default.any,onPress:m.default.func,horizontal:m.default.bool},v.defaultProps={numColumns:4,horizontal:!1,cardStyle:{width:b},imageStyle:{width:b,height:b,resizeMode:"contain"}};var N=s.default.create({card:{alignItems:"center"},itemText:{color:"#000",fontSize:14}});t.default=v},397:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\circlebar\\CircleProgressView.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=f(i),l=n(0),u=f(n(2)),s=(f(n(6)),f(n(3))),c=(f(n(9)),f(n(236)));function f(e){return e&&e.__esModule?e:{default:e}}var d=c.default.Group,p=c.default.Path,m=c.default.Shape,g=c.default.Surface,h=(c.default.LinearGradient,function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.props.raduis<0)throw new Error(" radius must >0");var a=2*n.props.raduis;console.log("size "+a);var r=2*Math.sqrt(Math.pow(a/2-3*n.props.progressWidth/2,2)/2);console.log("centerW "+r);var i=a/2-r/2,o=a/2-r/2;return console.log("marginLeft "+o),n.state={size:a,startX:a/2,startY:n.props.progressWidth,originR:a/2-n.props.progressWidth,endX:a/2,endY:n.props.progressWidth,startX1:a/2,startY1:a-n.props.progressWidth,endX1:a/2,endY1:a-n.props.progressWidth,centerW:r,marginTop:i,marginLeft:o,target0:null,target1:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.changeProgress(this.props.progress,this.props.totalNum)}},{key:"changeProgress",value:function(e,t){var n,a=e/t*360,r=null;n=function(e,t,n,a,r){var i=e/t*360;i>180&&(i=180);var o=[];if(i<=90){i=2*i*Math.PI/360;var l=n+r*Math.sin(i),u=a+r-r*Math.cos(i);return o.push(l),o.push(u),o}if(i<=180){i=2*(i-=90)*Math.PI/360;var s=n+r*Math.cos(i),c=a+r+r*Math.sin(i);return o.push(s),o.push(c),o}return null}(e,t,this.state.startX,this.state.startY,this.state.originR),a>180&&(r=function(e,t,n,a){var r=[];e>360&&(e=360);if(e<=270){e=2*(e-=180)*Math.PI/360;var i=t-a*Math.sin(e),o=n-(a-+a*Math.cos(e));return r.push(i),r.push(o),r}if(e<=360){e=2*(e-=270)*Math.PI/360;var l=t-a*Math.cos(e),u=n-a-a*Math.sin(e);return r.push(l),r.push(u),r}}(a,this.state.startX1,this.state.startY1,this.state.originR)),null!=n&&(a>180&&null==r||this.setState({target0:n,target1:r,endX:n[0],endY:n[1],endX1:null!=r?r[0]:0,endY1:null!=r?r[1]:0}))}},{key:"componentWillReceiveProps",value:function(e){e!=this.props&&this.changeProgress(e.progress,e.totalNum)}},{key:"shouldComponentUpdate",value:function(e,t){return t.target0!=this.state.target0||t.target1!=this.state.target1}},{key:"getBase",value:function(e){if(0==e){var t="M{0},{1} A{2},{3} 0 {4},{5} {6},{7}".format(this.state.startX,this.state.startY,this.state.originR,this.state.originR,0,1,this.state.startX1,this.state.startY1);return(new p).push(t)}var n="M{0},{1} A{2},{3} 0 {4},{5} {6},{7}".format(this.state.startX1,this.state.startY1,this.state.originR,this.state.originR,0,1,this.state.startX,this.state.startY);return(new p).push(n)}},{key:"getCenterView",value:function(){return this.props.centerViewMode?o.default.createElement(u.default,{key:"centerView",style:[_.centerViewStyle,{width:this.state.centerW,height:this.state.centerW,top:this.state.marginTop,left:this.state.marginLeft}],__source:{fileName:a,lineNumber:174}},this.props.children):null}},{key:"render",value:function(){var e=this.getBase(0),t=this.getBase(1),n="M{0},{1} A{2},{3} 0 {4},{5} {6},{7}".format(this.state.startX,this.state.startY,this.state.originR,this.state.originR,0,1,this.state.endX,this.state.endY),r=(new p).push(n),i=new p;if(this.state.endX1>0&&this.state.endY1>0){var l="M{0},{1} A{2},{3} 0 {4},{5} {6},{7}".format(this.state.startX1,this.state.startY1,this.state.originR,this.state.originR,0,1,this.state.endX1,this.state.endY1);i.push(l)}return o.default.createElement(u.default,{__source:{fileName:a,lineNumber:222}},o.default.createElement(g,{width:this.state.size,height:this.state.size,__source:{fileName:a,lineNumber:223}},o.default.createElement(d,{__source:{fileName:a,lineNumber:224}},o.default.createElement(m,{d:e,stroke:this.props.progressBaseColor,strokeWidth:this.props.baseProgressWidth,__source:{fileName:a,lineNumber:225}}),o.default.createElement(m,{d:t,stroke:this.props.progressBaseColor,strokeWidth:this.props.baseProgressWidth,__source:{fileName:a,lineNumber:227}}),o.default.createElement(m,{d:r,stroke:this.props.progressColor,strokeWidth:this.props.progressWidth,__source:{fileName:a,lineNumber:229}}),o.default.createElement(m,{d:i,stroke:this.props.progressColor,strokeWidth:this.props.progressWidth,__source:{fileName:a,lineNumber:230}}))),this.getCenterView())}}]),t}());h.defaultProps={baseProgressWidth:2,progressWidth:2,totalNum:360,progress:0,raduis:100,progressColor:"#00baf3",progressBaseColor:"#e6e6e6",centerViewMode:!0},h.propTypes={progress:l.PropTypes.number,totalNum:l.PropTypes.number,progressWidth:l.PropTypes.number,baseProgressWidth:l.PropTypes.number,raduis:l.PropTypes.number,progressColor:l.PropTypes.string,progressBaseColor:l.PropTypes.string,centerViewMode:l.PropTypes.bool},t.default=h;var _=s.default.create({centerViewStyle:{position:"absolute"}});String.prototype.format=function(e){var t=this;if(arguments.length<1)return t;var n=arguments;for(var a in 1==arguments.length&&"object"==typeof e&&(n=e),n){var r=n[a];void 0!=r&&(t=t.replace("{"+a+"}",r))}return t}},400:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(64)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.submit=function(e,t,n,r,o){var l=s(e);c(l,r)&&(f(),d(t,function(e){e&&(l.files=e),0===l.inspectId?function(e,t,n){delete e.inspectId;var r=p(e);i.default.createSubmitInspection(storage.loadProject(),e.inspectionType,r).then(function(e){n&&n(),a.default.hide(),e&&e.data&&e.data.id&&storage.goBack(t,null)}).catch(function(e){a.default.hide(),a.default.info("提交失败",1)})}(l,n,o):function(e,t,n){var r=e.inspectId;delete e.inspectId;var o=p(e);i.default.editSubmitInspection(storage.loadProject(),r,e.inspectionType,o).then(function(e){n&&n(),a.default.hide(),storage.goBack(t,null)}).catch(function(e){a.default.hide(),a.default.info("提交失败",1)})}(l,n,o)}))},t.submitFromList=function(e,t){i.default.getQualityInspectionDetail(storage.loadProject(),e).then(function(n){var r=n.data.inspectionInfo;if(r.inspectId=r.id,r.needRectification){var o=new Date((new Date).setHours(0,0,0,0)).getTime();if(o>r.lastRectificationDate)return void a.default.info("整改期限不能早于当前日期！",1)}i.default.editSubmitInspection(storage.loadProject(),e,r.inspectionType,JSON.stringify(r)).then(function(e){t({res:"success",data:e})}).catch(function(e){a.default.hide(),a.default.info("提交失败",1)})}).catch(function(e){a.default.hide(),t({res:"error",data:e})})},t.save=function(e,t,n){var r=s(e);c(r,n)&&(f(),d(t,function(e){e&&(r.files=e),r.inspectId>0?function(e,t){var n=e.inspectId;delete e.inspectId;var r=p(e);i.default.editSaveInspection(storage.loadProject(),n,e.inspectionType,r).then(function(n){console.log(n),a.default.hide(),t({inspectionInfo:e}),a.default.success("保存成功",1)}).catch(function(e){a.default.hide(),console.log(e),a.default.info("保存失败",1)})}(r,n):function(e,t){l.default.isOnLine()&&delete e.inspectId;var n=p(e);i.default.createSaveInspection(storage.loadProject(),e.inspectionType,n).then(function(n){a.default.hide(),n&&(e.id=n.data.id,e.code=n.data.code,t({inspectId:n.data.id,code:n.data.code,inspectionInfo:e}),a.default.success("保存成功",1))}).catch(function(e){a.default.hide(),a.default.info("保存失败",1)})}(r,n)}))},t.isEditInfoChange=function(e,t,n,a){if(!n)return void a(!1);n._loadFile(function(n){!function(e,t){var n=e?e.length:0,a=t?t.length:0;if(function(e,t){t&&t.map(function(t){var n=function(e,t){if(e)for(var n in e)if(e[n].path===t.path)return e[n];return null}(e,t);n&&(t.name=n.name,t.objectId=n.objectId,t.extension=n.extension,t.digest=n.digest,t.length=n.length,t.uploadTime=n.uploadTime)})}(e,t),n!=a)return!0;for(var r in t)if(!t[r].objectId)return!0;return!1}(t.files,n)&&!function(e,t){var n=s(e);if(t.code!=n.code)return!0;if(t.qualityCheckpointName!=n.qualityCheckpointName)return!0;if(t.inspectionCompanyId!=n.inspectionCompanyId)return!0;if(t.constructionCompanyId!=n.constructionCompanyId)return!0;if(t.needRectification!=n.needRectification)return!0;if(t.needRectification&&n.needRectification&&t.lastRectificationDate!=n.lastRectificationDate)return!0;if(t.description!=n.description)return!0;if(t.responsibleUserId!=n.responsibleUserId)return!0;if(t.drawingGdocFileId!=n.drawingGdocFileId)return!0;if(t.gdocFileId!=n.gdocFileId)return!0;return!1}(e,t)?a(!1):a(!0)})},t.deleteInspection=function(e,t,n){i.default.createDeleteInspection(storage.loadProject(),t,e).then(function(e){n()}).catch(function(e){a.default.hide(),a.default.info("删除失败",1)})},t.getModelElementProperty=function(e,t){i.default.getModelElementProperty(storage.loadProject(),storage.projectIdVersionId,e.gdocFileId,e.elementId).then(function(n){e.elementName=n.data.data.name,t({relevantModel:e})})},n(63);var i=u(n(10)),o=n(16),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(143)),u(n(36)));u(n(41));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t={},n=e.state,a=e.companyData;t.constructionCompanyId=a.coperationId,t.constructionCompanyName=a.name,t.description=n.contentDescription,t.inspectId=n.inspectId,t.inspectId&&t.inspectId<0&&(t.inspectId=0),t.code=n.code;var r=e.inspectCompanyData;t.inspectionCompanyId=r.id,t.inspectionCompanyName=r.name,t.inspectionType=e.inspectionType;var i=e.rectificationData;t.needRectification=i.value,t.lastRectificationDate=i.date,t.projectId=storage.loadProject(),t.projectName=storage.loadCurrentProjectName();var o=e.checkPoint;t.qualityCheckpointId=o.id,t.qualityCheckpointName=o.name;var l=e.personData;t.responsibleUserId=l.userId,t.responsibleUserName=l.name,t.responsibleUserTitle=l.title;var u=n.relevantBlueprint;u&&(t.drawingGdocFileId=u.drawingGdocFileId,t.drawingName=u.drawingName,t.drawingPositionX=u.drawingPositionX,t.drawingPositionY=u.drawingPositionY);var s=n.relevantModel;return s&&(t.elementName=s.elementName,t.elementId=s.elementId,t.buildingName=s.buildingName,t.buildingId=s.buildingId,t.gdocFileId=s.gdocFileId),t}function c(e,t){var n=[],a={showInspectCompanyStar:!1,showCompanyStar:!1,showPersonStar:!1,showDescriptionStar:!1,showCheckpointStar:!1,showRectificationStar:!1};if(e.inspectionCompanyId||(n.push("检查单位"),a.showInspectCompanyStar=!0),e.constructionCompanyId||(n.push("施工单位"),a.showCompanyStar=!0),e.responsibleUserId||(n.push("责任人"),a.showPersonStar=!0),"string"==typeof e.description&&0!==e.description.length||(n.push("现场描述"),a.showDescriptionStar=!0),e.qualityCheckpointName||(n.push("质检项目"),a.showCheckpointStar=!0),e.needRectification&&!e.lastRectificationDate&&(n.push("整改期限"),a.showRectificationStar=!0),t(a),n.length>0)return function(e){var t=e.length,n="您还未选择";if(1==t)n=""+n+e[0];else for(var a in e)n=0==a?""+n+e[a]:a==t-1?n+"和"+e[a]:n+"、"+e[a];n+="!",o.ActionModal.alertTip("提示信息",n,{text:"知道了",style:{color:"#00baf3"}})}(n),!1;if(e.needRectification&&new Date((new Date).setHours(0,0,0,0)).getTime()>e.lastRectificationDate)return o.ActionModal.alert("提示信息","整改期限不能早于当前日期！",[{text:"知道了",style:{color:"#00baf3"}}]),!1;return!0}function f(){a.default.loading("加载中...",0,null,!0)}function d(e,t){e&&e._loadFile(function(e){e&&e.length>0?i.default.upLoadFiles(e,function(e,n){console.log("uploadresult:"+e+",data:"+JSON.stringify(n)),"success"===e?t(n):(a.default.hide(),a.default.info("上传图片失败",1))}):t()})}function p(e,t){var n=r({},e);return n.files=function(e){var t=[];return e&&e.map(function(e){var n={name:e.name,objectId:e.objectId,extension:e.extension,digest:e.digest,uploadTime:e.uploadTime};t.push(n)}),t}(e.files),JSON.stringify(n)}},401:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\GLDDrawerPaneView.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=g(i),l=g(n(0)),u=(g(n(3)),g(n(6)),g(n(2))),s=g(n(19)),c=(g(n(7)),g(n(8)),g(n(9))),f=n(48),d=g(n(10)),p=n(54),m=g(n(713));n(212);function g(e){return e&&e.__esModule?e:{default:e}}var h=c.default.get("window"),_=h.width,y=h.height,b=n(712),v=n(711),N=n(710),E=n(399),w=(n(398),n(255)),I=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.close=function(){t.close()},n.onQualityChange=function(){var e=!n.state.qualityOpen;n.setState({qualityOpen:e})},n.onQualityAction=function(){n.close();var e=n.props.navigation;storage.projectIdVersionId="",storage.fileId="",storage.bimToken={},storage.replaceNext(e,"QualityMainPage",{top:!0})},n.onQualityDrawerAction=function(){n.close();var e=n.props.navigation;p.BimFileEntry.chooseBlueprintFromHome(e,!0,!0)},n.onQualityModleAction=function(){n.close();var e=n.props.navigation;p.BimFileEntry.chooseQualityModelFromHome(e,!0,!0)},n.onCheckPointAction=function(){n.close();var e=n.props.navigation;storage.projectIdVersionId="",storage.replaceNext(e,"CheckPointListPage",{top:!0})},n.onEquipmentChange=function(){var e=!n.state.equipmentOpen;n.setState({equipmentOpen:e})},n.onEquipmentAction=function(){n.close();var e=n.props.navigation;storage.projectIdVersionId="",storage.fileId="",storage.bimToken={},storage.replaceNext(e,"EquipmentMainPage",{top:!0})},n.onEquipmentModleAction=function(){n.close();var e=n.props.navigation;p.BimFileEntry.chooseEquipmentModelFromHome(e,!0,!0)},n.onSettingAction=function(){n.close(),storage.replaceNext(n.props.navigation,"SettingPage",{top:!0})},n.renderA=function(e){return p.AuthorityManager.isQualityBrowser()?o.default.createElement(u.default,{__source:{fileName:a,lineNumber:117}},o.default.createElement(m.default,{title:"质检管理",color:d.default.APP_COLOR_ITEM,display:p.AuthorityManager.isQualityBrowser(),onClick:function(){n.onQualityChange()},showType:"section",image:N,rightImage:w,__source:{fileName:a,lineNumber:118}}),o.default.createElement(u.default,{style:n.state.qualityOpen?{}:{display:"none"},__source:{fileName:a,lineNumber:120}},o.default.createElement(m.default,{title:"质检清单",color:e===d.default.APP_QUALITY?d.default.APP_COLOR_CURRENT:d.default.APP_COLOR_ITEM,onClick:function(){e===d.default.APP_QUALITY||n.onQualityAction()},showType:"default",__source:{fileName:a,lineNumber:121}}),o.default.createElement(m.default,{title:"图纸",color:e===d.default.APP_QUALITY_DRAWER?d.default.APP_COLOR_CURRENT:d.default.APP_COLOR_ITEM,onClick:function(){e===d.default.APP_QUALITY_DRAWER||n.onQualityDrawerAction()},showType:"default",__source:{fileName:a,lineNumber:123}}),o.default.createElement(m.default,{title:"模型",color:e===d.default.APP_QUALITY_MODLE?d.default.APP_COLOR_CURRENT:d.default.APP_COLOR_ITEM,onClick:function(){e===d.default.APP_QUALITY_MODLE||n.onQualityModleAction()},showType:"default",__source:{fileName:a,lineNumber:125}}),o.default.createElement(m.default,{title:"质检项目",color:e===d.default.APP_QUALITY_CHECK_POINT?d.default.APP_COLOR_CURRENT:d.default.APP_COLOR_ITEM,onClick:function(){e===d.default.APP_QUALITY_CHECK_POINT||n.onCheckPointAction()},showType:"default",__source:{fileName:a,lineNumber:127}}))):null},n.renderB=function(e){return p.AuthorityManager.isEquipmentBrowser()?o.default.createElement(u.default,{__source:{fileName:a,lineNumber:139}},o.default.createElement(m.default,{showType:"line",color:d.default.APP_COLOR_ITEM,__source:{fileName:a,lineNumber:140}}),o.default.createElement(m.default,{title:"材设进场",color:d.default.APP_COLOR_ITEM,onClick:function(){n.onEquipmentChange()},showType:"section",image:v,rightImage:w,__source:{fileName:a,lineNumber:141}}),o.default.createElement(u.default,{style:n.state.equipmentOpen?{}:{display:"none"},__source:{fileName:a,lineNumber:143}},o.default.createElement(m.default,{title:"材设清单",color:e===d.default.APP_EQUIPMENT?d.default.APP_COLOR_CURRENT:d.default.APP_COLOR_ITEM,onClick:function(){e===d.default.APP_EQUIPMENT||n.onEquipmentAction()},showType:"default",__source:{fileName:a,lineNumber:144}}),o.default.createElement(m.default,{title:"模型预览",color:e===d.default.APP_EQUIPMENT_MODLE?d.default.APP_COLOR_CURRENT:d.default.APP_COLOR_ITEM,onClick:function(){e===d.default.APP_EQUIPMENT_MODLE||n.onEquipmentModleAction()},showType:"default",__source:{fileName:a,lineNumber:146}}))):null},n.state={qualityOpen:!0,equipmentOpen:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,null,[{key:"open",value:function(e,n){var r=o.default.createElement(t,{currentItem:e,navigation:n,__source:{fileName:a,lineNumber:27}});t.drawer=f.Drawer.open(r,"left","translate")}},{key:"close",value:function(){t.drawer&&t.drawer.close()}}]),r(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.currentItem;return o.default.createElement(u.default,{style:{backgroundColor:"#3a3a3a",height:y,width:.667*_},__source:{fileName:a,lineNumber:158}},o.default.createElement(s.default,{style:{backgroundColor:"#3a3a3a",height:"100%",width:"100%"},__source:{fileName:a,lineNumber:159}},o.default.createElement(u.default,{style:{marginTop:100},__source:{fileName:a,lineNumber:160}},o.default.createElement(m.default,{title:storage.loadCurrentProjectName(function(){}),image:b,color:d.default.APP_COLOR_ITEM,showType:"header",__source:{fileName:a,lineNumber:161}}),o.default.createElement(u.default,{style:{width:"100%",height:50},__source:{fileName:a,lineNumber:162}}),this.renderA(t),this.renderB(t),o.default.createElement(m.default,{showType:"line",color:d.default.APP_COLOR_ITEM,__source:{fileName:a,lineNumber:169}}),o.default.createElement(m.default,{title:"设置",color:d.default.APP_COLOR_ITEM,onClick:function(){e.onSettingAction()},showType:"sectionSimple",image:E,__source:{fileName:a,lineNumber:170}}),o.default.createElement(m.default,{showType:"line",color:d.default.APP_COLOR_ITEM,__source:{fileName:a,lineNumber:172}}))))}}]),t}();I.drawer=null,t.default=I,I.propTypes={currentItem:l.default.string.isRequired,navigation:l.default.any.isRequired}},41:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=(f(n(1)),f(n(810))),i=f(n(807)),o=f(n(805)),l=f(n(803)),u=f(n(801)),s=f(n(799)),c=f(n(797));function f(e){return e&&e.__esModule?e:{default:e}}var d=n(25).Realm,p=null,m=null,g=null,h=null,_=null,y=null,b=null,v=null,N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"init",value:function(){var e=this.getTableName(),t="basic"+e,n="equipmentcondition"+e,a="qualitycondition"+e,f="quality"+e,N="equipment"+e,E="downloading"+e,w="asyncList"+e;p=new d({schema:[{name:t,primaryKey:"key",properties:{key:"string",value:"string"}},{name:n,primaryKey:"key",properties:{key:"string",value:"string"}},{name:a,primaryKey:"key",properties:{key:"string",value:"string"}},{name:f,primaryKey:"key",properties:{key:"string",value:"string",qcState:"string",qualityCheckpointId:"string",updateTime:"string",submitState:"string",errorMsg:"string"}},{name:N,primaryKey:"key",properties:{key:"string",value:"string",committed:"string",qualified:"string",updateTime:"string",submitState:"string",errorMsg:"string"}},{name:E,primaryKey:"key",properties:{key:"string",value:"string",downloading:"string"}},{name:w,primaryKey:"key",properties:{key:"string",value:"string",state:"string",updateTime:"string"}}]}),m=new r.default(t,p),g=new i.default(n,p),h=new o.default(a,p),_=new l.default(f,p),y=new u.default(N,p),b=new s.default(E,p),v=new c.default(w,p)}},{key:"getBasicInfoManager",value:function(){return m}},{key:"getEquipmentConditionManager",value:function(){return g}},{key:"getQualityConditionManager",value:function(){return h}},{key:"getQualityManager",value:function(){return _}},{key:"getEquipmentManager",value:function(){return y}},{key:"getDownloadingManager",value:function(){return b}},{key:"getAsyncManager",value:function(){return v}},{key:"close",value:function(){null!=p&&p.close()}}]),e}();N.getTableName=function(){var e=storage.loadUserInfo().username,t=storage.loadTenantInfo();return""+e+JSON.parse(t).value.tenantId+storage.loadProject()},t.default=N},414:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=N(n(64)),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\login\\pages\\LoginPage.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(63);var o=n(25),l=n(16),u=N(n(1)),s=(N(n(93)),N(n(34))),c=N(n(9)),f=N(n(7)),d=N(n(14)),p=N(n(12)),m=N(n(3)),g=N(n(6)),h=N(n(8)),_=N(n(2)),y=N(n(91)),b=n(44),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(394));function N(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onWindowResize=function(e){e.preventDefault(),setTimeout(function(){n.forceUpdate()},200)},n.componentWillMount=function(){window&&window.addEventListener&&window.addEventListener("resize",n.onWindowResize)},n.componentWillUnmount=function(){window&&window.addEventListener&&window.removeEventListener("resize",n.onWindowResize)},n.componentDidMount=function(){},n._onUserNameChangeText=function(e){if(e.indexOf("\n")>=0)n.passwordTextInput.focus();else{var t=e.length>1&&n.state.password.length>5;n.setState({username:e,disabled:!t})}},n._onUserNameBlur=function(){n.setState({disabled:!n._checkInput()}),s.default.timing(n.state.lineAnim,{toValue:n.state.username.length<=0?0:.5,duration:0}).start(),s.default.timing(n.state.nameAnim,{toValue:n.state.username.length<=0?0:.5}).start()},n._onPasswordBlur=function(){n.setState({disabled:!n._checkInput()}),s.default.timing(n.state.linePwdAnim,{toValue:n.state.password.length<=0?0:.5,duration:0}).start(),s.default.timing(n.state.namePwdAnim,{toValue:n.state.password.length<=0?0:.5}).start()},n._onUserNameFocus=function(){n.setState({disabled:!n._checkInput()}),s.default.timing(n.state.lineAnim,{toValue:1}).start(),s.default.timing(n.state.nameAnim,{toValue:1}).start()},n._onPasswordFocus=function(){n.setState({disabled:!n._checkInput()}),s.default.timing(n.state.linePwdAnim,{toValue:1}).start(),s.default.timing(n.state.namePwdAnim,{toValue:1}).start()},n._onPasswordChangeText=function(e){if(e&&e.indexOf("\n")>=0)n._checkInput()&&n.doLogin();else{e||(e="");var t=e.length>5&&n.state.username.length>1;n.setState({password:e,disabled:!t})}},n._fogotAction=function(){var e=n.props.navigation;storage.pushNext(e,"ForgotPage",{title:"找回密码"})},n.doLogin=function(){y.default.dismiss(),a.default.loading("正在登录...",0,null,!0),(0,n.props.login)(n.state.username,n.state.password)},storage.homeNavigation||(storage.homeNavigation=n.props.navigation),n.passwordTextInput=null,n.userNameTextInput=null;var r=e.userName;return r||(r=""),n.state={width:0,disabled:!1,pressed:!1,username:r,password:"",events:"",msg:"",linePwdAnim:new s.default.Value(0),lineAnim:new s.default.Value(r.length>0?.5:0),namePwdAnim:new s.default.Value(0),nameAnim:new s.default.Value(r.length>0?.5:0)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"shouldComponentUpdate",value:function(e,t){if("重试"===e.status&&e.retryTimes>0)return this.props.login(this.state.username,this.state.password),!1;if("登录成功"===e.status&&e.isSuccess&&storage.isLogin()){var n=this.props.navigation;return a.default.hide(),storage.gotoMain(n),!1}return a.default.hide(),!0}},{key:"_checkInput",value:function(){return this.state.username.length>1&&this.state.password.length>5}},{key:"componentWillReceiveProps",value:function(e){return 0==e.isSuccess&&"登录失败"===e.status&&this.props.status!=e.status&&(l.ActionModal.alertTip("提示","账号或密码错误",{text:"知道了",style:{color:"#00baf3"}}),y.default.dismiss()),!0}},{key:"render",value:function(){var e=this,t=c.default.get("window").width;return this.state.width=t,u.default.createElement(o.KeyboardAwareScrollView,{keyboardShouldPersistTaps:"always",keyboardDismissMode:"ios"===d.default.OS?"on-drag":"none",style:[{backgroundColor:"#ffffff",flex:1,marginLeft:0,marginRight:0,width:"100%",height:"100%"}],__source:{fileName:r,lineNumber:172}},u.default.createElement(p.default,{barStyle:"light-content",backgroundColor:"#00baf3",translucent:!0,__source:{fileName:r,lineNumber:179}}),u.default.createElement(_.default,{style:{height:759*this.state.width/1125,width:this.state.width},__source:{fileName:r,lineNumber:184}},u.default.createElement(f.default,{source:n(682),style:{height:"100%",width:"100%",resizeMode:"contain"},__source:{fileName:r,lineNumber:189}})),u.default.createElement(_.default,{style:{marginLeft:20,marginRight:20},__source:{fileName:r,lineNumber:198}},u.default.createElement(s.default.Text,{style:[w.style_input_title,{marginTop:28},{color:"rgb(153,153,146)",fontSize:this.state.nameAnim.interpolate({inputRange:[0,.5,1],outputRange:[14,12,12]}),transform:[{translateY:this.state.nameAnim.interpolate({inputRange:[0,.5,1],outputRange:[38,0,0]})}]}],__source:{fileName:r,lineNumber:199}},"账户名"),u.default.createElement(l.TextInputNormal,{placeholder:"",inputStyle:{fontSize:18},onBlur:function(){return e._onUserNameBlur()},onFocus:function(){return e._onUserNameFocus()},onChangeText:function(t){return e._onUserNameChangeText(t)},defaultValue:this.state.username,ref:function(t){e.userNameTextInput=t},__source:{fileName:r,lineNumber:222}}),u.default.createElement(_.default,{style:w.style_input_line_gray,__source:{fileName:r,lineNumber:231}},u.default.createElement(s.default.View,{style:[w.style_input_line,{width:this.state.lineAnim.interpolate({inputRange:[0,.5,1],outputRange:["0%","0%","100%"]})}],__source:{fileName:r,lineNumber:232}})),u.default.createElement(s.default.Text,{style:[w.style_input_title,{marginTop:20},{color:"rgb(153,153,146)",fontSize:this.state.namePwdAnim.interpolate({inputRange:[0,.5,1],outputRange:[14,12,12]}),transform:[{translateY:this.state.namePwdAnim.interpolate({inputRange:[0,.5,1],outputRange:[38,0,0]})}]}],__source:{fileName:r,lineNumber:244}},"密码"),u.default.createElement(l.TextInputPassword,{placeholder:"",inputStyle:{fontSize:18},onChangeText:function(t){return e._onPasswordChangeText(t)},value:this.state.password,onBlur:function(){return e._onPasswordBlur()},onFocus:function(){return e._onPasswordFocus()},ref:function(t){e.passwordTextInput=t},__source:{fileName:r,lineNumber:267}}),u.default.createElement(_.default,{style:w.style_input_line_gray,__source:{fileName:r,lineNumber:276}},u.default.createElement(s.default.View,{style:[w.style_input_line,{width:this.state.linePwdAnim.interpolate({inputRange:[0,.5,1],outputRange:["0%","0%","100%"]})}],__source:{fileName:r,lineNumber:277}})),u.default.createElement(_.default,{__source:{fileName:r,lineNumber:289}},u.default.createElement(l.ActionButton,{onPress:function(t){t.preventDefault(),e.doLogin()},isDisabled:function(){return e.state.disabled},text:"登 录",__source:{fileName:r,lineNumber:290}})),u.default.createElement(_.default,{style:w.style_fogotTextView,__source:{fileName:r,lineNumber:297}},u.default.createElement(h.default,{onPressOut:function(t){t.preventDefault(),e._fogotAction&&e._fogotAction(t)},__source:{fileName:r,lineNumber:298}},u.default.createElement(g.default,{style:[w.style_fogotText],__source:{fileName:r,lineNumber:299}},"忘记密码")))))}}]),t}();E.navigationOptions={headerTitle:u.default.createElement(l.BarItems.TitleBarItem,{text:"用户登录",__source:{fileName:r,lineNumber:13}}),headerRight:u.default.createElement(_.default,{__source:{fileName:r,lineNumber:14}}),header:null};var w=m.default.create({style_login_title:{fontSize:36,height:50,width:76,marginTop:80,marginLeft:0},style_login_image:{height:759*c.default.get("window").width/1125,width:c.default.get("window").width,marginTop:0,marginLeft:0,resizeMode:"contain"},style_input_title:{fontSize:12,height:16,width:76,marginTop:5,marginLeft:20},style_image:{borderRadius:35,height:70,width:70,marginTop:440,alignSelf:"center"},style_input_line:{height:2,backgroundColor:"#00baf3",borderRadius:1},style_input_line_gray:{height:2,backgroundColor:"rgb(243,242,242)",marginLeft:20,marginRight:20,borderRadius:1},style_view_unlogin:{fontSize:12,color:"#63B8FF",marginLeft:10},style_view_register:{fontSize:12,color:"#63B8FF",marginRight:10,alignItems:"flex-end",flex:1,flexDirection:"row",textAlign:"right"},style_fogotText:{height:20,marginTop:10,marginLeft:20,marginRight:20,alignItems:"center",textAlign:"center",fontSize:14,color:"rgb(153,153,146)",alignSelf:"center"},style_loginText:{overflow:"hidden",height:20,marginTop:10,marginLeft:20,marginRight:20,borderRadius:20,alignItems:"center",textAlign:"center",fontSize:16,color:"#fff"},style_fogotTextView:{alignItems:"center",flexDirection:"row",justifyContent:"center",alignContent:"center",height:40,marginTop:10}});t.default=(0,b.connect)(function(e){return{status:e.loginIn.status,isSuccess:e.loginIn.isSuccess,userName:storage.getLoginUserName(),retryTimes:e.loginIn.retryTimes}},function(e){return{login:function(t,n){e&&e(v.login(t,n))}}})(E)},415:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\guide\\GuidePage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=m(n(1)),o=m(n(7)),l=m(n(19)),u=m(n(3)),s=m(n(6)),c=(m(n(103)),m(n(2))),f=m(n(8)),d=(m(n(27)),m(n(12))),p=n(782);function m(e){return e&&e.__esModule?e:{default:e}}var g=n(781),h=n(780),_=n(779),y=n(778),b=n(777),v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this;return i.default.createElement(c.default,{__source:{fileName:a,lineNumber:34}},i.default.createElement(d.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:35}}),i.default.createElement(l.default,{contentContainerStyle:N.contentContainer,bounces:!1,pagingEnabled:!0,horizontal:!0,__source:{fileName:a,lineNumber:36}},i.default.createElement(o.default,{source:g,style:N.backgroundImage,__source:{fileName:a,lineNumber:42}}),i.default.createElement(o.default,{source:h,style:N.backgroundImage,__source:{fileName:a,lineNumber:43}}),i.default.createElement(o.default,{source:_,style:N.backgroundImage,__source:{fileName:a,lineNumber:44}}),i.default.createElement(o.default,{source:y,style:N.backgroundImage,__source:{fileName:a,lineNumber:45}}),i.default.createElement(c.default,{style:N.backgroundImage,__source:{fileName:a,lineNumber:46}},i.default.createElement(o.default,{source:b,style:N.backgroundImage,__source:{fileName:a,lineNumber:47}}),i.default.createElement(f.default,{style:N.btn,onPress:function(t){t.preventDefault(),storage.saveGuide(),storage.gotoMain(e.props.navigation,"LoginPage")},__source:{fileName:a,lineNumber:49}},i.default.createElement(s.default,{style:N.btnText,__source:{fileName:a,lineNumber:55}},"立即体验")))),i.default.createElement(f.default,{style:N.skipBtn,onPress:function(t){t.preventDefault(),storage.saveGuide(),storage.gotoMain(e.props.navigation,"LoginPage")},__source:{fileName:a,lineNumber:59}},i.default.createElement(s.default,{style:N.skipBtnText,__source:{fileName:a,lineNumber:65}},"跳过")))}}]),t}();v.navigationOptions={title:"向导",header:null},t.default=v;var N=u.default.create({contentContainer:{width:5*p.Util.size.width,height:p.Util.size.height},backgroundImage:{width:p.Util.size.width,height:p.Util.size.height},btnOut:{alignItems:"center"},btn:{width:150,height:50,backgroundColor:"transparent",borderRadius:8,justifyContent:"center",alignItems:"center",bottom:30,left:p.Util.size.width/2-75,position:"absolute"},skipBtn:{width:50,height:25,backgroundColor:"#0003",borderRadius:8,justifyContent:"center",alignItems:"center",top:30,left:p.Util.size.width-60,position:"absolute"},btnText:{fontSize:18,color:"transparent"},skipBtnText:{fontSize:12,color:"#fff"}})},416:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.NEW_QUALITY_LOADING_START="NEW_QUALITY_LOADING_START",t.NEW_QUALITY_LOADING_DONE="NEW_QUALITY_LOADING_DONE",t.NEW_QUALITY_LOADING_ERROR="NEW_QUALITY_LOADING_ERROR",t.NEW_QUALITY_RESET="NEW_QUALITY_RESET"},417:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.PROJECT_LIST_DOING="PROJECT_LIST_DOING",t.PROJECT_LIST_DONE="PROJECT_LIST_DONE",t.PROJECT_LIST_ERROR="PROJECT_LIST_ERROR",t.PROJECT_LIST_INIT="PROJECT_LIST_INIT"},418:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.toCompanyNameTip=function(e){var t=n.indexOf(e);t>0&&(t=0);return i[t]},t.toQcStateShow=function(e){var t=M.indexOf(e);if(t>0)return L[t];return""},t.toBillType=function(e){var t=n.indexOf(e);if(0==t)return Y[0];if(1==t)return Y[3];return Y[0]},t.toQcStateShowColor=function(e){var t=M.indexOf(e);if(t>0)return j[t];return"#f55353"},t.toBillTypeColor=function(e){var t=Y.indexOf(e);if(t>=0)return z[t];return"gray"},t.formatUnixtimestamp=function(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var r=t.getDate();r=r<10?"0"+r:r;var i=t.getHours();i=i<10?"0"+i:i;var o=t.getMinutes(),l=t.getSeconds();return n+"-"+a+"-"+r+" "+i+":"+(o=o<10?"0"+o:o)+":"+(l=l<10?"0"+l:l)},t.formatUnixtimestampSimple=function(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var r=t.getDate();return n+"-"+a+"-"+(r=r<10?"0"+r:r)},t.removeHTMLTag=function(e){var t=e.replace(/<\/?[^>]*>/g,"");return"<p>"+(t=(t=t.replace(/[ | ]*\n/g,"<br>")).replace(/ /gi,""))+"</p>"};t.PAGE_INNDX_HOME=0,t.PAGE_INNDX_SUBSCRIBE=1,t.PAGE_INNDX_MESSAGE=2,t.PAGE_INNDX_MINE=3,t.PAGE_NAME_HOME="首页",t.PAGE_NAME_SUBSCRIBE="订阅",t.PAGE_NAME_MESSAGE="消息",t.PAGE_NAME_MINE="我";var n=t.TYPE_INSPECTION=["inspection","acceptance"],a=(t.TYPE_INSPECTION_NAME=["检查单","验收单"],t.TYPE_NEW_NAME_RECTIFY="整改单"),r=t.TYPE_NEW_NAME_REVIEW="复查单",i=(t.TYPE_NEW_NAME=["+"+a,"+"+r],t.INSPECTION_COMPANY_NAME_TIP=["检查单位","验收单位"]),o=(t.CREATE_TYPE_CHECK="0",t.CREATE_TYPE_RECTIFY="1",t.CREATE_TYPE_REVIEW="2",t.STATUS_ALL=""),l=(t.STATUS_CLOSED="closed",t.STATUS_NOT_ACCEPTED="notAccepted",t.QC_STATE_STAGED="staged"),u=t.QC_STATE_UNRECTIFIED="unrectified",s=t.QC_STATE_UNREVIEWED="unreviewed",c=t.QC_STATE_INSPECTED="inspected",f=t.QC_STATE_REVIEWED="reviewed",d=t.QC_STATE_DELAYED="delayed",p=t.QC_STATE_ACCEPTED="accepted",m=t.QC_STATE_Q_NEW_SUBMIT="qnsubmit",g=t.QC_STATE_Q_EDIT_SUBMIT="qesubmit",h=t.QC_STATE_Q_NEW_SAVE="qnsave",_=t.QC_STATE_Q_EDIT_SAVE="qesave",y=t.QC_STATE_Q_DELETE="qdelete",b=t.QC_STATE_REPAIR_NEW_SUBMIT="rnsubmit",v=t.QC_STATE_REPAIR_NEW_SAVE="rnsave",N=t.QC_STATE_REPAIR_EDIT_SAVE="resave",E=t.QC_STATE_REPAIR_EDIT_SUBMIT="resubmit",w=t.QC_STATE_REPAIR_DELETE="rpdelete",I=t.QC_STATE_REVIEW_DELETE="redelete",T=t.QC_STATE_REVIEW_NEW_SUBMIT="reviewnewdelete",P=t.QC_STATE_REVIEW_NEW_SAVE="reviewnewsave",S=t.QC_STATE_REVIEW_EDIT_SAVE="revieweditsave",C=t.QC_STATE_REVIEW_EDIT_SUBMIT="revieweditdelete",O=(t.QC_STATE_EQUIPMENT_NEW_SUBMIT="ensubmit",t.QC_STATE_EQUIPMENT_EDIT_SUBMIT="eesubmit",t.QC_STATE_EQUIPMENT_NEW_SAVE="ensave",t.QC_STATE_EQUIPMENT_EDIT_SAVE="eesave",t.QC_STATE_EQUIPMENT_DELETE="edelete",t.CREATE_CHECK_LIST_PROPS="createCheckListProps",t.QUALITY_CHECK_LIST_SHOW_REPAIR="showRepair",t.QC_STATE_ALL="all"),k=t.QC_STATE_EDIT="edit",x=t.QC_STATE_STANDARD="standard",D=t.QC_STATE_NOT_STANDARD="notStandard",A=(t.EQUIPMENT_EDIT_TYPE_CONFIRM="confirmPage",t.EQUIPMENT_EDIT_TYPE_BASE="basePage",t.EQUIPMENT_EDIT_TYPE_OTHER="otherPage",t.EQUIPMENT_EDIT_TYPE_IMAGE="imagePage",t.APP_COLOR_ITEM="#ffffff",t.APP_COLOR_CURRENT="#00baf3",t.APP_QUALITY="Quality",t.APP_QUALITY_DRAWER="QualityDrawer",t.APP_QUALITY_MODLE="QualityModle",t.APP_QUALITY_CHECK_POINT="QualityCheckPoint",t.APP_EQUIPMENT="Equipment",t.APP_EQUIPMENT_MODLE="EquipmentModle",t.EQUIPMENT_CLASSIFY_NAMES=["全部","待提交","合格","不合格"]),R=t.EQUIPMENT_CLASSIFY_STATES=[O,k,x,D],j=(t.EQUIPMENT_CLASSIFY_STATES_SUMMARY=["-"+O,"uncommittedCount","qualifiedCount","unqualifiedCount"],t.CLASSIFY_STATES_COLOR=["#979797","#f39b3d","#f55353","#f55353","#28d575","#28d575","#f55353","#28d575","#f55353","#f55353","#f55353","#f55353","#f55353","#f55353","#f55353","#f55353","#f55353","#f55353","#f55353","#f55353","#f55353","#f55353","#f55353","#f55353"]),M=t.CLASSIFY_STATES=[o,l,u,s,c,f,d,p,m,h,g,_,y,b,v,N,E,w,I,T,C,P,S],L=(t.CLASSIFY_STATES_SUMMARY=["-"+o,l,u,s,"-"+c,"-"+f,d,"-"+p],t.CLASSIFY_NAMES=["全部","待提交","待整改","待复查","已检查","已复查","已延迟","已验收","提交 待同步","保存 待同步","提交 待同步","保存 待同步","删除 待同步","提交 待同步","保存 待同步","保存 待同步","提交 待同步","删除 待同步","删除 待同步","提交 待同步","提交 待同步","保存 待同步","保存 待同步"]),B=(t.CLASSIFY_STATUS_LIST=[{name:L[0],state:M[0],color:j[0]},{name:L[1],state:M[1],color:j[1]},{name:L[2],state:M[2],color:j[2]},{name:L[3],state:M[3],color:j[3]},{name:L[4],state:M[4],color:j[4]},{name:L[5],state:M[5],color:j[5]},{name:L[6],state:M[6],color:j[6]},{name:L[7],state:M[7],color:j[7]}],t.EQUIPMENT_CLASSIFY_STATUS_LIST=[{name:A[0],state:R[0],color:j[0]},{name:A[1],state:R[1],color:j[1]},{name:A[2],state:R[2],color:j[2]},{name:A[3],state:R[3],color:j[3]}],t.BILL_TYPE_ITEM_INSPECT="检查"),q=t.BILL_TYPE_ITEM_RECTIFY="整改",F=t.BILL_TYPE_ITEM_REVIEW="复查",V=t.BILL_TYPE_ITEM_ACCEPT="验收",Q=t.BILL_TYPE_ITEM_SUBMIT="提交",U=t.BILL_TYPE_ITEM_DELETE="删除",Y=t.BILL_TYPE=[B,q,F,V,Q,U],z=t.BILL_TYPE_COLOR=["#00B5F2","#F6AD5F","#F6AD5F","#00B5F2","#00B5F2","#999999"]},419:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;r(n(1));var a=r(n(9));function r(e){return e&&e.__esModule?e:{default:e}}t.Util={size:{width:a.default.get("window").width,height:a.default.get("window").height}}},420:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.EQUIPMENT_LIST_DOING="EQUIPMENT_LIST_DOING",t.EQUIPMENT_LIST_DONE="EQUIPMENT_LIST_DONE",t.EQUIPMENT_LIST_ERROR="EQUIPMENT_LIST_ERROR",t.EQUIPMENT_LIST_INIT="EQUIPMENT_LIST_INIT"},421:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.REVIEW_REPAIR_LOAD_DETAIL="REVIEW_REPAIR_LOAD_DETAIL",t.REVIEW_REPAIR_LOAD_EDITINFO="REVIEW_REPAIR_LOAD_EDITINFO",t.REVIEW_REPAIR_LOAD_ERROR="REVIEW_REPAIR_LOAD_ERROR",t.REVIEW_REPAIR_INIT="REVIEW_REPAIR_INIT"},422:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.UPDATE_DATA_SET="UPDATE_DATA_SET",t.UPDATE_DATA_UPDATE="UPDATE_DATA_UPDATE",t.UPDATE_DATA_INIT="UPDATE_DATA_INIT"},423:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.TRANSFORM_INFO_SET="TRANSFORM_INFO_SET",t.TRANSFORM_INFO_UPDATE="TRANSFORM_INFO_UPDATE",t.TRANSFORM_INFO_INIT="TRANSFORM_INFO_INIT"},424:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.QUALITY_LIST_DOING="QUALITY_LIST_DOING",t.QUALITY_LIST_DONE="QUALITY_LIST_DONE",t.QUALITY_LIST_ERROR="QUALITY_LIST_ERROR",t.QUALITY_LIST_INIT="QUALITY_LIST_INIT"},425:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.QUALITY_INFO_DOING="QUALITY_INFO_DOING",t.QUALITY_INFO_DONE="QUALITY_INFO_DONE",t.QUALITY_INFO_ERROR="QUALITY_INFO_ERROR",t.QUALITY_INFO_INIT="QUALITY_INFO_INIT"},426:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.LOGIN_IN_DOING="LOGIN_IN_DOING",t.LOGIN_IN_DONE="LOGIN_IN_DONE",t.LOGIN_IN_DONE_CHOOSE="LOGIN_IN_DONE_CHOOSE",t.LOGIN_IN_ERROR="LOGIN_IN_ERROR",t.LOGIN_IN_INIT="LOGIN_IN_INIT",t.LOGIN_IN_RETRY="LOGIN_IN_RETRY"},428:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.SERVER_TYPE="TEST",t.BASE_UPLOAD_URL="";var n=t.BASE_URL="";t.BASE_URL_BLUEPRINT_TOKEN=n+"/app.html?param="},445:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\navigation\\bim\\WebView.web.js",r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.injectJavaScript=function(e){n.refs.webFrame.contentWindow.window.eval(e)},n.onMessage=function(e){n.props.onMessage(e)},n.componentWillMount=function(){window.onMessage=n.onMessage},n.componentDidMount=function(){n.refs.webFrame.attachEvent?n.refs.webFrame.attachEvent("onload",function(){n.props.injectedJavaScript&&n.injectJavaScript("javascript:"+n.props.injectedJavaScript)}):n.refs.webFrame.onload=function(){(n.props.injectedJavaScript&&n.injectJavaScript("javascript:"+n.props.injectedJavaScript),n.props.source.html)&&(n.refs.webFrame.contentWindow.document.getElementById("loadingNode").innerHTML=n.props.source.html)}},n.componentWillUnmount=function(){delete window.onMessage},n.renderUrl=function(e){return r.default.createElement("iframe",{ref:"webFrame",name:"myFrame",src:e,height:"100%",width:"100%",frameBorder:0,__source:{fileName:a,lineNumber:54}})},n.renderHtml=function(e,t){return r.default.createElement("iframe",{ref:"webFrame",name:"myFrame",src:e,height:"100%",width:"100%",frameBorder:0,__source:{fileName:a,lineNumber:67}})},n.render=function(){var e=n.props.source,t=e.uri,a=e.html;return a?n.renderHtml("./loading.html",a):n.renderUrl(t)},n.state={html:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),t}();t.default=i},525:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\editPhoto\\GLDCanvas.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=g(i),l=g(n(2)),u=g(n(6)),s=g(n(7)),c=g(n(67)),f=g(n(27)),d=g(n(9)),p=g(n(8)),m=g(n(3));function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=d.default.get("window"),N=v.width,E=v.height,w={EDIT_LINE:"EDIT_LINE",EDIT_TEXT:"EDIT_TEXT",INIT:"INIT"},I=function(e){function t(e){_(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dotColors=["#ffffff","#000000","#fe1d11","#fbf412","#16e113","#1b9aff","#850af8","#fe01ff"],n.tempCount=0,n.id=0,n.placeHolderHeight=252,n._registerKeyboardListener=function(){if(function(){var e=navigator.userAgent;return e.indexOf("Android")>-1||e.indexOf("Adr")>-1}()){var e=document.documentElement.clientHeight||document.body.clientHeight;window.addEventListener("resize",function(){var t=document.documentElement.clientHeight||document.body.clientHeight;if(e>t&&n.state.editState==w.EDIT_TEXT){var a=parseInt(e)-parseInt(t);n.placeHolderHeight=a,n._setPlaceHolder(a)}else n._setPlaceHolder(0)})}else navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&(document.addEventListener("focusin",function(e){var t=n.state.inputNodes.length;setTimeout(function(){n.state.editState==w.EDIT_TEXT&&t>0&&e&&e.target&&e.target.id==="transform_input_"+n.state.inputNodes[t-1].id?n._setPlaceHolder(252):n._setPlaceHolder(0)},200)}),document.addEventListener("focusout",function(e){n.state.inputNodes.length;setTimeout(function(){n._setPlaceHolder(0)},100)}))},n._setPlaceHolder=function(e){var t=document.getElementById("placeholder");t&&(t.style.height=e)},n._touchEvents=function(e){if(n.state.editState==w.EDIT_LINE)if(e.preventDefault(),"touchstart"==e.type){var t=event.touches[0],a=t.pageX,r=t.pageY;n.ctx.beginPath(),n.ctx.moveTo(a-n.canvas.offsetLeft,r-n.canvas.offsetTop)}else if("touchmove"==e.type){var i=event.touches[0],o=i.pageX,l=i.pageY;n.ctx.strokeStyle=n.state.selectedDotColor,n.ctx.lineTo(o-n.canvas.offsetLeft,l-n.canvas.offsetTop),n.ctx.stroke()}else"touchend"!=e.type&&"touchcancel"!=e.type||(n.state.imageDatas.push(n.ctx.getImageData(0,0,n.canvas.width,n.canvas.height)),n.tempCount++,n.setState({imageDatas:[].concat(h(n.state.imageDatas))}))},n.reset=function(e){n.state.imageDatas&&n.state.imageDatas.length>1&&(e?n.state.imageDatas.splice(n.state.imageDatas.length-n.tempCount,n.tempCount):n.state.imageDatas.pop(),n.ctx.clearRect(0,0,n.canvas.width,n.canvas.height),n.state.imageDatas.length>0&&(n.ctx.putImageData(n.state.imageDatas[n.state.imageDatas.length-1],0,0,0,0,N,E),n.setState({imageDatas:[].concat(h(n.state.imageDatas))})))},n._addLine=function(){n.state.editState==w.INIT&&(n.tempCount=0,n.setState({editState:w.EDIT_LINE}))},n._addText=function(){n.id++;var e=(parseInt(n.canvas.offsetTop)+10<36?36:parseInt(n.canvas.offsetTop)+10)-parseInt(n.canvas.offsetTop)+23,t={editable:!0,autoFocus:!0,id:""+n.id,color:n.state.selectedDotColor,location:{x:parseInt(n.canvas.offsetLeft)+17,y:e}},a=[];n.state.inputNodes.map(function(e){e.editable=!1,e.autoFocus=!1,a.push(e)}),a.push(t),n.state.editState=w.EDIT_TEXT,n.setState({inputNodes:a})},n._changeText=function(e,t){n.state.inputNodes[n.state.inputNodes.length-1].value=t},n._cancel=function(){n.state.editState===w.EDIT_LINE?n.reset(n.tempCount):n.state.editState===w.EDIT_TEXT&&n.state.inputNodes.pop(),n.setState({editState:w.INIT})},n._complete=function(){if(n.state.editState===w.EDIT_TEXT){var e=n.state.inputNodes[n.state.inputNodes.length-1];e.value&&0!=e.value.length?e.editable=!1:n.state.inputNodes.pop()}n._setPlaceHolder(0),n.setState({editState:w.INIT})},n._drawText=function(e,t,a){n.ctx.font="16px sans-serif",n.ctx.fillStyle=t,n.ctx.fillText(e,a.x,a.y)},n.state={imageDatas:[],selectedDotColor:"#ffffff",inputNodes:[],editState:w.INIT,deleteVisible:!1,showDotPlaceHolder:!1},n}return b(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this._initCanvas(),this._registerKeyboardListener()}},{key:"_initCanvas",value:function(){var e=this;this.canvas=document.getElementById("myCanvas"),this.ctx=this.canvas.getContext("2d");var t=document.createElement("img");t.onload=function(){e._drawImage(t)},t.src=this.props.url,this.canvas.addEventListener("touchstart",this._touchEvents,!1),this.canvas.addEventListener("touchmove",this._touchEvents,!1),this.canvas.addEventListener("touchend",this._touchEvents,!1)}},{key:"_drawImage",value:function(e){var t=this._calcuteImgSize(e);e.width=t.width,e.height=t.height,this.canvas.width=t.width,this.canvas.height=t.height,this.ctx.drawImage(e,0,0,e.width,e.height),this.state.imageDatas.push(this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height))}},{key:"_calcuteImgSize",value:function(e){var t=e.width/N,n=e.height/E,a=t>n?t:n;return{width:e.width/a,height:e.height/a}}},{key:"_close",value:function(){this.props.close()}},{key:"_useImage",value:function(){var e=this;this.state.inputNodes.map(function(t){e._drawText(t.value,t.color,t.location)});var t=this.canvas.toDataURL("image/png");this.props.useImage(t)}},{key:"_renderDot",value:function(e){var t=this,n=this.state.selectedDotColor===e?24:18;return o.default.createElement(p.default,{onPress:function(n){(n.preventDefault(),t.state.editState===w.EDIT_TEXT)&&(t.state.inputNodes[t.state.inputNodes.length-1].color=e);t.setState({selectedDotColor:e})},__source:{fileName:a,lineNumber:265}},o.default.createElement(l.default,{style:{width:n,height:n,borderRadius:n,marginLeft:8,marginRight:8,backgroundColor:"#fff",justifyContent:"center",alignItems:"center"},__source:{fileName:a,lineNumber:275}},o.default.createElement(l.default,{style:{width:n-2,height:n-2,borderRadius:n,backgroundColor:e},__source:{fileName:a,lineNumber:276}})))}},{key:"render",value:function(){var e=this;return o.default.createElement(f.default,{__source:{fileName:a,lineNumber:284}},o.default.createElement(l.default,{id:"box",style:P.box,__source:{fileName:a,lineNumber:285}},o.default.createElement(l.default,{style:P.canvasBox,__source:{fileName:a,lineNumber:286}},o.default.createElement("canvas",{id:"myCanvas",__source:{fileName:a,lineNumber:287}})),o.default.createElement(l.default,{style:[P.topMenu,this.state.editState!=w.INIT?{}:P.hide],__source:{fileName:a,lineNumber:290}},o.default.createElement(p.default,{onPress:function(t){t.preventDefault(),e._cancel()},__source:{fileName:a,lineNumber:291}},o.default.createElement(u.default,{style:{fontSize:16,color:"#fff",marginLeft:11,paddingRight:20},__source:{fileName:a,lineNumber:292}},"取消")),o.default.createElement(p.default,{style:{position:"absolute",right:11},onPress:function(t){t.preventDefault(),e._complete()},__source:{fileName:a,lineNumber:294}},o.default.createElement(u.default,{style:{fontSize:16,color:"#02ff00",paddingLeft:20},__source:{fileName:a,lineNumber:295}},"完成"))),o.default.createElement(l.default,{style:[P.bottomMenu,this.state.deleteVisible?P.hide:{}],__source:{fileName:a,lineNumber:299}},o.default.createElement(l.default,{style:[P.addBox,this.state.editState==w.EDIT_TEXT?P.hide:{}],__source:{fileName:a,lineNumber:300}},o.default.createElement(p.default,{onPress:function(t){t.preventDefault(),e._addLine()},__source:{fileName:a,lineNumber:302}},o.default.createElement(s.default,{style:{height:24,width:24,resizeMode:"contain",marginRight:50},source:this.state.editState==w.EDIT_LINE?n(524):n(523),__source:{fileName:a,lineNumber:303}})),o.default.createElement(p.default,{onPress:function(t){t.preventDefault(),e._addText()},__source:{fileName:a,lineNumber:306}},o.default.createElement(s.default,{style:{height:24,width:24,resizeMode:"contain"},source:n(522),__source:{fileName:a,lineNumber:307}}))),o.default.createElement(l.default,{style:{height:3,width:N,backgroundColor:"#7b7b7b"},__source:{fileName:a,lineNumber:311}}),o.default.createElement(l.default,{style:P.dotBox,__source:{fileName:a,lineNumber:313}},this.dotColors.map(function(t,n){return e._renderDot(t,n)}),o.default.createElement(p.default,{style:[this.state.editState==w.EDIT_LINE&&this.state.imageDatas.length>1?{}:P.hide],onPress:function(t){t.preventDefault(),e.reset()},__source:{fileName:a,lineNumber:320}},o.default.createElement(s.default,{style:{height:28,width:28,marginLeft:16,resizeMode:"contain"},source:n(521),__source:{fileName:a,lineNumber:324}}))),o.default.createElement(l.default,{style:[P.imageMenuBox,this.state.editState!=w.INIT?P.hide:{}],__source:{fileName:a,lineNumber:328}},o.default.createElement(p.default,{onPress:function(t){t.preventDefault(),e._close()},__source:{fileName:a,lineNumber:329}},o.default.createElement(l.default,{style:{marginRight:50,alignItems:"center"},__source:{fileName:a,lineNumber:330}},o.default.createElement(s.default,{style:{height:50,width:50,resizeMode:"contain"},source:n(520),__source:{fileName:a,lineNumber:331}}),o.default.createElement(u.default,{style:{color:"#fff",fontSize:14,marginTop:5},__source:{fileName:a,lineNumber:332}},"取消"))),o.default.createElement(p.default,{onPress:function(t){t.preventDefault(),e._useImage()},__source:{fileName:a,lineNumber:335}},o.default.createElement(l.default,{style:{alignItems:"center"},__source:{fileName:a,lineNumber:336}},o.default.createElement(s.default,{style:{height:50,width:50,resizeMode:"contain"},source:n(519),__source:{fileName:a,lineNumber:337}}),o.default.createElement(u.default,{style:{color:"#fff",fontSize:14,marginTop:5},__source:{fileName:a,lineNumber:338}},"使用照片")))),o.default.createElement("div",{id:"placeholder",__source:{fileName:a,lineNumber:342}})),o.default.createElement(l.default,{style:[P.bottomMenu,{alignItems:"center",paddingTop:10},this.state.deleteVisible?{}:P.hide],__source:{fileName:a,lineNumber:344}},o.default.createElement(s.default,{style:{height:24,width:24,resizeMode:"contain"},source:n(246),__source:{fileName:a,lineNumber:345}}),o.default.createElement(u.default,{style:{fontSize:12,color:"#fff",marginTop:7,paddingBottom:19},__source:{fileName:a,lineNumber:346}},"拖动到此处删除")),this.state.inputNodes.map(function(t){return o.default.createElement(T,{color:t.color,id:t.id,autoFocus:t.autoFocus,value:t.value,editable:t.editable,changeText:e._changeText,showBorder:t.showBorder,editState:e.state.editState,rect:{top:e.canvas.offsetTop,bottom:e.canvas.offsetTop+e.canvas.height},changeLocation:function(n,a){t.location={x:n-e.canvas.offsetLeft,y:a-e.canvas.offsetTop}},setDeleteVisible:function(t){e.setState({deleteVisible:t})},delete:function(){e.state.inputNodes.pop()},__source:{fileName:a,lineNumber:352}})})))}}]),t}();t.default=I;var T=function(e){function t(e){_(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.myEle=null,n.mInput=null,n.deltaX=0,n.deltaY=0,n._touchEvents=function(e){if(n.props.editState!==w.EDIT_TEXT)if(n.mInput=document.getElementById("transform_input_"+n.props.id),e.preventDefault(),"touchstart"==e.type){var t=event.touches[0];n.deltaX=parseInt(n.myEle.style.left)-t.pageX,n.deltaY=parseInt(n.myEle.style.top)-t.pageY,n._setBorderRectVisible(!0),n.props.setDeleteVisible(!0)}else if("touchmove"==e.type){var a=event.touches[0];n._transfromInput(a.pageX+n.deltaX,a.pageY+n.deltaY)}else"touchend"!=e.type&&"touchcancel"!=e.type||(n._setBorderRectVisible(!1),n._checkLocation(),n.props.setDeleteVisible(!1),n.mInput.blur())},n._getTextWidth=function(e,t){var n=document.getElementById("__getwidth");return null==n&&((n=document.createElement("span")).id="__getwidth",document.body.appendChild(n),n.style.visibility="hidden",n.style.height="0px",n.style.whiteSpace="nowrap"),n.innerText=e,n.style.fontSize=t+"px",n.offsetWidth},n._transfromInput=function(e,t){console.log("movey - "+t+" top - "+n.props.rect+" "),t<n.props.rect.top||(n.myEle.style.left=e,n.myEle.style.top=t,n.props.changeLocation(e+7,t+7+16))},n._checkLocation=function(){parseInt(n.myEle.style.left)<0?n.myEle.style.left=0:parseInt(n.myEle.style.left)+parseInt(n.myEle.offsetWidth)>N&&(n.myEle.style.left=N-parseInt(n.myEle.offsetWidth)),parseInt(n.myEle.style.top)>E-80?(n.myEle.style.display="none",n.props.delete()):parseInt(n.myEle.style.top)>n.props.rect.bottom-parseInt(n.mInput.style.height)&&(n.myEle.style.top=n.props.rect.bottom-parseInt(n.mInput.style.height))},n._changeText=function(e){n.mInput.style.height=n.mInput.scrollHeight+"px",n.setState({value:e}),n.props.changeText(n.props.id,e)},n._setBorderRectVisible=function(e){var t=document.getElementsByClassName("borderRect_"+n.props.id);if(t){var a=t,r=Array.isArray(a),i=0;for(a=r?a:a["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var o;if(r){if(i>=a.length)break;o=a[i++]}else{if((i=a.next()).done)break;o=i.value}var l=o;l.style.display=e?"block":"none"}}e&&(document.getElementById("border_box_"+n.props.id).style.border="1px solid #fff")},n.state={value:n.props.value},n}return b(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.mInput=document.getElementById("transform_input_"+this.props.id),this.mInput.style.height=this.mInput.scrollHeight+"px";var e="transform_box_"+this.props.id;this.myEle=document.getElementById(e),this.myEle.addEventListener("touchstart",this._touchEvents,!1),this.myEle.addEventListener("touchmove",this._touchEvents,!1),this.myEle.addEventListener("touchend",this._touchEvents,!1)}},{key:"render",value:function(){var e=this.props.editable?N:parseInt(this._getTextWidth(this.props.value,16))+27;e>N-27&&(e=N-27);var t="transform_box_"+this.props.id;return o.default.createElement("div",{id:t,style:{position:"absolute",top:this.props.rect.top+10<36?36:this.props.rect.top+10,left:10},__source:{fileName:a,lineNumber:508}},this.props.editable?o.default.createElement(c.default,{id:"transform_input_"+this.props.id,multiline:!0,underlineColorAndroid:"transparent",style:{width:e,maxWidth:N-20,minWidth:20,fontSize:"16px",margin:1,borderColor:"transparent",borderWidth:1,color:this.props.color,padding:5,overflow:"hidden",resize:"none",fontFamily:"sans-serif"},onChangeText:this._changeText,value:this.state.value,autoFocus:this.props.autoFocus,editable:this.props.editable,__source:{fileName:a,lineNumber:515}}):o.default.createElement(u.default,{id:"transform_input_"+this.props.id,style:{width:e,maxWidth:N-20,minWidth:20,fontSize:"16px",margin:1,borderColor:"transparent",borderWidth:1,color:this.props.color,padding:5,paddingTop:7,paddingLeft:9,display:"blcok",overflow:"hidden",resize:"none",fontFamily:"sans-serif"},__source:{fileName:a,lineNumber:536}},this.state.value),o.default.createElement("div",{id:"border_box_"+this.props.id,class:"borderRect_"+this.props.id,style:{position:"absolute",left:1,top:1,right:1,bottom:1,display:"none"},__source:{fileName:a,lineNumber:557}}),o.default.createElement("div",{class:"borderRect_"+this.props.id,style:{position:"absolute",left:0,top:0,width:3,height:3,backgroundColor:"#fff",display:"none"},__source:{fileName:a,lineNumber:558}}),o.default.createElement("div",{class:"borderRect_"+this.props.id,style:{position:"absolute",right:0,top:0,width:3,height:3,backgroundColor:"#fff",display:"none"},__source:{fileName:a,lineNumber:559}}),o.default.createElement("div",{class:"borderRect_"+this.props.id,style:{position:"absolute",left:0,bottom:0,width:3,height:3,backgroundColor:"#fff",display:"none"},__source:{fileName:a,lineNumber:560}}),o.default.createElement("div",{class:"borderRect_"+this.props.id,style:{position:"absolute",right:0,bottom:0,width:3,height:3,backgroundColor:"#fff",display:"none"},__source:{fileName:a,lineNumber:561}}))}}]),t}();var P=m.default.create({hide:{display:"none"},box:{width:N,height:"100%",backgroundColor:"#000000",alignItems:"center"},canvasBox:{width:N,height:E,alignItems:"center",justifyContent:"center"},topMenu:{width:N,flexDirection:"row",position:"absolute",top:20},bottomMenu:{width:N,backgroundColor:"rgba(0,0,0,.67)",position:"absolute",bottom:0},dotBox:{paddingBottom:30,paddingTop:30,width:N,flexDirection:"row",alignItems:"center",justifyContent:"center"},imageMenuBox:{width:N,flexDirection:"row",justifyContent:"center",paddingTop:25,paddingBottom:17},addBox:{height:42,width:N,flexDirection:"row",justifyContent:"center",alignItems:"center"},transformInput:{maxWidth:N-20,minWidth:20,position:"absolute",top:100,left:10,fontSize:16,backgroundColor:"#fff"}})},526:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\offline\\OfflineAsyncPage.js",r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),l=b(o),u=b(n(3)),s=b(n(6)),c=b(n(2)),f=b(n(12)),d=b(n(27)),p=(b(n(19)),b(n(7))),m=b(n(8)),g=b(n(9)),h=b(n(73)),_=b(n(10)),y=(n(25),b(n(41)));function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=g.default.get("window"),I=w.width,T=w.height,P=function(e){function t(){v(this,t);var e=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.componentDidMount=function(){},e.componentWillUnmount=function(){},e._clickAll=function(){e.setState(function(e){return r({},e,{showTodo:!0,showSuccess:!1,showFail:!1})})},e._clickLoaded=function(){e.setState(function(e){return r({},e,{showTodo:!1,showSuccess:!0,showFail:!1})})},e._clickLoading=function(){e.setState(function(e){return r({},e,{showTodo:!1,showSuccess:!1,showFail:!0})})},e._getContentView=function(){return e.state.showTodo?l.default.createElement(S,{__source:{fileName:a,lineNumber:85}}):e.state.showSuccess?l.default.createElement(C,{__source:{fileName:a,lineNumber:88}}):e.state.showFail?l.default.createElement(k,{__source:{fileName:a,lineNumber:92}}):null},e.state={showTodo:!0,showSuccess:!1,showFail:!1},e}return E(t,o.Component),i(t,[{key:"render",value:function(){return l.default.createElement(d.default,{style:D.container,__source:{fileName:a,lineNumber:100}},l.default.createElement(f.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:101}}),l.default.createElement(c.default,{style:{flexDirection:"row",backgroundColor:"#ffffff"},__source:{fileName:a,lineNumber:102}},l.default.createElement(x,{title:"待处理",isShowLine:this.state.showTodo,num:0,onPress:this._clickAll,__source:{fileName:a,lineNumber:103}}),l.default.createElement(x,{title:"已成功",isShowLine:this.state.showSuccess,num:0,onPress:this._clickLoaded,__source:{fileName:a,lineNumber:104}}),l.default.createElement(x,{title:"已失败",isShowLine:this.state.showFail,num:0,onPress:this._clickLoading,__source:{fileName:a,lineNumber:105}})),l.default.createElement(c.default,{style:{height:10},__source:{fileName:a,lineNumber:107}}),this._getContentView())}}]),t}();P.navigationOptions={title:"离线进程跟踪"},t.default=P;var S=function(e){function t(){v(this,t);var e=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._renderItem=function(e,t){var r=e.item.title,i=e.item.subTitle,o=e.item.state,u="quality"==e.item.type?n(142):n(193);return l.default.createElement(c.default,{style:{height:55,backgroundColor:"#ffffff"},__source:{fileName:a,lineNumber:150}},l.default.createElement(c.default,{style:{height:55,backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center"},__source:{fileName:a,lineNumber:151}},l.default.createElement(p.default,{source:u,style:{width:40,height:40,marginLeft:15,marginRight:10},__source:{fileName:a,lineNumber:152}}),l.default.createElement(c.default,{style:{flex:1,justifyContent:"center"},__source:{fileName:a,lineNumber:153}},l.default.createElement(s.default,{style:{fontSize:14,color:"#333333"},__source:{fileName:a,lineNumber:154}},r," "),l.default.createElement(s.default,{style:{fontSize:10,color:"#999999"},__source:{fileName:a,lineNumber:155}},i," ")),l.default.createElement(s.default,{style:{fontSize:12,color:"#f39b3d",marginRight:20},__source:{fileName:a,lineNumber:157}}," ",o)))},e._separtor=function(){return l.default.createElement(c.default,{style:{backgroundColor:"#f7f7f7",height:1,marginLeft:20},__source:{fileName:a,lineNumber:166}})},e.state={dataList:[]},e}return E(t,o.Component),i(t,[{key:"componentDidMount",value:function(){var e=y.default.getAsyncManager().getRecordsByState("待同步");this.setState(function(t){return r({},t,{dataList:e})})}},{key:"render",value:function(){return l.default.createElement(c.default,{style:{backgroundColor:"#f9f9f9"},__source:{fileName:a,lineNumber:172}},l.default.createElement(h.default,{data:this.state.dataList,renderItem:this._renderItem,ItemSeparatorComponent:this._separtor,keyExtractor:function(e,t){return t+""},__source:{fileName:a,lineNumber:174}}))}}]),t}(),C=function(e){function t(){v(this,t);var e=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._renderItem=function(e,t){var r=e.item.title,i=e.item.subTitle,o=e.item.state,u="quality"==e.item.type?n(142):n(193);return l.default.createElement(c.default,{style:{height:55,backgroundColor:"#ffffff"},__source:{fileName:a,lineNumber:214}},l.default.createElement(c.default,{style:{height:55,backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center"},__source:{fileName:a,lineNumber:215}},l.default.createElement(p.default,{source:u,style:{width:40,height:40,marginLeft:15,marginRight:10},__source:{fileName:a,lineNumber:216}}),l.default.createElement(c.default,{style:{flex:1,justifyContent:"center"},__source:{fileName:a,lineNumber:217}},l.default.createElement(s.default,{style:{fontSize:14,color:"#333333"},__source:{fileName:a,lineNumber:218}},r," "),l.default.createElement(s.default,{style:{fontSize:10,color:"#999999"},__source:{fileName:a,lineNumber:219}},i," ")),l.default.createElement(s.default,{style:{fontSize:12,color:"#666666",marginRight:20},__source:{fileName:a,lineNumber:221}}," ",o)))},e._separtor=function(){return l.default.createElement(c.default,{style:{backgroundColor:"#f7f7f7",height:1,marginLeft:20},__source:{fileName:a,lineNumber:230}})},e.state={dataList:[]},e}return E(t,o.Component),i(t,[{key:"componentDidMount",value:function(){var e=y.default.getAsyncManager().getRecordsByState("已同步");this.setState(function(t){return r({},t,{dataList:e})})}},{key:"render",value:function(){return l.default.createElement(c.default,{style:{backgroundColor:"#f9f9f9"},__source:{fileName:a,lineNumber:236}},l.default.createElement(h.default,{data:this.state.dataList,renderItem:this._renderItem,ItemSeparatorComponent:this._separtor,keyExtractor:function(e,t){return t+""},__source:{fileName:a,lineNumber:237}}))}}]),t}(),O=null,k=function(e){function t(){v(this,t);var e=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._clickDelete=function(e){y.default.getAsyncManager().deleteByKey(e.item.id+""),O()},e._clickDetail=function(e,t){if(console.log(e+" "+t),"quality"==t){var n=y.default.getQualityManager().getListItemById(e+"");if(n){var a={value:n},r=AuthorityManager.isQualityCheckSubmit()&&AuthorityManager.isMe(a.value.creatorId);a.value.qcState===_.default.QC_STATE_STAGED&&r||a.value.qcState===_.default.QC_STATE_Q_NEW_SAVE||a.value.qcState===_.default.QC_STATE_Q_EDIT_SAVE?storage.pushNext(null,"NewPage",{item:a}):storage.pushNext(null,"QualityDetailPage",{item:a})}}else{var i=y.default.getEquipmentManager().getEquipmentListItem(e);if(console.log(i),i){var o={value:i};if(o.value.isOffline)switch(o.value.qcState){case _.default.QC_STATE_EQUIPMENT_NEW_SUBMIT:case _.default.QC_STATE_EQUIPMENT_EDIT_SUBMIT:case _.default.QC_STATE_EQUIPMENT_DELETE:return}storage.pushNext(null,"EquipmentDetailPage",{item:o})}}},e._clickSubmit=function(e){y.default.getAsyncManager().syncList(e.item,{onSuccess:function(){O()},onFail:function(e){console.log(e)}})},e._renderItem=function(t,r){var i=t.item.title,o=t.item.subTitle,u=t.item.state,f=("quality"==t.item.type?n(142):n(193),t.item.errMsg);return l.default.createElement(c.default,{style:{height:206,backgroundColor:"#ffffff",borderRadius:6,marginLeft:10,marginRight:10,marginTop:10},__source:{fileName:a,lineNumber:343}},l.default.createElement(c.default,{style:{height:60,backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center"},__source:{fileName:a,lineNumber:344}},l.default.createElement(p.default,{source:n(142),style:{width:40,height:40,marginLeft:15,marginRight:10},__source:{fileName:a,lineNumber:345}}),l.default.createElement(c.default,{style:{flex:1,justifyContent:"center"},__source:{fileName:a,lineNumber:346}},l.default.createElement(s.default,{style:{fontSize:14,color:"#333333"},__source:{fileName:a,lineNumber:347}},i," "),l.default.createElement(s.default,{style:{fontSize:10,color:"#999999"},__source:{fileName:a,lineNumber:348}},o," ")),l.default.createElement(s.default,{style:{fontSize:12,color:"#f39b3d",marginRight:20},__source:{fileName:a,lineNumber:350}}," ",u)),l.default.createElement(c.default,{style:{height:100,backgroundColor:"#fafafa",marginLeft:20,marginRight:20},__source:{fileName:a,lineNumber:353}},l.default.createElement(s.default,{style:{fontSize:14,color:"#ff460d",marginTop:9},__source:{fileName:a,lineNumber:354}},"失败原因："),l.default.createElement(s.default,{style:{fontSize:13,color:"#262525",marginTop:8},__source:{fileName:a,lineNumber:355}},f)),l.default.createElement(c.default,{style:{height:46,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"#ffffff"},__source:{fileName:a,lineNumber:358}},l.default.createElement(m.default,{onPress:function(){e._clickDelete(t)},__source:{fileName:a,lineNumber:359}},l.default.createElement(c.default,{style:{backgroundColor:"#f9f9f9",width:58,height:28,borderColor:"#979797",borderWidth:1,borderRadius:100,alignItems:"center",justifyContent:"center"},__source:{fileName:a,lineNumber:362}},l.default.createElement(s.default,{style:{fontSize:14,color:"#666666"},__source:{fileName:a,lineNumber:363}},"删除"))),l.default.createElement(m.default,{onPress:function(){e._clickDetail(t.item.id,t.item.type)},__source:{fileName:a,lineNumber:366}},l.default.createElement(c.default,{style:{backgroundColor:"#f9f9f9",width:80,height:28,borderColor:"#979797",borderWidth:1,borderRadius:100,alignItems:"center",justifyContent:"center",marginLeft:10,marginRight:10},__source:{fileName:a,lineNumber:367}},l.default.createElement(s.default,{style:{fontSize:14,color:"#666666"},__source:{fileName:a,lineNumber:368}},"查看详情"))),l.default.createElement(m.default,{onPress:function(){e._clickSubmit(t)},__source:{fileName:a,lineNumber:371}},l.default.createElement(c.default,{style:{backgroundColor:"#f9f9f9",width:80,height:28,borderColor:"#979797",borderWidth:1,borderRadius:100,alignItems:"center",justifyContent:"center",marginRight:10},__source:{fileName:a,lineNumber:372}},l.default.createElement(s.default,{style:{fontSize:14,color:"#666666"},__source:{fileName:a,lineNumber:373}},"再次提交")))))},e.state={dataList:[]},O=function(){var t=y.default.getAsyncManager().getRecordsByState("同步失败");e.setState(function(e){return r({},e,{dataList:t})})},e}return E(t,o.Component),i(t,[{key:"componentDidMount",value:function(){O()}},{key:"render",value:function(){return l.default.createElement(c.default,{style:{backgroundColor:"#f9f9f9",flex:1},__source:{fileName:a,lineNumber:385}},l.default.createElement(h.default,{data:this.state.dataList,renderItem:this._renderItem,keyExtractor:function(e,t){return t+""},__source:{fileName:a,lineNumber:386}}),l.default.createElement(c.default,{style:{backgroundColor:"#ffffff",height:1,marginBottom:80},__source:{fileName:a,lineNumber:391}}))}}]),t}(),x=function(e){function t(){var e,n,r;v(this,t);for(var i=arguments.length,o=Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._showTitle=function(){return r.props.isShowLine?l.default.createElement(s.default,{style:{fontSize:14,color:"#00baf3",marginTop:15},__source:{fileName:a,lineNumber:405}},r.props.title," "):l.default.createElement(s.default,{style:{fontSize:14,color:"#6f899b",marginTop:15},__source:{fileName:a,lineNumber:409}},r.props.title," ")},r._showLine=function(){return r.props.isShowLine?l.default.createElement(c.default,{style:{width:52,height:2,backgroundColor:"#00baf3",marginTop:11},__source:{fileName:a,lineNumber:417}}):l.default.createElement(c.default,{style:{width:52,height:2,backgroundColor:"#ffffff",marginTop:11},__source:{fileName:a,lineNumber:421}})},r._showNum=function(){var e=r.props.num;if(e>0){var t=" "+e+" ";return e>999&&(t=" "+(e=999)+"+ "),l.default.createElement(s.default,{style:{fontSize:10,color:"#ffffff",borderRadius:27,backgroundColor:"#ff460d",height:16,marginTop:16},__source:{fileName:a,lineNumber:435}},t)}return null},N(r,n)}return E(t,o.Component),i(t,[{key:"render",value:function(){var e=this;return l.default.createElement(m.default,{onPress:function(){e.props.onPress()},__source:{fileName:a,lineNumber:443}},l.default.createElement(c.default,{style:{width:I/3,height:51,flexDirection:"row",justifyContent:"center"},__source:{fileName:a,lineNumber:444}},l.default.createElement(c.default,{style:{alignItems:"center",justifyContent:"flex-end"},__source:{fileName:a,lineNumber:445}},this._showTitle(),this._showLine()),this._showNum()))}}]),t}(),D=u.default.create({container:{backgroundColor:"#F9F9F9",width:I,height:T}})},527:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\offline\\QualityRecordPage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=_(i),l=_(n(3)),u=_(n(6)),s=_(n(2)),c=_(n(12)),f=_(n(27)),d=_(n(7)),p=_(n(8)),m=_(n(9)),g=_(n(73)),h=_(n(41));function _(e){return e&&e.__esModule?e:{default:e}}var y=null,b=m.default.get("window"),v=b.width,N=b.height,E=null,w=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.componentDidMount=function(){console.log("+++++++++++++++"),setTimeout(function(){var t=y.getAllRecords();e.setState(function(e){return{datalist:t}})},500)},e._renderItem=function(t){return o.default.createElement(s.default,{style:{height:129,backgroundColor:"#ffffff",marginLeft:20,marginRight:20,marginTop:16,borderRadius:12},__source:{fileName:a,lineNumber:96}},o.default.createElement(s.default,{style:{height:61,flexDirection:"row",alignItems:"center"},__source:{fileName:a,lineNumber:97}},o.default.createElement(s.default,{style:{flex:1},__source:{fileName:a,lineNumber:98}},o.default.createElement(u.default,{style:{color:"#565656",fontSize:14,marginLeft:20},__source:{fileName:a,lineNumber:99}},t.item.timeText),o.default.createElement(u.default,{style:{color:"#999999",fontSize:12,marginLeft:20},__source:{fileName:a,lineNumber:100}},"下载时间:",t.item.downloadTime)),o.default.createElement(s.default,{style:{flexDirection:"row",marginRight:23},__source:{fileName:a,lineNumber:102}},o.default.createElement(u.default,{style:{color:"#999999",fontSize:14},__source:{fileName:a,lineNumber:103}},t.item.size,"条"))),o.default.createElement(s.default,{style:{height:1,backgroundColor:"rgba(204,204,204,163)"},__source:{fileName:a,lineNumber:106}}),o.default.createElement(s.default,{style:{flexDirection:"row",flex:1,backgroundColor:"#ffffff",alignItems:"center",borderBottomLeftRadius:12,borderBottomRightRadius:12},__source:{fileName:a,lineNumber:107}},o.default.createElement(g.default,{data:t.item.qcState,horizontal:!0,renderItem:function(t){var n=t.item;return o.default.createElement(s.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",marginLeft:19,borderRadius:2,backgroundColor:"#00baf3"},__source:{fileName:a,lineNumber:113}},o.default.createElement(u.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:a,lineNumber:114}},e._getQcstateText(n)))},keyExtractor:function(e,t){return t+""},__source:{fileName:a,lineNumber:108}})))},y=h.default.getQualityConditionManager(),e.state={datalist:[]},E=function(){e.setState(function(e){return{datalist:[]}})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"_getQcstateText",value:function(e){switch(e){case"":return"全部";case"staged":return"待提交";case"unrectified":return"待整改";case"unreviewed":return"待复查";case"inspected":return"已检查";case"reviewed":return"已复查";case"delayed":return"已延迟";case"accepted":return"已验收"}}},{key:"render",value:function(){return o.default.createElement(f.default,{style:I.container,__source:{fileName:a,lineNumber:129}},o.default.createElement(c.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:130}}),o.default.createElement(g.default,{style:{marginBottom:100},data:this.state.datalist,keyExtractor:function(e,t){return t+""},renderItem:this._renderItem,__source:{fileName:a,lineNumber:131}}))}}]),t}();w.navigationOptions={title:"质检清单",headerRight:o.default.createElement(p.default,{onPress:function(){y.deleteAll(),E()},__source:{fileName:a,lineNumber:38}},o.default.createElement(d.default,{source:n(246),style:{width:24,height:24,marginRight:12},__source:{fileName:a,lineNumber:42}}))},t.default=w;var I=l.default.create({container:{backgroundColor:"#F9F9F9",width:v,height:N},mineItemContainer:{height:50,alignItems:"center",flexDirection:"row",backgroundColor:"#ffffff"},mineItemIcon:{width:30,height:30,marginLeft:15},mineItemText:{marginLeft:10,flex:1,fontSize:14,color:"#6f899b"},mineItemArrow:{width:5,height:12,marginRight:20}})},528:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=b(n(251)),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\offline\\QualityConditionPage.js",i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(250);var l=n(1),u=b(l),s=b(n(3)),c=b(n(6)),f=b(n(2)),d=b(n(12)),p=b(n(27)),m=b(n(19)),g=(b(n(7)),b(n(8))),h=b(n(9)),_=b(n(165)),y=b(n(41));function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var N=0,E=0,w=null,I=h.default.get("window"),T=I.width,P=I.height,S=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._clickTop1=function(){e.setState(function(e){return i({},e,{top1:!0,top2:!1,top3:!1,top4:!1,top5:!1,timeText:"近3天"})})},e._clickTop2=function(){e.setState(function(e){return i({},e,{top1:!1,top2:!0,top3:!1,top4:!1,top5:!1,timeText:"近1周"})})},e._clickTop3=function(){e.setState(function(e){return i({},e,{top1:!1,top2:!1,top3:!0,top4:!1,top5:!1,timeText:"近1月"})})},e._clickTop4=function(){e.setState(function(e){return i({},e,{top1:!1,top2:!1,top3:!1,top4:!0,top5:!0,visible:!0,clickLeft:!0})})},e._clickTop5=function(){e.setState(function(e){return i({},e,{top1:!1,top2:!1,top3:!1,top4:!0,top5:!0,visible:!0,clickLeft:!1})})},e._PickerDismiss=function(){e.setState(function(e){return i({},e,{visible:!1})})},e._PickerOk=function(t){e.state.clickLeft?N=t.getTime():E=t.getTime();var n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();e.state.clickLeft?e.setState(function(e){return i({},e,{visible:!1,startText:n})}):e.setState(function(e){return i({},e,{visible:!1,endText:n})})},e._clickBottom1=function(){e.setState(function(e){return i({},e,{bottom1:!0,bottom2:!1,bottom3:!1,bottom4:!1,bottom5:!1})})},e._clickBottom2=function(){e.setState(function(e){return i({},e,{bottom1:!1,bottom2:!0})})},e._clickBottom3=function(){e.setState(function(e){return i({},e,{bottom1:!1,bottom3:!0})})},e._clickBottom4=function(){e.setState(function(e){return i({},e,{bottom1:!1,bottom4:!0})})},e._clickBottom5=function(){e.setState(function(e){return i({},e,{bottom1:!1,bottom5:!0})})},e._download=function(){var t,n,a=new Date,r=a.getTime(),i=a.getTime(),o=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),l="起始日期"==e.state.startText?o:e.state.startText,u="终止日期"==e.state.endText?o:e.state.endText;(e.state.top1&&(r=a.getTime()-2592e5,i=a.getTime()),e.state.top2&&(r=a.getTime()-6048e5,i=a.getTime()),e.state.top3&&(r=a.getTime()-26784e5,i=a.getTime()),e.state.top4&&(r=N>0?N:a.getTime()),e.state.top5&&(i=E>0?E:a.getTime()),e.state.top4||e.state.top5)&&(!(r<i)&&(l=(n=[u,l])[0],u=n[1]));!(r<i)&&(r=(t=[i,r])[0],i=t[1]);var s=[];e.state.bottom1&&(s=[""]),e.state.bottom2&&(s=[].concat(v(s),["staged"])),e.state.bottom3&&(s=[].concat(v(s),["unrectified"])),e.state.bottom4&&(s=[].concat(v(s),["unreviewed"])),e.state.bottom5&&(s=[].concat(v(s),["delayed"]));var c="(",f=s,d=Array.isArray(f),p=0;for(f=d?f:f["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var m;if(d){if(p>=f.length)break;m=f[p++]}else{if((p=f.next()).done)break;m=p.value}switch(m){case"":c+=" 全部 ";break;case"staged":c+=" 待提交 ";break;case"unrectified":c+=" 待整改 ";break;case"unreviewed":c+=" 待复查 ";break;case"delayed":c+=" 已延迟 "}}c+=")";var g={startTime:r,endTime:i,qcState:s,timeText:e.state.top4?l+" - "+u:e.state.timeText,downloadTime:a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes()),size:111,title:"检查单",subTitle:c,progress:0,total:100};console.log("startTime="+r+" endTime="+i);var h=e._formatDate(r,"yyyy-MM-dd"),_=e._formatDate(i+864e5,"yyyy-MM-dd");console.log("startDate="+h+" endDate="+_),console.log(JSON.stringify(s)),w.download(h,_,s,a.getTime()+"",g)},w=y.default.getQualityManager(),e.state={top1:!0,top2:!1,top3:!1,top4:!1,top5:!1,bottom1:!0,bottom2:!1,bottom3:!1,bottom4:!1,bottom5:!1,visible:!1,clickLeft:!1,startText:"起始日期",endText:"终止日期",timeText:"近3天"},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),o(t,[{key:"_formatDate",value:function(e,t){var n=new Date;return n.setTime(parseInt(e)),t=null!=t?t:"yyyy-MM-dd hh:mm",Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},n.Format(t)}},{key:"render",value:function(){var e=this;return u.default.createElement(p.default,{style:C.container,__source:{fileName:r,lineNumber:329}},u.default.createElement(d.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:330}}),u.default.createElement(m.default,{bounces:!1,__source:{fileName:r,lineNumber:331}},u.default.createElement(f.default,{style:{backgroundColor:"#f9f9f9"},__source:{fileName:r,lineNumber:332}},u.default.createElement(f.default,{style:{flex:1,height:148,backgroundColor:"#ffffff",marginLeft:20,marginRight:20,marginTop:16,borderRadius:12},__source:{fileName:r,lineNumber:333}},u.default.createElement(f.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"},__source:{fileName:r,lineNumber:334}},u.default.createElement(f.default,{style:{backgroundColor:"#6f899b",width:18,height:1,marginTop:16},__source:{fileName:r,lineNumber:335}}),u.default.createElement(c.default,{style:{color:"#6f899b",fontSize:14,marginTop:16,alignSelf:"center",marginLeft:9,marginRight:9},__source:{fileName:r,lineNumber:336}},"时间范围"),u.default.createElement(f.default,{style:{backgroundColor:"#6f899b",width:18,height:1,marginTop:16},__source:{fileName:r,lineNumber:337}})),u.default.createElement(f.default,{style:{flexDirection:"row",marginTop:16},__source:{fileName:r,lineNumber:339}},u.default.createElement(g.default,{onPress:function(){e._clickTop1()},__source:{fileName:r,lineNumber:340}},this.state.top1?u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",marginLeft:19,borderRadius:2,backgroundColor:"#00baf3"},__source:{fileName:r,lineNumber:343}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:344}},"近3天")):u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",marginLeft:19,borderRadius:2,backgroundColor:"#f6f6f6"},__source:{fileName:r,lineNumber:347}},u.default.createElement(c.default,{style:{color:"#666666",fontSize:12},__source:{fileName:r,lineNumber:348}},"近3天"))),u.default.createElement(g.default,{onPress:function(){e._clickTop2()},__source:{fileName:r,lineNumber:353}},this.state.top2?u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:356}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:357}},"近1周")):u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:360}},u.default.createElement(c.default,{style:{color:"#666666",fontSize:12},__source:{fileName:r,lineNumber:361}},"近1周"))),u.default.createElement(g.default,{onPress:function(){e._clickTop3()},__source:{fileName:r,lineNumber:366}},this.state.top3?u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:369}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:370}},"近1月")):u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:373}},u.default.createElement(c.default,{style:{color:"#666666",fontSize:12},__source:{fileName:r,lineNumber:374}},"近1月")))),u.default.createElement(f.default,{style:{flexDirection:"row",marginTop:12},__source:{fileName:r,lineNumber:380}},u.default.createElement(g.default,{onPress:function(){e._clickTop4()},__source:{fileName:r,lineNumber:381}},this.state.top4?u.default.createElement(f.default,{style:{width:115,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",marginLeft:19,borderRadius:2},__source:{fileName:r,lineNumber:384}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:385}},this.state.startText)):u.default.createElement(f.default,{style:{width:115,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",marginLeft:19,borderRadius:2},__source:{fileName:r,lineNumber:388}},u.default.createElement(c.default,{style:{color:"#999999",fontSize:12},__source:{fileName:r,lineNumber:389}},this.state.startText))),u.default.createElement(f.default,{style:{width:28,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#ffffff"},__source:{fileName:r,lineNumber:393}},u.default.createElement(c.default,{style:{color:"#6f899b",fontSize:12},__source:{fileName:r,lineNumber:394}},"—")),u.default.createElement(g.default,{onPress:function(){e._clickTop5()},__source:{fileName:r,lineNumber:396}},this.state.top5?u.default.createElement(f.default,{style:{width:115,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",borderRadius:2},__source:{fileName:r,lineNumber:399}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:400}},this.state.endText)):u.default.createElement(f.default,{style:{width:115,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",borderRadius:2},__source:{fileName:r,lineNumber:403}},u.default.createElement(c.default,{style:{color:"#999999",fontSize:12},__source:{fileName:r,lineNumber:404}},this.state.endText))))),u.default.createElement(f.default,{style:{flex:1,height:148,backgroundColor:"#ffffff",marginLeft:20,marginRight:20,marginTop:16,borderRadius:12},__source:{fileName:r,lineNumber:411}},u.default.createElement(f.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"},__source:{fileName:r,lineNumber:412}},u.default.createElement(f.default,{style:{backgroundColor:"#6f899b",width:18,height:1,marginTop:16},__source:{fileName:r,lineNumber:413}}),u.default.createElement(c.default,{style:{color:"#6f899b",fontSize:14,marginTop:16,alignSelf:"center",marginLeft:9,marginRight:9},__source:{fileName:r,lineNumber:414}},"单据状态"),u.default.createElement(f.default,{style:{backgroundColor:"#6f899b",width:18,height:1,marginTop:16},__source:{fileName:r,lineNumber:415}})),u.default.createElement(f.default,{style:{flexDirection:"row",marginTop:16},__source:{fileName:r,lineNumber:418}},u.default.createElement(g.default,{onPress:function(){e._clickBottom1()},__source:{fileName:r,lineNumber:419}},this.state.bottom1?u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",marginLeft:19,borderRadius:2},__source:{fileName:r,lineNumber:422}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:423}},"全部")):u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",marginLeft:19,borderRadius:2},__source:{fileName:r,lineNumber:426}},u.default.createElement(c.default,{style:{color:"#666666",fontSize:12},__source:{fileName:r,lineNumber:427}},"全部"))),u.default.createElement(g.default,{onPress:function(){e._clickBottom2()},__source:{fileName:r,lineNumber:431}},this.state.bottom2?u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:434}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:435}},"待提交")):u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:438}},u.default.createElement(c.default,{style:{color:"#666666",fontSize:12},__source:{fileName:r,lineNumber:439}},"待提交"))),u.default.createElement(g.default,{onPress:function(){e._clickBottom3()},__source:{fileName:r,lineNumber:443}},this.state.bottom3?u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:446}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:447}},"待整改")):u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:450}},u.default.createElement(c.default,{style:{color:"#666666",fontSize:12},__source:{fileName:r,lineNumber:451}},"待整改"))),u.default.createElement(g.default,{onPress:function(){e._clickBottom4()},__source:{fileName:r,lineNumber:455}},this.state.bottom4?u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:458}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:459}},"待复查")):u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:462}},u.default.createElement(c.default,{style:{color:"#666666",fontSize:12},__source:{fileName:r,lineNumber:463}},"待复查")))),u.default.createElement(f.default,{style:{flexDirection:"row",marginTop:12},__source:{fileName:r,lineNumber:469}},u.default.createElement(g.default,{onPress:function(){e._clickBottom5()},__source:{fileName:r,lineNumber:470}},this.state.bottom5?u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",marginLeft:19,borderRadius:2},__source:{fileName:r,lineNumber:473}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:474}},"已延迟")):u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",marginLeft:19,borderRadius:2},__source:{fileName:r,lineNumber:477}},u.default.createElement(c.default,{style:{color:"#666666",fontSize:12},__source:{fileName:r,lineNumber:478}},"已延迟")))))),u.default.createElement(_.default,{text:"下载",onClick:function(){e._download()},style:{marginTop:32,width:297,height:40,alignSelf:"center"},__source:{fileName:r,lineNumber:487}}),u.default.createElement(a.default,{mode:"date",title:" ",visible:this.state.visible,onDismiss:function(){return e._PickerDismiss()},onOk:function(t){e._PickerOk(t)},extra:" ",value:new Date,__source:{fileName:r,lineNumber:489}})))}}]),t}();S.navigationOptions={title:"质检清单"},t.default=S;var C=s.default.create({container:{backgroundColor:"#F9F9F9",width:T,height:P},selectedBg:{backgroundColor:"#00baf3"},selectedText:{color:"#ffffff"},unSelectedBg:{backgroundColor:"#f6f6f6"},unSelectedText:{color:"#666666"},unTimedText:{color:"#999999"}})},529:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\offline\\EquipmentRecordPage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=_(i),l=_(n(3)),u=_(n(6)),s=_(n(2)),c=_(n(12)),f=_(n(27)),d=_(n(7)),p=_(n(8)),m=_(n(9)),g=_(n(73)),h=_(n(41));function _(e){return e&&e.__esModule?e:{default:e}}var y=null,b=m.default.get("window"),v=b.width,N=b.height,E=null,w=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.componentDidMount=function(){console.log("+++++++++++++++"),setTimeout(function(){var t=y.getAllRecords();e.setState(function(e){return{datalist:t}})},500)},e._renderItem=function(e){return o.default.createElement(s.default,{style:{height:129,backgroundColor:"#ffffff",marginLeft:20,marginRight:20,marginTop:16,borderRadius:12},__source:{fileName:a,lineNumber:75}},o.default.createElement(s.default,{style:{height:61,flexDirection:"row",alignItems:"center"},__source:{fileName:a,lineNumber:76}},o.default.createElement(s.default,{style:{flex:1},__source:{fileName:a,lineNumber:77}},o.default.createElement(u.default,{style:{color:"#565656",fontSize:14,marginLeft:20},__source:{fileName:a,lineNumber:78}},e.item.timeText),o.default.createElement(u.default,{style:{color:"#999999",fontSize:12,marginLeft:20},__source:{fileName:a,lineNumber:79}},"下载时间:",e.item.downloadTime)),o.default.createElement(s.default,{style:{flexDirection:"row",marginRight:23},__source:{fileName:a,lineNumber:81}},o.default.createElement(u.default,{style:{color:"#999999",fontSize:14},__source:{fileName:a,lineNumber:82}},e.item.size,"条"))),o.default.createElement(s.default,{style:{height:1,backgroundColor:"rgba(204,204,204,163)"},__source:{fileName:a,lineNumber:85}}),o.default.createElement(s.default,{style:{flexDirection:"row",flex:1,backgroundColor:"#ffffff",alignItems:"center",borderBottomLeftRadius:12,borderBottomRightRadius:12},__source:{fileName:a,lineNumber:86}},o.default.createElement(g.default,{data:e.item.qcState,horizontal:!0,renderItem:function(e){var t=e.item;return o.default.createElement(s.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",marginLeft:19,borderRadius:2,backgroundColor:"#00baf3"},__source:{fileName:a,lineNumber:92}},o.default.createElement(u.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:a,lineNumber:93}},t))},keyExtractor:function(e,t){return t+""},__source:{fileName:a,lineNumber:87}})))},y=h.default.getEquipmentConditionManager(),e.state={datalist:[]},E=function(){e.setState(function(e){return{datalist:[]}})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){return o.default.createElement(f.default,{style:I.container,__source:{fileName:a,lineNumber:108}},o.default.createElement(c.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:109}}),o.default.createElement(g.default,{style:{marginBottom:100},data:this.state.datalist,keyExtractor:function(e,t){return t+""},renderItem:this._renderItem,__source:{fileName:a,lineNumber:110}}))}}]),t}();w.navigationOptions={title:"材设清单",headerRight:o.default.createElement(p.default,{onPress:function(){y.deleteAll(),E()},__source:{fileName:a,lineNumber:38}},o.default.createElement(d.default,{source:n(246),style:{width:24,height:24,marginRight:12},__source:{fileName:a,lineNumber:42}}))},t.default=w;var I=l.default.create({container:{backgroundColor:"#F9F9F9",width:v,height:N},mineItemContainer:{height:50,alignItems:"center",flexDirection:"row",backgroundColor:"#ffffff"},mineItemIcon:{width:30,height:30,marginLeft:15},mineItemText:{marginLeft:10,flex:1,fontSize:14,color:"#6f899b"},mineItemArrow:{width:5,height:12,marginRight:20}})},530:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=b(n(251)),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\offline\\EquipmentConditionPage.js",i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(250);var l=n(1),u=b(l),s=b(n(3)),c=b(n(6)),f=b(n(2)),d=b(n(12)),p=b(n(27)),m=b(n(19)),g=(b(n(7)),b(n(8))),h=b(n(9)),_=b(n(165)),y=b(n(41));function b(e){return e&&e.__esModule?e:{default:e}}var v=0,N=0,E=null,w=h.default.get("window"),I=w.width,T=w.height,P=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._clickTop1=function(){e.setState(function(e){return i({},e,{top1:!0,top2:!1,top3:!1,top4:!1,top5:!1,timeText:"近3天"})})},e._clickTop2=function(){e.setState(function(e){return i({},e,{top1:!1,top2:!0,top3:!1,top4:!1,top5:!1,timeText:"近1周"})})},e._clickTop3=function(){e.setState(function(e){return i({},e,{top1:!1,top2:!1,top3:!0,top4:!1,top5:!1,timeText:"近1月"})})},e._clickTop4=function(){e.setState(function(e){return i({},e,{top1:!1,top2:!1,top3:!1,top4:!0,top5:!0,visible:!0,clickLeft:!0})})},e._clickTop5=function(){e.setState(function(e){return i({},e,{top1:!1,top2:!1,top3:!1,top4:!0,top5:!0,visible:!0,clickLeft:!1})})},e._PickerDismiss=function(){e.setState(function(e){return i({},e,{visible:!1})})},e._PickerOk=function(t){e.state.clickLeft?v=t.getTime():N=t.getTime();var n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();e.state.clickLeft?e.setState(function(e){return i({},e,{visible:!1,startText:n})}):e.setState(function(e){return i({},e,{visible:!1,endText:n})})},e._clickBottom1=function(){e.setState(function(e){return i({},e,{bottom1:!0,bottom2:!1,bottom3:!1,bottom4:!1,bottom5:!1})})},e._clickBottom2=function(){e.setState(function(e){return i({},e,{bottom1:!1,bottom2:!0})})},e._download=function(){var t,n,a=new Date,r=a.getTime(),i=a.getTime(),o=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),l="起始日期"==e.state.startText?o:e.state.startText,u="终止日期"==e.state.endText?o:e.state.endText;(e.state.top1&&(r=a.getTime()-2592e5,i=a.getTime()),e.state.top2&&(r=a.getTime()-6048e5,i=a.getTime()),e.state.top3&&(r=a.getTime()-26784e5,i=a.getTime()),e.state.top4&&(r=v>0?v:a.getTime()),e.state.top5&&(i=N>0?N:a.getTime()),e.state.top4||e.state.top5)&&(!(r<i)&&(l=(n=[u,l])[0],u=n[1]));!(r<i)&&(r=(t=[i,r])[0],i=t[1]);var s=[];e.state.bottom1&&(s=["全部"]),e.state.bottom2&&(s=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(s),["待提交"]));var c="( ",f=s,d=Array.isArray(f),p=0;for(f=d?f:f["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var m;if(d){if(p>=f.length)break;m=f[p++]}else{if((p=f.next()).done)break;m=p.value}c+=m}c+=" )";var g={startTime:r,endTime:i,qcState:s,timeText:e.state.top4?l+" - "+u:e.state.timeText,downloadTime:a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes()),size:111,title:"材设进场单",subTitle:c,progress:0,total:100};console.log("startTime="+r+" endTime="+i);var h=e._formatDate(r,"yyyy-MM-dd"),_=e._formatDate(i+864e5,"yyyy-MM-dd");console.log("startDate="+h+" endDate="+_),console.log(JSON.stringify(s)),E.download(h,_,s,a.getTime()+"",g)},E=y.default.getEquipmentManager(),e.state={top1:!0,top2:!1,top3:!1,top4:!1,top5:!1,bottom1:!0,bottom2:!1,visible:!1,clickLeft:!1,startText:"起始日期",endText:"终止日期",timeText:"近3天"},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),o(t,[{key:"_formatDate",value:function(e,t){var n=new Date;return n.setTime(parseInt(e)),t=null!=t?t:"yyyy-MM-dd hh:mm",Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},n.Format(t)}},{key:"render",value:function(){var e=this;return u.default.createElement(p.default,{style:S.container,__source:{fileName:r,lineNumber:267}},u.default.createElement(d.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:268}}),u.default.createElement(m.default,{bounces:!1,__source:{fileName:r,lineNumber:269}},u.default.createElement(f.default,{style:{backgroundColor:"#f9f9f9"},__source:{fileName:r,lineNumber:270}},u.default.createElement(f.default,{style:{flex:1,height:148,backgroundColor:"#ffffff",marginLeft:20,marginRight:20,marginTop:16,borderRadius:12},__source:{fileName:r,lineNumber:271}},u.default.createElement(f.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"},__source:{fileName:r,lineNumber:272}},u.default.createElement(f.default,{style:{backgroundColor:"#6f899b",width:18,height:1,marginTop:16},__source:{fileName:r,lineNumber:273}}),u.default.createElement(c.default,{style:{color:"#6f899b",fontSize:14,marginTop:16,alignSelf:"center",marginLeft:9,marginRight:9},__source:{fileName:r,lineNumber:274}},"时间范围"),u.default.createElement(f.default,{style:{backgroundColor:"#6f899b",width:18,height:1,marginTop:16},__source:{fileName:r,lineNumber:275}})),u.default.createElement(f.default,{style:{flexDirection:"row",marginTop:16},__source:{fileName:r,lineNumber:277}},u.default.createElement(g.default,{onPress:function(){e._clickTop1()},__source:{fileName:r,lineNumber:278}},this.state.top1?u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",marginLeft:19,borderRadius:2,backgroundColor:"#00baf3"},__source:{fileName:r,lineNumber:281}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:282}},"近3天")):u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",marginLeft:19,borderRadius:2,backgroundColor:"#f6f6f6"},__source:{fileName:r,lineNumber:285}},u.default.createElement(c.default,{style:{color:"#666666",fontSize:12},__source:{fileName:r,lineNumber:286}},"近3天"))),u.default.createElement(g.default,{onPress:function(){e._clickTop2()},__source:{fileName:r,lineNumber:291}},this.state.top2?u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:294}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:295}},"近1周")):u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:298}},u.default.createElement(c.default,{style:{color:"#666666",fontSize:12},__source:{fileName:r,lineNumber:299}},"近1周"))),u.default.createElement(g.default,{onPress:function(){e._clickTop3()},__source:{fileName:r,lineNumber:304}},this.state.top3?u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:307}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:308}},"近1月")):u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:311}},u.default.createElement(c.default,{style:{color:"#666666",fontSize:12},__source:{fileName:r,lineNumber:312}},"近1月")))),u.default.createElement(f.default,{style:{flexDirection:"row",marginTop:12},__source:{fileName:r,lineNumber:318}},u.default.createElement(g.default,{onPress:function(){e._clickTop4()},__source:{fileName:r,lineNumber:319}},this.state.top4?u.default.createElement(f.default,{style:{width:115,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",marginLeft:19,borderRadius:2},__source:{fileName:r,lineNumber:322}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:323}},this.state.startText)):u.default.createElement(f.default,{style:{width:115,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",marginLeft:19,borderRadius:2},__source:{fileName:r,lineNumber:326}},u.default.createElement(c.default,{style:{color:"#999999",fontSize:12},__source:{fileName:r,lineNumber:327}},this.state.startText))),u.default.createElement(f.default,{style:{width:28,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#ffffff"},__source:{fileName:r,lineNumber:331}},u.default.createElement(c.default,{style:{color:"#6f899b",fontSize:12},__source:{fileName:r,lineNumber:332}},"—")),u.default.createElement(g.default,{onPress:function(){e._clickTop5()},__source:{fileName:r,lineNumber:334}},this.state.top5?u.default.createElement(f.default,{style:{width:115,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",borderRadius:2},__source:{fileName:r,lineNumber:337}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:338}},this.state.endText)):u.default.createElement(f.default,{style:{width:115,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",borderRadius:2},__source:{fileName:r,lineNumber:341}},u.default.createElement(c.default,{style:{color:"#999999",fontSize:12},__source:{fileName:r,lineNumber:342}},this.state.endText))))),u.default.createElement(f.default,{style:{flex:1,height:148,backgroundColor:"#ffffff",marginLeft:20,marginRight:20,marginTop:16,borderRadius:12},__source:{fileName:r,lineNumber:349}},u.default.createElement(f.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"},__source:{fileName:r,lineNumber:350}},u.default.createElement(f.default,{style:{backgroundColor:"#6f899b",width:18,height:1,marginTop:16},__source:{fileName:r,lineNumber:351}}),u.default.createElement(c.default,{style:{color:"#6f899b",fontSize:14,marginTop:16,alignSelf:"center",marginLeft:9,marginRight:9},__source:{fileName:r,lineNumber:352}},"单据状态"),u.default.createElement(f.default,{style:{backgroundColor:"#6f899b",width:18,height:1,marginTop:16},__source:{fileName:r,lineNumber:353}})),u.default.createElement(f.default,{style:{flexDirection:"row",marginTop:16},__source:{fileName:r,lineNumber:356}},u.default.createElement(g.default,{onPress:function(){e._clickBottom1()},__source:{fileName:r,lineNumber:357}},this.state.bottom1?u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",marginLeft:19,borderRadius:2},__source:{fileName:r,lineNumber:360}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:361}},"全部")):u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",marginLeft:19,borderRadius:2},__source:{fileName:r,lineNumber:364}},u.default.createElement(c.default,{style:{color:"#666666",fontSize:12},__source:{fileName:r,lineNumber:365}},"全部"))),u.default.createElement(g.default,{onPress:function(){e._clickBottom2()},__source:{fileName:r,lineNumber:369}},this.state.bottom2?u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#00baf3",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:372}},u.default.createElement(c.default,{style:{color:"#ffffff",fontSize:12},__source:{fileName:r,lineNumber:373}},"待提交")):u.default.createElement(f.default,{style:{width:60,height:28,alignItems:"center",justifyContent:"center",backgroundColor:"#f6f6f6",marginLeft:12,borderRadius:2},__source:{fileName:r,lineNumber:376}},u.default.createElement(c.default,{style:{color:"#666666",fontSize:12},__source:{fileName:r,lineNumber:377}},"待提交")))))),u.default.createElement(_.default,{text:"下载",onClick:function(){e._download()},style:{marginTop:32,width:297,height:40,alignSelf:"center"},__source:{fileName:r,lineNumber:388}}),u.default.createElement(a.default,{mode:"date",title:" ",visible:this.state.visible,onDismiss:function(){return e._PickerDismiss()},onOk:function(t){e._PickerOk(t)},extra:" ",value:new Date,__source:{fileName:r,lineNumber:390}})))}}]),t}();P.navigationOptions={title:"材设进场清单"},t.default=P;var S=s.default.create({container:{backgroundColor:"#F9F9F9",width:I,height:T},selectedBg:{backgroundColor:"#00baf3"},selectedText:{color:"#ffffff"},unSelectedBg:{backgroundColor:"#f6f6f6"},unSelectedText:{color:"#666666"},unTimedText:{color:"#999999"}})},533:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\offline\\OfflineDownloadPage.js",r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),l=v(o),u=v(n(3)),s=v(n(6)),c=v(n(2)),f=v(n(12)),d=v(n(27)),p=(v(n(19)),v(n(7))),m=v(n(8)),g=v(n(9)),h=v(n(73)),_=n(25),y=n(16),b=v(n(41));function v(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=g.default.get("window"),T=I.width,P=I.height,S=void 0,C=function(e){function t(){N(this,t);var e=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.componentDidMount=function(){S=b.default.getBasicInfoManager()},e.componentWillUnmount=function(){},e._gotoDownloadPage=function(){var t=e.props.navigation;storage.pushNext(t,"ChangeProjectPage")},e._clickAll=function(){e.setState(function(e){return r({},e,{showAll:!0,showLoaded:!1,showLoading:!1})})},e._clickLoaded=function(){e.setState(function(e){return r({},e,{showAll:!1,showLoaded:!0,showLoading:!1})})},e._clickLoading=function(){e.setState(function(e){return r({},e,{showAll:!1,showLoaded:!1,showLoading:!0})})},e._getContentView=function(){return e.state.showAll?l.default.createElement(O,{__source:{fileName:a,lineNumber:113}}):e.state.showLoaded?l.default.createElement(k,{__source:{fileName:a,lineNumber:116}}):e.state.showLoading?l.default.createElement(A,{__source:{fileName:a,lineNumber:120}}):null},e.state={showAll:!0,showLoaded:!1,showLoading:!1},e}return w(t,o.Component),i(t,[{key:"render",value:function(){return l.default.createElement(d.default,{style:L.container,__source:{fileName:a,lineNumber:128}},l.default.createElement(f.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:129}}),l.default.createElement(c.default,{style:{flexDirection:"row",backgroundColor:"#ffffff"},__source:{fileName:a,lineNumber:130}},l.default.createElement(R,{title:"全部",isShowLine:this.state.showAll,num:0,onPress:this._clickAll,__source:{fileName:a,lineNumber:131}}),l.default.createElement(R,{title:"已下载",isShowLine:this.state.showLoaded,num:0,onPress:this._clickLoaded,__source:{fileName:a,lineNumber:132}}),l.default.createElement(R,{title:"下载中",isShowLine:this.state.showLoading,num:0,onPress:this._clickLoading,__source:{fileName:a,lineNumber:133}})),l.default.createElement(c.default,{style:{height:10},__source:{fileName:a,lineNumber:135}}),this._getContentView())}}]),t}();C.navigationOptions={title:"离线数据下载"},t.default=C;var O=function(e){function t(){var e,n,a;N(this,t);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=a=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a._clickQuality=function(){var e=a.props.navigation;storage.pushNext(e,"QualityConditionPage")},a._clickEquipment=function(){var e=a.props.navigation;storage.pushNext(e,"EquipmentConditionPage")},a._clickModel=function(){},a._clickBlueprint=function(){},E(a,n)}return w(t,o.Component),i(t,[{key:"render",value:function(){var e=this;return l.default.createElement(c.default,{style:{backgroundColor:"#f9f9f9"},__source:{fileName:a,lineNumber:168}},l.default.createElement(j,{icon:n(247),title:"质检清单",onPress:function(){return e._clickQuality()},__source:{fileName:a,lineNumber:169}}),l.default.createElement(c.default,{style:L.mineItemLine,__source:{fileName:a,lineNumber:170}}),l.default.createElement(j,{icon:n(327),title:"材设进场清单",onPress:function(){return e._clickEquipment()},__source:{fileName:a,lineNumber:171}}),l.default.createElement(c.default,{style:L.mineItemLine,__source:{fileName:a,lineNumber:172}}),l.default.createElement(j,{icon:n(326),title:"模型",onPress:function(){return e._clickModel()},__source:{fileName:a,lineNumber:173}}),l.default.createElement(c.default,{style:L.mineItemLine,__source:{fileName:a,lineNumber:174}}),l.default.createElement(j,{icon:n(325),title:"图纸",onPress:function(){return e._clickBlueprint()},__source:{fileName:a,lineNumber:175}}),l.default.createElement(c.default,{style:{height:10},__source:{fileName:a,lineNumber:176}}),l.default.createElement(M,{icon:n(324),title:"基础数据包",__source:{fileName:a,lineNumber:177}}))}}]),t}(),k=function(e){function t(){var e,r,i;N(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return r=i=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i._clickQuality=function(){var e=i.props.navigation;storage.pushNext(e,"QualityRecordPage")},i._clickEquipment=function(){var e=i.props.navigation;storage.pushNext(e,"EquipmentRecordPage")},i._clickModel=function(){},i._clickBlueprint=function(){},i._showBasicView=function(){var e=(S=b.default.getBasicInfoManager()).getDownloadedTime();return null!=e?l.default.createElement(M,{icon:n(324),title:"基础数据包",totalNum:100,progress:100,finishText:e,__source:{fileName:a,lineNumber:213}}):null},E(i,r)}return w(t,o.Component),i(t,[{key:"render",value:function(){var e=this;return l.default.createElement(c.default,{style:{backgroundColor:"#f9f9f9"},__source:{fileName:a,lineNumber:221}},l.default.createElement(j,{icon:n(247),title:"质检清单",onPress:function(){return e._clickQuality()},__source:{fileName:a,lineNumber:222}}),l.default.createElement(c.default,{style:L.mineItemLine,__source:{fileName:a,lineNumber:223}}),l.default.createElement(j,{icon:n(327),title:"材设进场清单",onPress:function(){return e._clickEquipment()},__source:{fileName:a,lineNumber:224}}),l.default.createElement(c.default,{style:L.mineItemLine,__source:{fileName:a,lineNumber:225}}),l.default.createElement(j,{icon:n(326),title:"模型",onPress:function(){return e._clickModel()},__source:{fileName:a,lineNumber:226}}),l.default.createElement(c.default,{style:L.mineItemLine,__source:{fileName:a,lineNumber:227}}),l.default.createElement(j,{icon:n(325),title:"图纸",onPress:function(){return e._clickBlueprint()},__source:{fileName:a,lineNumber:228}}),l.default.createElement(c.default,{style:{height:10},__source:{fileName:a,lineNumber:229}}),this._showBasicView())}}]),t}(),x=function(e){function t(){N(this,t);var e=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.click=function(){e.setState(function(e){return{selected:!e.selected}})},e.state={selected:!1},e}return w(t,o.Component),i(t,[{key:"render",value:function(){var e=this.state.selected?n(200):n(199);return l.default.createElement(m.default,{onPress:this.click,__source:{fileName:a,lineNumber:258}},l.default.createElement(p.default,{style:{width:16,height:16,marginLeft:11},source:e,__source:{fileName:a,lineNumber:259}}))}}]),t}(),D=function(e){function t(){N(this,t);var e=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._startDownload=function(){},e._stopDownload=function(){},e.state={progress:0,totalNum:100},e}return w(t,o.Component),i(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.callback,n=this.props.data.item.key;this.subscription=_.DeviceEventEmitter.addListener(n,function(n){var a=n.progress,i=n.total;e.setState(function(e){return r({},e,{progress:a,totalNum:i})}),a==i&&(e.subscription&&e.subscription.remove(),null!=t&&(t(),t=null))})}},{key:"render",value:function(){return l.default.createElement(y.CircleProgressBar,{startDownload:this._startDownload,stopDownload:this._stopDownload,progress:this.state.progress,totalNum:this.state.totalNum,finishText:"",__source:{fileName:a,lineNumber:316}})}}]),t}(),A=function(e){function t(){N(this,t);var e=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._callback=function(){e._getRecords()},e._getRecords=function(){var t=b.default.getDownloadingManager().getAllRecords();e.setState(function(e){return r({},e,{dataList:t})})},e.renderItemView=function(t){var r=JSON.parse(t.item.value),i=n(142),o=r.title;switch(o){case"检查单":i=n(142);break;case"材设进场单":i=n(193);break;case"基础数据包":i=n(248)}o.startsWith("模型")&&(i=n(532)),o.startsWith("图纸")&&(i=n(531));var u=r.timeText+r.subTitle;return l.default.createElement(c.default,{style:{height:55,backgroundColor:"#ffffff"},__source:{fileName:a,lineNumber:380}},l.default.createElement(c.default,{style:{height:54,backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center"},__source:{fileName:a,lineNumber:381}},l.default.createElement(x,{__source:{fileName:a,lineNumber:382}}),l.default.createElement(p.default,{source:i,style:{width:40,height:40,marginLeft:11,marginRight:14},__source:{fileName:a,lineNumber:383}}),l.default.createElement(c.default,{style:{flex:1,justifyContent:"center"},__source:{fileName:a,lineNumber:384}},l.default.createElement(s.default,{style:{fontSize:14,color:"#333333"},__source:{fileName:a,lineNumber:385}},o),l.default.createElement(s.default,{style:{fontSize:10,color:"#999999"},__source:{fileName:a,lineNumber:386}},u)),l.default.createElement(D,{data:t,callback:e._callback,__source:{fileName:a,lineNumber:388}})),l.default.createElement(c.default,{style:{height:1,backgroundColor:"#ececec",flex:1},__source:{fileName:a,lineNumber:391}}))},e.clickCancel=function(){console.log("click clickCancel")},e.clickContinue=function(){console.log("click clickContinue")},e.clickPause=function(){console.log("click clickPause")},e.state={dataList:[]},e}return w(t,o.Component),i(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e){}}},{key:"componentDidMount",value:function(){this._getRecords()}},{key:"render",value:function(){return l.default.createElement(c.default,{style:{flex:1,backgroundColor:"#f9f9f9"},__source:{fileName:a,lineNumber:411}},l.default.createElement(h.default,{style:{flex:1},data:this.state.dataList,renderItem:this.renderItemView,keyExtractor:function(e,t){return t+""},__source:{fileName:a,lineNumber:412}}),l.default.createElement(c.default,{style:{height:50,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"#f9f9f9",marginBottom:80},__source:{fileName:a,lineNumber:417}},l.default.createElement(m.default,{onPress:this.clickCancel,__source:{fileName:a,lineNumber:418}},l.default.createElement(c.default,{style:{backgroundColor:"#f9f9f9",width:58,height:28,borderColor:"#cccccc",borderWidth:1,borderRadius:100,alignItems:"center",justifyContent:"center"},__source:{fileName:a,lineNumber:419}},l.default.createElement(s.default,{style:{fontSize:14,color:"#cccccc"},__source:{fileName:a,lineNumber:420}},"取消"))),l.default.createElement(m.default,{onPress:this.clickContinue,__source:{fileName:a,lineNumber:423}},l.default.createElement(c.default,{style:{backgroundColor:"#f9f9f9",width:58,height:28,borderColor:"#31c2f3",borderWidth:1,borderRadius:100,alignItems:"center",justifyContent:"center",marginLeft:10},__source:{fileName:a,lineNumber:424}},l.default.createElement(s.default,{style:{fontSize:14,color:"#31c2f3"},__source:{fileName:a,lineNumber:425}},"继续"))),l.default.createElement(m.default,{onPress:this.clickPause,__source:{fileName:a,lineNumber:428}},l.default.createElement(c.default,{style:{backgroundColor:"rgba(0,181,242,0.80)",width:58,height:28,alignItems:"center",justifyContent:"center",borderRadius:100,marginLeft:10,marginRight:10},__source:{fileName:a,lineNumber:429}},l.default.createElement(s.default,{style:{fontSize:14,color:"#ffffff"},__source:{fileName:a,lineNumber:430}},"暂停")))))}}]),t}(),R=function(e){function t(){var e,n,r;N(this,t);for(var i=arguments.length,o=Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=r=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._showTitle=function(){return r.props.isShowLine?l.default.createElement(s.default,{style:{fontSize:14,color:"#00baf3",marginTop:15},__source:{fileName:a,lineNumber:447}},r.props.title," "):l.default.createElement(s.default,{style:{fontSize:14,color:"#6f899b",marginTop:15},__source:{fileName:a,lineNumber:451}},r.props.title," ")},r._showLine=function(){return r.props.isShowLine?l.default.createElement(c.default,{style:{width:42,height:2,backgroundColor:"#00baf3",marginTop:6},__source:{fileName:a,lineNumber:459}}):l.default.createElement(c.default,{style:{width:42,height:2,backgroundColor:"#ffffff",marginTop:6},__source:{fileName:a,lineNumber:463}})},r._showNum=function(){var e=r.props.num;if(e>0){var t=" "+e+" ";return e>999&&(t=" "+(e=999)+"+ "),l.default.createElement(s.default,{style:{fontSize:10,color:"#ffffff",borderRadius:27,backgroundColor:"#ff460d",height:16,marginTop:16},__source:{fileName:a,lineNumber:477}},t)}return null},E(r,n)}return w(t,o.Component),i(t,[{key:"render",value:function(){var e=this;return l.default.createElement(m.default,{onPress:function(){e.props.onPress()},__source:{fileName:a,lineNumber:485}},l.default.createElement(c.default,{style:{width:T/3,height:51,flexDirection:"row",justifyContent:"center"},__source:{fileName:a,lineNumber:486}},l.default.createElement(c.default,{style:{alignItems:"center",justifyContent:"flex-end"},__source:{fileName:a,lineNumber:487}},this._showTitle(),this._showLine()),this._showNum()))}}]),t}(),j=function(e){function t(){return N(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,o.Component),i(t,[{key:"render",value:function(){var e=this;return l.default.createElement(m.default,{onPress:function(){e.props.onPress()},__source:{fileName:a,lineNumber:511}},l.default.createElement(c.default,{style:L.mineItemContainer,__source:{fileName:a,lineNumber:512}},l.default.createElement(p.default,{source:this.props.icon,style:L.mineItemIcon,__source:{fileName:a,lineNumber:513}}),l.default.createElement(s.default,{style:L.mineItemText,__source:{fileName:a,lineNumber:514}},this.props.title," "),l.default.createElement(p.default,{source:n(100),style:L.mineItemArrow,__source:{fileName:a,lineNumber:515}})))}}]),t}(),M=function(e){function t(){N(this,t);var e=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._startDownload=function(){S.downloadBasicInfo(function(t,n){e.setState(function(e){return r({},e,{progress:t,totalNum:n})})})},e._stopDownload=function(){console.log("_stopDownload")},e.componentDidMount=function(){var t=e.props,n=t.progress,a=t.totalNum,i=t.finishText;e.setState(function(e){return r({},e,{progress:n,totalNum:a,finishText:i})})},e.state={progress:0,totalNum:100,finishText:""},e}return w(t,o.Component),i(t,[{key:"render",value:function(){var e=this;return l.default.createElement(m.default,{onPress:function(){e.props.onPress()},__source:{fileName:a,lineNumber:568}},l.default.createElement(c.default,{style:L.mineItemContainer,__source:{fileName:a,lineNumber:569}},l.default.createElement(p.default,{source:this.props.icon,style:L.mineItemIcon,__source:{fileName:a,lineNumber:570}}),l.default.createElement(s.default,{style:L.mineItemText,__source:{fileName:a,lineNumber:571}},this.props.title," "),l.default.createElement(y.CircleProgressBar,{startDownload:this._startDownload,stopDownload:this._stopDownload,progress:this.state.progress,totalNum:this.state.totalNum,finishText:this.state.finishText,__source:{fileName:a,lineNumber:572}})))}}]),t}(),L=u.default.create({container:{backgroundColor:"#F9F9F9",width:T,height:P},mineAvatar:{width:308,height:115,alignSelf:"center",marginTop:32},mineName:{marginTop:13,alignSelf:"center",fontSize:13,color:"#597385",marginLeft:46,marginRight:46,marginBottom:20},mineWave:{width:T,height:37,alignSelf:"center",marginTop:20},mineItemContainer:{height:50,alignItems:"center",flexDirection:"row",backgroundColor:"#ffffff"},mineItemIcon:{width:30,height:30,marginLeft:15},mineItemText:{marginLeft:10,flex:1,fontSize:14,color:"#6f899b"},mineItemArrow:{width:5,height:12,marginRight:17},mineItemLine:{height:1,marginLeft:22,backgroundColor:"#f7f7f7"}})},537:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\offline\\OfflineMangePage.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=y(i),l=y(n(3)),u=y(n(6)),s=y(n(2)),c=y(n(12)),f=y(n(27)),d=y(n(19)),p=y(n(7)),m=y(n(8)),g=y(n(9)),h=y(n(165)),_=y(n(36));function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=g.default.get("window"),w=E.width,I=E.height,T=function(e){function t(){b(this,t);var e=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._gotoDownloadPage=function(){var t=e.props.navigation;storage.pushNext(t,"OfflineDownloadPage")},e._gotoOfflineManage=function(){var t=e.props.navigation;storage.pushNext(t,"OfflineAsyncPage")},e._gotoOfflineMode=function(){_.default.toOffLine(),storage.gotoMainPage(e.props.navigation)},e}return N(t,i.Component),r(t,[{key:"render",value:function(){var e=this;return o.default.createElement(f.default,{style:S.container,__source:{fileName:a,lineNumber:53}},o.default.createElement(c.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:54}}),o.default.createElement(d.default,{bounces:!1,__source:{fileName:a,lineNumber:55}},o.default.createElement(s.default,{style:{backgroundColor:"#ffffff"},__source:{fileName:a,lineNumber:56}},o.default.createElement(p.default,{source:n(536),style:S.mineAvatar,__source:{fileName:a,lineNumber:57}}),o.default.createElement(u.default,{style:S.mineName,__source:{fileName:a,lineNumber:58}},"离线管理支持您在没有网络状态下完成查阅单据、浏览模型、图纸，编辑业务单据等基本业务操作。为了便于您更好的离线体验，请选择下列必备的数据预先下载至您的手机上。")),o.default.createElement(s.default,{style:{backgroundColor:"#F9F9F9",height:10,flex:1},__source:{fileName:a,lineNumber:60}}),o.default.createElement(P,{icon:n(535),title:"离线数据下载",onPress:function(){return e._gotoDownloadPage()},__source:{fileName:a,lineNumber:61}}),o.default.createElement(s.default,{style:S.mineItemLine,__source:{fileName:a,lineNumber:62}}),o.default.createElement(P,{icon:n(534),title:"离线进程跟踪",onPress:function(){return e._gotoOfflineManage()},__source:{fileName:a,lineNumber:63}}),o.default.createElement(s.default,{style:S.mineItemLine,__source:{fileName:a,lineNumber:64}}),o.default.createElement(h.default,{text:"进入离线模式",onClick:function(){e._gotoOfflineMode()},style:{marginTop:50,width:297,height:40,alignSelf:"center"},__source:{fileName:a,lineNumber:66}})))}}]),t}();T.navigationOptions={title:"离线管理"},t.default=T;var P=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,i.Component),r(t,[{key:"render",value:function(){var e=this;return o.default.createElement(m.default,{onPress:function(){e.props.onPress()},__source:{fileName:a,lineNumber:78}},o.default.createElement(s.default,{style:S.mineItemContainer,__source:{fileName:a,lineNumber:79}},o.default.createElement(p.default,{source:this.props.icon,style:S.mineItemIcon,__source:{fileName:a,lineNumber:80}}),o.default.createElement(u.default,{style:S.mineItemText,__source:{fileName:a,lineNumber:81}},this.props.title," "),o.default.createElement(p.default,{source:n(100),style:S.mineItemArrow,__source:{fileName:a,lineNumber:82}})))}}]),t}(),S=l.default.create({container:{backgroundColor:"#F9F9F9",width:w,height:I},mineAvatar:{width:308,height:115,alignSelf:"center",marginTop:32},mineName:{marginTop:13,alignSelf:"center",fontSize:13,color:"#597385",marginLeft:46,marginRight:46,marginBottom:20},mineWave:{width:w,height:37,alignSelf:"center",marginTop:20},mineItemContainer:{height:50,alignItems:"center",flexDirection:"row",backgroundColor:"#ffffff"},mineItemIcon:{width:30,height:30,marginLeft:10},mineItemText:{marginLeft:10,flex:1,fontSize:14,color:"#6f899b"},mineItemArrow:{width:5,height:12,marginRight:20},mineItemLine:{height:1,marginLeft:22,backgroundColor:"#f7f7f7"}})},538:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.gotoPage=function(e){return function(t){t(function(e){return{type:r.FORGOT_STEP,page:e}}(e))}},t.init=function(){return function(e){e({type:r.FORGOT_INIT})}},t.imageCode=function(){return function(e){a.default.forgotCaptchaUrl().then(function(t){var n=t.uri,a=t.signupKey;e(function(e,t){return{type:r.FORGOT_IMAGE_CODE,url:e,signupKey:t}}(n,a))}).catch(function(t){e(o(t))})}},t.userCheck=function(e){return function(t){a.default.forgotCheck(e).then(function(n){var a=n.success,i=n.statusCode,l=n.errorMessage;t(1==a&&200==i?function(e){return{type:r.FORGOT_USER_CHECK,userName:e}}(e):o(null,i,l))}).catch(function(e){t(o(e))})}},t.phoneCode=function(e,t,n){return function(i){a.default.forgotCode(e,t,n).then(function(t){var n=t.success,a=t.statusCode,l=t.errorMessage;i(1==n&&200==a?function(e){return{type:r.FORGOT_PHONE_CODE,userName:e}}(e):o(null,a,l))}).catch(function(e){i(o(e))})}},t.phoneCodeVerify=function(e,t){return function(n){a.default.forgotCodeVerify(e,t).then(function(e){var a=e.success,i=e.statusCode,l=e.errorMessage;n(1==a&&200==i?function(e){return{type:r.FORGOT_PHONE_CODE_VERIFY,verifyCode:e}}(t):o(null,i,l))}).catch(function(e){n(o(e))})}},t.reset=function(e,t,n){return function(i){a.default.forgotReset(e,t,n).then(function(e){var t=e.success,n=e.statusCode,a=e.errorMessage;i(1==t&&200==n?{type:r.FORGOT_RESET}:o(null,n,a))}).catch(function(e){i(o(e))})}};var a=i(n(10)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(277));i(n(56));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return e?{type:r.FORGOT_ERROR,errorMessage:"请求出错"}:{type:r.FORGOT_ERROR,statusCode:t,errorMessage:n}}},548:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\equipment\\equipmentDetailView.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=(N(n(547)),n(48)),l=N(n(10)),u=n(16),s=n(54),c=N(n(0)),f=n(1),d=N(f),p=N(n(9)),m=N(n(7)),g=N(n(91)),h=N(n(3)),_=N(n(6)),y=N(n(2)),b=N(n(252)),v=N(n(336));function N(e){return e&&e.__esModule?e:{default:e}}var E=n(340),w=n(339),I=p.default.get("window").width,T="gldPhoto",P=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onOpenModleAction=function(e){s.BimFileEntry.chooseEquipmentModelFromNew(null,e.gdocFileId,e.elementId,e.buildingId,e.buildingName)},n.renderImage=function(e){var t=null;if(t=!0===e.qualified?E:w)return d.default.createElement(m.default,{source:t,style:[S.image],__source:{fileName:r,lineNumber:84}})},n._onOpenEditBaseInfoAction=function(e){var t=a({},e,{preEditType:l.default.EQUIPMENT_EDIT_TYPE_CONFIRM,editType:l.default.EQUIPMENT_EDIT_TYPE_BASE});n.props.switchPage(t)},n._onOpenEditOtherInfoAction=function(e){var t=a({},e,{preEditType:l.default.EQUIPMENT_EDIT_TYPE_CONFIRM,editType:l.default.EQUIPMENT_EDIT_TYPE_OTHER});n.props.switchPage(t)},n._onOpenEditImageInfoAction=function(e){var t=a({},e,{preEditType:l.default.EQUIPMENT_EDIT_TYPE_CONFIRM,editType:l.default.EQUIPMENT_EDIT_TYPE_IMAGE});n.props.switchPage(t)},n._onSaveAction=function(e){n.props.save(e)},n._onDeleteAction=function(e){u.ActionModal.alertConfirm("是否确认删除？","删除当前数据后，数据不可恢复哦！",{text:"取消"},{text:"删除",onPress:function(){n.props.equipmentDelete(e.id)}})},n.setDefaultCompany=function(){if(n.props.acceptanceCompanies&&n.props.acceptanceCompanies.length>0&&!n.props.equipmentInfo.acceptanceCompanyId){var e=n.props.acceptanceCompanies[0],t=n.props.equipmentInfo.acceptanceCompanyName,a=n.props.equipmentInfo.acceptanceCompanyId;if(t==e.name&&a==e.id)return;n.props.equipmentInfo.acceptanceCompanyName=e.name,n.props.equipmentInfo.acceptanceCompanyId=e.id,n.setState({updateIndex:n.updateIndex++})}},n.showActionSheet=function(){g.default.dismiss(),o.PullPicker.show("选择验收单位",n.props.acceptanceCompanies,n.getSelectedCompaniesIndex(),function(e,t){n.props.equipmentInfo.acceptanceCompanyName=e.name,n.props.equipmentInfo.acceptanceCompanyId=e.id;var a=n.check(n.props.equipmentInfo);n.setState({updateIndex:n.updateIndex++,allowNextAction:!1,ret:a})},{getItemText:function(e,t){return e.name}})},n.getSelectedCompaniesIndex=function(){var e=n.props.equipmentInfo.acceptanceCompanyId;if(!e)return 0;for(var t=0;n.props.acceptanceCompanies&&t<n.props.acceptanceCompanies.length;t++)if(e===n.props.acceptanceCompanies[t].id)return t;return 0},n.renderBaseInfo=function(e){var t=s.AuthorityManager.isEquipmentModify()&&!n.props.committed;return d.default.createElement(y.default,{style:{paddingTop:20,paddingBottom:10,backgroundColor:"#ffffff"},__source:{fileName:r,lineNumber:157}},d.default.createElement(v.default,{leftTitle:"基本信息",showType:"headerInfo",onClick:t?function(){n._onOpenEditBaseInfoAction(e)}:null,__source:{fileName:r,lineNumber:158}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:160}}),d.default.createElement(v.default,{leftTitle:"验收单位：",content:e.acceptanceCompanyName,__source:{fileName:r,lineNumber:161}}),d.default.createElement(v.default,{leftTitle:"批次编号：",content:e.batchCode,__source:{fileName:r,lineNumber:162}}),d.default.createElement(v.default,{leftTitle:"进场日期：",content:e.approachDate?l.default.formatUnixtimestampSimple(e.approachDate):null,__source:{fileName:r,lineNumber:163}}),d.default.createElement(v.default,{leftTitle:"材设编码：",content:e.facilityCode,__source:{fileName:r,lineNumber:164}}),d.default.createElement(v.default,{leftTitle:"材设名称：",content:e.facilityName,__source:{fileName:r,lineNumber:165}}),n.renderImage(e),d.default.createElement(y.default,{style:{height:40,width:"100%"},__source:{fileName:r,lineNumber:167}}))},n.renderOtherInfo=function(e){var t=s.AuthorityManager.isEquipmentModify()&&!n.props.committed;return d.default.createElement(y.default,{style:{marginTop:20,paddingTop:10,paddingBottom:10,backgroundColor:"#ffffff"},__source:{fileName:r,lineNumber:172}},d.default.createElement(v.default,{leftTitle:"其他信息",showType:"headerInfo",onClick:t?function(){n._onOpenEditOtherInfoAction(e)}:null,__source:{fileName:r,lineNumber:173}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:175}}),d.default.createElement(v.default,{leftTitle:"进场数量：",content:e.quantity,__source:{fileName:r,lineNumber:176}}),d.default.createElement(v.default,{leftTitle:"单位：",content:e.unit,__source:{fileName:r,lineNumber:177}}),d.default.createElement(v.default,{leftTitle:"规格：",content:e.specification,__source:{fileName:r,lineNumber:178}}),d.default.createElement(v.default,{leftTitle:"型号：",content:e.modelNum,__source:{fileName:r,lineNumber:179}}),d.default.createElement(v.default,{leftTitle:"构件位置：",showType:"link",onClick:function(){g.default.dismiss(),n.onOpenModleAction(e)},content:e.elementName,__source:{fileName:r,lineNumber:180}}),d.default.createElement(v.default,{leftTitle:"厂家：",content:e.manufacturer,__source:{fileName:r,lineNumber:184}}),d.default.createElement(v.default,{leftTitle:"品牌：",content:e.brand,__source:{fileName:r,lineNumber:185}}),d.default.createElement(v.default,{leftTitle:"供应商：",content:e.supplier,__source:{fileName:r,lineNumber:186}}),d.default.createElement(y.default,{style:{height:40,width:"100%"},__source:{fileName:r,lineNumber:187}}))},n.renderImageInfo=function(e){var t=s.AuthorityManager.isEquipmentModify()&&!n.props.committed,a=null;if(e.files&&e.files.length){var i=[];e.files.map(function(e,t){i.push(e)}),a=i.length>1?d.default.createElement(v.default,{urls:i,showType:"images",__source:{fileName:r,lineNumber:199}}):d.default.createElement(v.default,{url:i[0],showType:"image",__source:{fileName:r,lineNumber:199}})}return d.default.createElement(y.default,{style:{marginTop:20,paddingTop:10,paddingBottom:10,backgroundColor:"#ffffff"},__source:{fileName:r,lineNumber:202}},d.default.createElement(v.default,{leftTitle:"现场照片",showType:"headerInfo",onClick:t?function(){n._onOpenEditImageInfoAction(e)}:null,__source:{fileName:r,lineNumber:203}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:205}}),a)},n.renderActionSaveInfo=function(e){return s.AuthorityManager.isEquipmentModify()&&!n.props.committed?d.default.createElement(y.default,{style:{marginTop:20},__source:{fileName:r,lineNumber:212}},d.default.createElement(u.StatusActionButton,{style:{height:40,marginRight:40,marginLeft:40,backgroundColor:"#00b5f2"},text:"保存",color:"#ffffff",onClick:function(){return n._onSaveAction(e)},__source:{fileName:r,lineNumber:213}})):null},n.renderActionDeleteInfo=function(e){return s.AuthorityManager.isEquipmentDelete()&&!n.props.committed&&e.id?d.default.createElement(y.default,{style:{marginTop:20},__source:{fileName:r,lineNumber:220}},d.default.createElement(u.StatusActionButton,{style:{height:40,marginRight:40,marginLeft:40,backgroundColor:"#ffffff"},text:"删除",color:"#000000",onClick:function(){return n._onDeleteAction(e)},__source:{fileName:r,lineNumber:221}})):null},n.renderActionNextInfo=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.preEditType&&e.preEditType===l.default.EQUIPMENT_EDIT_TYPE_CONFIRM?a?null:d.default.createElement(y.default,{style:{marginTop:0},__source:{fileName:r,lineNumber:243}},d.default.createElement(u.StatusActionButton,{text:"确定",style:{height:40,marginRight:40,marginLeft:40,backgroundColor:"#00b5f2"},color:"#ffffff",onClick:function(){return t(e)},__source:{fileName:r,lineNumber:244}})):a?d.default.createElement(y.default,{style:{marginTop:-20},__source:{fileName:r,lineNumber:249}},d.default.createElement(u.StatusActionButton,{style:{height:40,marginRight:40,marginLeft:40,backgroundColor:"transparent",elevation:0},disabled:!1,color:"#00b5f2",text:"跳过",onClick:function(){return t(e)},__source:{fileName:r,lineNumber:250}})):d.default.createElement(y.default,{style:{marginTop:0},__source:{fileName:r,lineNumber:253}},d.default.createElement(u.StatusActionButton,{ref:"nextAction",style:{height:40,marginRight:40,marginLeft:40,backgroundColor:n.state.allowNextAction?"#00b5f2":"#C8C8C8"},disabled:!1,text:"下一步",color:"#ffffff",onClick:function(){return t(e)},__source:{fileName:r,lineNumber:254}}))},n.check=function(e){return e&&e.acceptanceCompanyName&&e.acceptanceCompanyName.length>0&&e.batchCode&&e.batchCode.length>0&&e.approachDate&&e.approachDate>0&&e.facilityCode&&e.facilityCode.length>0&&e.facilityName&&e.facilityName.length>0},n._checkBasicInfo=function(e){var t=n.check(e);return t!=n.state.allowNextAction&&(n.state.allowNextAction=t,n.refs.nextAction&&n.refs.nextAction.setNativeProps&&n.refs.nextAction.setNativeProps({style:{backgroundColor:n.state.allowNextAction?"#00b5f2":"#C8C8C8",shadowColor:n.state.allowNextAction?"#00b5f2":"#C8C8C8"}})),t},n._toOtherInfoAction=function(e){if(n._checkBasicInfo(e)){var t=a({},e,{preEditType:l.default.EQUIPMENT_EDIT_TYPE_BASE,editType:l.default.EQUIPMENT_EDIT_TYPE_OTHER});e.preEditType&&e.preEditType===l.default.EQUIPMENT_EDIT_TYPE_CONFIRM&&(t=a({},t,{preEditType:l.default.EQUIPMENT_EDIT_TYPE_CONFIRM,editType:l.default.EQUIPMENT_EDIT_TYPE_CONFIRM})),n.props.switchPage(t)}},n._toImageInfoAction=function(e){var t=a({},e,{skip:!1,preEditType:l.default.EQUIPMENT_EDIT_TYPE_OTHER,editType:l.default.EQUIPMENT_EDIT_TYPE_IMAGE});e.preEditType&&e.preEditType===l.default.EQUIPMENT_EDIT_TYPE_CONFIRM&&(t=a({},t,{preEditType:l.default.EQUIPMENT_EDIT_TYPE_CONFIRM,editType:l.default.EQUIPMENT_EDIT_TYPE_CONFIRM})),n.props.switchPage(t)},n._toImageInfoSkipAction=function(e){var t=a({},e,{skip:!0,preEditType:l.default.EQUIPMENT_EDIT_TYPE_OTHER,editType:l.default.EQUIPMENT_EDIT_TYPE_IMAGE});n.props.switchPage(t)},n._toConfirmInfoAction=function(e){!0===e.skip&&(e.skip=!1,e.quantity="",e.unit="",e.specification="",e.modelNum="",e.elementId="",e.elementName="",e.manufacturer="",e.brand="",e.supplier=""),n.refs[T]._loadFile(function(t){n._addUrlPropsToFiles(t),e.files=t;var r=a({},e,{preEditType:l.default.EQUIPMENT_EDIT_TYPE_IMAGE,editType:l.default.EQUIPMENT_EDIT_TYPE_CONFIRM});e.preEditType&&e.preEditType===l.default.EQUIPMENT_EDIT_TYPE_CONFIRM&&(r=a({},r,{preEditType:l.default.EQUIPMENT_EDIT_TYPE_CONFIRM,editType:l.default.EQUIPMENT_EDIT_TYPE_CONFIRM})),n.props.switchPage(r)})},n.renderBaseEdit=function(e){return d.default.createElement(y.default,{style:{paddingTop:10,paddingBottom:10},__source:{fileName:r,lineNumber:343}},d.default.createElement(v.default,{leftTitle:"请依次完成下列内容输入",leftTitleColor:"#00b5f2",showType:"headerInfo",__source:{fileName:r,lineNumber:345}}),d.default.createElement(y.default,{style:{marginTop:0,paddingTop:10,paddingBottom:10,backgroundColor:"#ffffff"},__source:{fileName:r,lineNumber:346}},d.default.createElement(v.default,{leftTitle:"验收单位：",content:e.acceptanceCompanyName,showType:"info",onClick:function(){n.showActionSheet()},__source:{fileName:r,lineNumber:348}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:349}}),d.default.createElement(v.default.EquipmentInfoItemTextInput,{key:"b1",leftTitle:"批次编号：",content:e.batchCode?e.batchCode:"",showType:"input",onChangeText:function(t){e.batchCode=t,n._checkBasicInfo(e)},__source:{fileName:r,lineNumber:350}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:352}}),d.default.createElement(b.default,{title:"进场日期：",titleStyle:{fontWeight:"200"},contentStyle:{color:"#666666",fontWeight:"100"},date:e.approachDate,onDateChange:function(t){e.approachDate=t.getTime(),n._checkBasicInfo(e),n.props.switchPage(a({},e))},__source:{fileName:r,lineNumber:353}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:358}}),d.default.createElement(v.default.EquipmentInfoItemTextInput,{key:"b2",leftTitle:"材设编码：",content:e.facilityCode,showType:"input",onChangeText:function(t){e.facilityCode=t,n._checkBasicInfo(e)},__source:{fileName:r,lineNumber:361}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:362}}),d.default.createElement(v.default.EquipmentInfoItemTextInput,{key:"b3",leftTitle:"材设名称：",content:e.facilityName,showType:"input",onChangeText:function(t){e.facilityName=t,n._checkBasicInfo(e)},__source:{fileName:r,lineNumber:363}})),d.default.createElement(y.default,{style:{marginTop:20},__source:{fileName:r,lineNumber:366}},n.renderActionNextInfo(e,n._toOtherInfoAction)),d.default.createElement(y.default,{style:{height:40,width:"100%"},__source:{fileName:r,lineNumber:369}}))},n.renderOtherEdit=function(e){return d.default.createElement(y.default,{style:{paddingTop:10,paddingBottom:10},__source:{fileName:r,lineNumber:373}},d.default.createElement(v.default,{leftTitle:"请根据需要选择完成下列内容输入",leftTitleColor:"#00b5f2",showType:"headerInfo",__source:{fileName:r,lineNumber:374}}),d.default.createElement(y.default,{style:{marginTop:0,paddingTop:10,paddingBottom:10,backgroundColor:"#ffffff"},__source:{fileName:r,lineNumber:375}},d.default.createElement(v.default.EquipmentInfoItemTextInput,{key:"b4",leftTitle:"进场数量：",content:e.quantity,showType:"input",onChangeText:function(t){e.quantity=t},__source:{fileName:r,lineNumber:376}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:377}}),d.default.createElement(v.default.EquipmentInfoItemTextInput,{key:"b5",leftTitle:"单位：",content:e.unit,showType:"input",onChangeText:function(t){e.unit=t},__source:{fileName:r,lineNumber:378}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:379}}),d.default.createElement(v.default.EquipmentInfoItemTextInput,{key:"b6",leftTitle:"规格：",content:e.specification,showType:"input",onChangeText:function(t){e.specification=t},__source:{fileName:r,lineNumber:380}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:381}}),d.default.createElement(v.default.EquipmentInfoItemTextInput,{key:"b7",leftTitle:"型号：",content:e.modelNum,showType:"input",onChangeText:function(t){e.modelNum=t},__source:{fileName:r,lineNumber:382}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:383}}),d.default.createElement(v.default,{leftTitle:"构件位置：",showType:"info",onClick:function(){n.onOpenModleAction(e)},content:e.elementName,__source:{fileName:r,lineNumber:384}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:387}}),d.default.createElement(v.default.EquipmentInfoItemTextInput,{key:"b8",leftTitle:"厂家：",content:e.manufacturer,showType:"input",onChangeText:function(t){e.manufacturer=t},__source:{fileName:r,lineNumber:388}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:389}}),d.default.createElement(v.default.EquipmentInfoItemTextInput,{key:"b9",leftTitle:"品牌：",content:e.brand,showType:"input",onChangeText:function(t){e.brand=t},__source:{fileName:r,lineNumber:390}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:391}}),d.default.createElement(v.default.EquipmentInfoItemTextInput,{key:"b10",leftTitle:"供应商：",content:e.supplier,showType:"input",onChangeText:function(t){e.supplier=t},__source:{fileName:r,lineNumber:392}})),d.default.createElement(y.default,{style:{marginTop:20},__source:{fileName:r,lineNumber:395}},n.renderActionNextInfo(e,n._toImageInfoAction)),d.default.createElement(y.default,{style:{marginTop:20},__source:{fileName:r,lineNumber:398}},n.renderActionNextInfo(e,n._toImageInfoSkipAction,!0)),d.default.createElement(y.default,{style:{height:40,width:"100%"},__source:{fileName:r,lineNumber:401}}))},n.onChangeSwitch=function(e,t){var r=a({},t,{qualified:1==e});n.props.switchPage(r)},n.renderImageEdit=function(e){return!1===e.qualified?e.qualified=!1:e.qualified=!0,d.default.createElement(y.default,{style:{paddingTop:10,paddingBottom:10},__source:{fileName:r,lineNumber:414}},d.default.createElement(v.default,{leftTitle:"您可记录现场图片",leftTitleColor:"#00b5f2",showType:"headerInfo",__source:{fileName:r,lineNumber:415}}),d.default.createElement(y.default,{style:{paddingLeft:0,marginTop:0,paddingTop:10,paddingBottom:0,backgroundColor:"#ffffff"},__source:{fileName:r,lineNumber:416}},d.default.createElement(u.ImageChooserView,{ref:T,files:e.files,style:{top:0,left:0,width:I,height:105,marginLeft:20,marginRight:20},__source:{fileName:r,lineNumber:417}}),d.default.createElement(v.default,{showType:"line",__source:{fileName:r,lineNumber:418}}),d.default.createElement(y.default,{style:{marginLeft:20,marginRight:20,marginTop:0,flexDirection:"row",height:50,alignContent:"center",alignItems:"center",justifyContent:"flex-start"},__source:{fileName:r,lineNumber:419}},d.default.createElement(_.default,{style:{color:"#666666",flex:1},__source:{fileName:r,lineNumber:426}},"验收合格:"),d.default.createElement(u.BimSwitch,{value:!0===e.qualified,onValueChange:function(t){n.onChangeSwitch(t,e)},__source:{fileName:r,lineNumber:427}}))),d.default.createElement(y.default,{style:{marginTop:20},__source:{fileName:r,lineNumber:430}},n.renderActionNextInfo(e,n._toConfirmInfoAction)))},n.render=function(){var e=n.props.equipmentInfo,t=e.editType;return t||(e.id?e.editType=l.default.EQUIPMENT_EDIT_TYPE_CONFIRM:e.editType=l.default.EQUIPMENT_EDIT_TYPE_BASE,t=e.editType),t==l.default.EQUIPMENT_EDIT_TYPE_BASE?n.renderBaseEdit(e):t==l.default.EQUIPMENT_EDIT_TYPE_IMAGE?n.renderImageEdit(e):t==l.default.EQUIPMENT_EDIT_TYPE_OTHER?n.renderOtherEdit(e):d.default.createElement(y.default,{__source:{fileName:r,lineNumber:459}},n.renderBaseInfo(e),n.renderOtherInfo(e),n.renderImageInfo(e),n.renderActionSaveInfo(e),n.renderActionDeleteInfo(e),d.default.createElement(y.default,{style:{height:40,width:"100%"},__source:{fileName:r,lineNumber:465}}))},n.state={updateIndex:0,allowNextAction:!0},n.props.equipmentInfo||(n.props.equipmentInfo={}),n.props.equipmentInfo.approachDate||(n.props.equipmentInfo.approachDate=(new Date).getTime()),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),i(t,[{key:"componentDidMount",value:function(){var e=this.props.equipmentInfo;this.check(e)||this.setState({allowNextAction:!1})}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setDefaultCompany()}},{key:"_onConfirmAction",value:function(e){var t=this;if(this._checkBasicInfo(e)){this.refs[T]._loadFile(function(n){t._addUrlPropsToFiles(n),e.files=n;var r=a({},e,{preEditType:l.default.EQUIPMENT_EDIT_TYPE_IMAGE,editType:l.default.EQUIPMENT_EDIT_TYPE_CONFIRM});t.props.switchPage(r)});var n=a({},e,{preEditType:l.default.EQUIPMENT_EDIT_TYPE_IMAGE,editType:l.default.EQUIPMENT_EDIT_TYPE_CONFIRM});this.props.switchPage(n)}}},{key:"_addUrlPropsToFiles",value:function(e){e.map(function(e){var t=e.path;t&&!t.startsWith("http")&&(t="file://"+t,e.url=t)})}}]),t}();t.default=P,P.propTypes={equipmentInfo:c.default.any.isRequired,acceptanceCompanies:c.default.any.isRequired,switchPage:c.default.func.isRequired,save:c.default.func.isRequired,equipmentDelete:c.default.func.isRequired,committed:c.default.bool};var S=h.default.create({image:{marginTop:16,width:75,height:75,right:20,bottom:-7,position:"absolute",resizeMode:"contain"}})},549:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(64)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.isEditInfoChange=function(e,t,n){!function(e,t){if(e.acceptanceCompanyName!=t.acceptanceCompanyName)return!0;if(e.batchCode!=t.batchCode)return!0;if(e.approachDate!=t.approachDate)return!0;if(e.facilityCode!=t.facilityCode)return!0;if(e.facilityName!=t.facilityName)return!0;if(e.quantity!=t.quantity)return!0;if(e.unit!=t.unit)return!0;if(e.specification!=t.specification)return!0;if(e.modelNum!=t.modelNum)return!0;if(e.elementId!=t.elementId)return!0;if(e.elementName!=t.elementName)return!0;if(e.manufacturer!=t.manufacturer)return!0;if(e.brand!=t.brand)return!0;if(e.supplier!=t.supplier)return!0;if(e.qualified!=t.qualified)return!0;if(e.qualified!=t.qualified)return!0;var n=e.files?JSON.stringify(e.files):"",a=t.files?JSON.stringify(t.files):"";if(n!=a)return console.log(">>>>>f1:"+n+"\n>>>>>f2:"+a),!0;return!1}(e,t)?n(!1):n(!0)},t.submit=function(e,t){var n=r({},e);delete n.editType,delete n.preEditType,delete n.skip,n.projectId=storage.loadProject(),n.projectName=storage.loadCurrentProjectName();var o=e.id;return h(),function(r){g(e.files,function(s){s&&(n.files=s,e.files=s);var c=d(n);(o+"").startsWith("_")&&u.default.isOnLine()?i.default.equipmentCreateSubmit(storage.loadProject(),c).then(function(e){a.default.hide(),r(l.updateData()),storage.goBack(t,null)}).catch(function(e){a.default.hide(),console.log(e)}):o&&0!=o?i.default.equipmentEditSubmit(storage.loadProject(),o,c).then(function(e){a.default.hide(),r(l.updateData()),storage.goBack(t,null)}).catch(function(e){a.default.hide(),console.log(e)}):i.default.equipmentCreateSubmit(storage.loadProject(),c).then(function(e){a.default.hide(),r(l.updateData()),storage.goBack(t,null)}).catch(function(e){a.default.hide(),console.log(e)})})}},t.save=function(e){var t=r({},e);delete t.editType,delete t.preEditType,delete t.skip,t.projectId=storage.loadProject(),t.projectName=storage.loadCurrentProjectName();var n=t.id;return h(),function(r){g(t.files,function(o){o&&(t.files=o,e.files=o);var s=d(t);(n+"").startsWith("_")&&u.default.isOnLine()?i.default.equipmentCreateSave(storage.loadProject(),s).then(function(t){console.log(t),e.id=t.data.id,e.code=t.data.code,r(l.updateData()),u.default.isOnLine()&&p(r,e.id),a.default.success("保存成功",1)}).catch(function(e){console.log(e),a.default.hide()}):n&&0!=n?i.default.equipmentEditSave(storage.loadProject(),n,s).then(function(e){r(l.updateData()),p(r,n),a.default.success("保存成功",1)}).catch(function(e){a.default.hide(),console.log(e)}):i.default.equipmentCreateSave(storage.loadProject(),s).then(function(t){console.log(t),e.id=t.data.id,e.code=t.data.code,r(l.updateData()),u.default.isOnLine()&&p(r,e.id),a.default.success("保存成功",1)}).catch(function(e){console.log(e),a.default.hide()})})}},t.equipmentDelete=function(e,t){return function(n){i.default.equipmentDelete(storage.loadProject(),e).then(function(e){a.default.hide(),n(l.updateData()),storage.goBack(t,null)}).catch(function(e){console.log(e),a.default.hide()})}},t.fetchData=function(e){return function(t){!function(e){i.default.equipmentAcceptanceCompanies(storage.loadProject()).then(function(t){e(function(e){return{type:o.EQUIPMENT_ACCEPTANCE_COMPANIES,acceptanceCompanies:e}}(t.data))}).catch(function(e){})}(t),e?p(t,e):t(_({}))}},t.getModelElementProperty=function(e,t){return function(n){i.default.getModelElementProperty(storage.loadProject(),storage.projectIdVersionId,e.gdocFileId,e.elementId).then(function(a){t||(t={}),t.gdocFileId=e.gdocFileId,t.buildingId=e.buildingId,t.buildingName=e.buildingName,t.elementId=e.elementId,t.elementName=a.data.data.name,t.approachDate=(new Date).getTime(),n(y(r({},t)))}).catch(function(e){console.log(e)})}},t.switchPage=function(e){return function(t){t(y(e))}},t.reset=function(){return function(e){e({type:o.EQUIPMENT_INFO_INIT})}},n(63);var i=f(n(10)),o=c(n(273)),l=c(n(143)),u=f(n(36)),s=f(n(41));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n=r({},e);return n.files=function(e){var t=[];return e&&e.map(function(e){var n={name:e.name,objectId:e.objectId,extension:e.extension,digest:e.digest,uploadTime:e.uploadTime};t.push(n)}),t}(e.files),JSON.stringify(n)}function p(e,t){var n=t+"";n.startsWith("_")?s.default.getEquipmentManager().getQualityDetail(n).then(function(t){t.data.files&&t.data.files.length>0?m(t.data.files,function(n){t.data.files=n,e(_(t.data))}):e(_(t.data))}).catch(function(t){e(b(t))}):i.default.equipmentDetail(storage.loadProject(),t).then(function(t){t.data.files&&t.data.files.length>0?m(t.data.files,function(n){t.data.files=n,e(_(t.data))}):e(_(t.data))}).catch(function(t){e(b(t))})}function m(e,t){var n=e.length;e.map(function(a,r){i.default.getBimFileUrl(a.objectId,function(a,i){n--,a&&(e[r].url=i),n<1&&t(e)}).catch(function(a){--n<1&&t(e)})})}function g(e,t){e&&e.length>0?i.default.upLoadFiles(e,function(e,n){"success"===e?t(n):(a.default.hide(),a.default.info("上传图片失败",1))}):t()}function h(){a.default.loading("加载中...",0,null,!0)}function _(e){return{type:o.EQUIPMENT_INFO_DONE,data:e}}function y(e){return{type:o.EQUIPMENT_INFO_PAGE,data:e}}function b(e){return{type:o.EQUIPMENT_INFO_ERROR,error:e}}},550:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EquipmentListTitle=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\equipment\\equipmentList.js",o=n(1),l=v(o),u=v(n(3)),s=v(n(2)),c=v(n(12)),f=v(n(9)),d=v(n(6)),p=v(n(14)),m=n(48),g=v(n(10)),h=n(54),_=v(n(342)),y=n(16),b=v(n(36));function v(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=f.default.get("window"),T=I.width,P=I.height,S=t.EquipmentListTitle=function(e){function t(){var e,n,a;N(this,t);for(var o=arguments.length,u=Array(o),c=0;c<o;c++)u[c]=arguments[c];return n=a=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.render=function(){var e=a.props,t=e.text,n=e.activeTitleStyle,o=e.titleStyle,u=e.select,c=e.badge,f=e.style,g=28,h=0;return t.length>=3&&(g=42,h=0),t=t,l.default.createElement(s.default,{style:{paddingTop:"web"===p.default.OS?7:4,overflow:"visible",alignItems:"center",paddingRight:20,justifyContent:"center"},__source:{fileName:i,lineNumber:25}},l.default.createElement(d.default,{style:[r({},f),u?n:o],__source:{fileName:i,lineNumber:29}},t),l.default.createElement(s.default,{style:{width:g,height:3,marginTop:0,alignSelf:"center",overflow:"visible"},__source:{fileName:i,lineNumber:30}},u?l.default.createElement(s.default,{style:[{width:g,height:2,backgroundColor:"#00baf3",position:"absolute"},"ios"===p.default.OS?{top:12.5}:{top:8.5}],resizeMode:"contain",__source:{fileName:i,lineNumber:31}}):null),l.default.createElement(m.Badge,{count:c,style:[{position:"absolute",top:-5,right:h},c>0?{}:{backgroundColor:"#ffffff"}],__source:{fileName:i,lineNumber:33}}))},E(a,n)}return w(t,o.Component),t}(),C=function(e){function t(e){N(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._keyExtractor=function(e,t){return t},n._loadInspectionSummary=function(){if(b.default.isOnLine()){if(!h.AuthorityManager.isEquipmentBrowser())return;g.default.equipmentListNum(storage.loadProject()).then(function(e){var t=e.data,a=[0,0,0,0];g.default.EQUIPMENT_CLASSIFY_STATES_SUMMARY.map(function(e,n){var r=t[e];r&&(a[n]=r)}),n.setState({equipmentBadge:{item:a}})}).catch(function(e){})}},n.componentDidMount=function(){storage.equipmentNavigation=n.props.navigation},n._onSegmentedBarChange=function(e){n.state.activeIndex!=e&&(n.setState({activeIndex:e}),n.state.equipmentView[e].fetchData&&n.state.equipmentView[e].fetchData(g.default.EQUIPMENT_CLASSIFY_STATES[e]))},n._toTop=function(){var e=n.state.activeIndex,t=n.state.equipmentView[e];t.scrollToOffset&&t.scrollToOffset()},n.state={error:!1,errorInfo:"",qcState:"",isLoading:!0,activeIndex:0,equipmentView:[{},{},{},{}],equipmentBadge:{item:[0,0,0,0]}},n}return w(t,o.PureComponent),a(t,[{key:"renderData",value:function(){var e=this;return l.default.createElement(s.default,{style:[O.contentList],__source:{fileName:i,lineNumber:110}},l.default.createElement(c.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:i,lineNumber:111}}),l.default.createElement(m.SegmentedView,{barStyle:{width:"100%",height:44,borderBottomColor:"#e9e9e999",borderBottomWidth:1},indicatorLineWidth:0,autoScroll:!1,animated:0!=this.state.activeIndex,style:{flex:1},justifyItem:"fixed",type:"projector",onChange:function(t){return e._onSegmentedBarChange(t)},activeIndex:this.state.activeIndex,__source:{fileName:i,lineNumber:112}},g.default.EQUIPMENT_CLASSIFY_STATUS_LIST.map(function(t,n){return l.default.createElement(m.SegmentedView.Sheet,{key:t.name,title:l.default.createElement(S,{key:t.name,text:t.name,badge:e.state.equipmentBadge.item[n],select:e.state.activeIndex==n,activeTitleStyle:{color:"#00baf3",fontSize:14},titleStyle:{color:"#6f899b",fontSize:14},__source:{fileName:i,lineNumber:117}}),__source:{fileName:i,lineNumber:117}},l.default.createElement(_.default,{onRef:function(t){e.state.equipmentView[n]=t},style:{flex:1},qcState:""+t.state,updateNumber:function(){e._loadInspectionSummary()},selected:e.state.activeIndex==n,loadData:0==n,__source:{fileName:i,lineNumber:118}}))})))}},{key:"render",value:function(){return this.renderData()}}]),t}();C.navigationOptions={headerTitle:l.default.createElement(y.BarItems.TitleBarItem,{text:"材设清单",__source:{fileName:i,lineNumber:40}}),headerRight:l.default.createElement(s.default,{__source:{fileName:i,lineNumber:41}}),gesturesEnabled:!0},t.default=C;var O=u.default.create({contentList:{flex:1,backgroundColor:"#fafafa",paddingBottom:5},dataList:{top:0,height:P,backgroundColor:"green"},gray:{top:100,left:T/2-30,position:"absolute"},topBtn:{width:50,height:25,backgroundColor:"#0007",borderRadius:8,justifyContent:"center",alignItems:"center",top:P-100,left:T-60,position:"absolute"},topBtnText:{fontSize:12,color:"#fff"},headerButton:{color:"#333333",fontSize:14},container:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#F5FCFF"},containerView:{flex:1,borderRadius:8,marginTop:5,marginBottom:5,marginLeft:20,marginRight:20,backgroundColor:"#FFF",elevation:100,shadowColor:"#333",shadowOffset:{width:3,height:7},shadowOpacity:.15,shadowRadius:3}})},587:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCheckPoints=function(){return function(e){r.default.getCheckPoints(storage.loadProject()).then(function(t){var n=i(t.data,null),a=[],r=[];n.map(function(e){1==e.viewType?(e.childList=i(t.data,e.id),a.push(e)):r.push(e)}),e(o(a,r))})}},t.loadSuccess=o,t.navSuccess=function(){return{type:a.CHECK_POINT_INIT}},t.reset=function(){return{type:a.CHECK_POINT_RESET}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(276)),r=function(e){return e&&e.__esModule?e:{default:e}}(n(10));function i(e,t){var n=[];return e.map(function(a){a.parentId==t&&(function(e,t){for(var n=e,a=Array.isArray(n),r=0,n=a?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(a){if(r>=n.length)break;i=n[r++]}else{if((r=n.next()).done)break;i=r.value}var o=i;if(o.parentId==t)return!0}return!1}(e,a.id)&&(a.viewType=1),n.push(a))}),n}function o(e,t){return{type:a.CHECK_POINT_LOAD,topDirNode:e,topModelNode:t}}},601:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\navigation\\bim\\BimFileFilterView.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=h(i),l=h(n(2)),u=h(n(3)),s=h(n(6)),c=h(n(7)),f=h(n(8)),d=h(n(9)),p=h(n(73)),m=h(n(0)),g=h(n(10));h(n(36)),h(n(41));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var y=d.default.get("window"),b=y.width,v=y.height,N="special",E="building",w=n(600),I=n(363),T=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onClickFilter=function(e){r.state.show&&r.state.filterType===e?r.hideFilter():r.showFilter(e)},r.hideFilter=function(){r.setState({show:!1})},r.showFilter=function(e){r.setState({show:!0,filterType:e})},r.onFilterChange=function(e,t){if(r.hideFilter(),e===N){if(r.state.selectedSpecialty&&t.id===r.state.selectedSpecialty.id)return;r.setState({selectedSpecialty:t},function(){r.props.onFilterChange&&r.props.onFilterChange(r.state.selectedSpecialty,r.state.selectedBuilding)})}else if(e===E){if(r.state.selectedBuilding&&t.id===r.state.selectedBuilding.id)return;r.setState({selectedBuilding:t},function(){r.props.onFilterChange&&r.props.onFilterChange(r.state.selectedSpecialty,r.state.selectedBuilding)})}},r.onClickBuilding=function(){r.setState({show:!r.state.show})},r._separator=function(){return o.default.createElement(l.default,{style:{height:1,backgroundColor:"#f7f7f7",marginLeft:20},__source:{fileName:a,lineNumber:146}})},r.renderSpecialItem=function(e){var t=e.item;e.index;return o.default.createElement(f.default,{onPress:function(e){e.preventDefault(),r.onFilterChange(N,t)},__source:{fileName:a,lineNumber:152}},o.default.createElement(l.default,{style:P.specialItem,__source:{fileName:a,lineNumber:153}},o.default.createElement(s.default,{style:r.state.selectedSpecialty&&r.state.selectedSpecialty.id===t.id?P.specialItemTextSelected:P.specialItemText,__source:{fileName:a,lineNumber:154}},t.name),o.default.createElement(c.default,{style:r.state.selectedSpecialty&&r.state.selectedSpecialty.id===t.id?P.specialItemImageSelected:P.specialItemImage,source:n(197),__source:{fileName:a,lineNumber:155}})))},r.renderBuildingItem=function(e){var t=e.item;e.index;return o.default.createElement(f.default,{onPress:function(e){e.preventDefault(),r.onFilterChange(E,t)},__source:{fileName:a,lineNumber:163}},o.default.createElement(l.default,{style:P.buildingItem,__source:{fileName:a,lineNumber:164}},o.default.createElement(l.default,{style:r.state.selectedBuilding&&r.state.selectedBuilding.id===t.id?P.buildingItemBoxSelected:P.buildingItemBox,__source:{fileName:a,lineNumber:165}},o.default.createElement(s.default,{style:r.state.selectedBuilding&&r.state.selectedBuilding.id===t.id?P.buildingItemTextSelected:P.buildingItemText,__source:{fileName:a,lineNumber:166}},t.name))))},r.renderFilterView=function(){return o.default.createElement(l.default,{style:{width:b,height:192,backgroundColor:"#ffffff"},__source:{fileName:a,lineNumber:175}},o.default.createElement(p.default,{style:[{width:b,backgroundColor:"#ffffff"},r.state.filterType===N?{display:"flex"}:{display:"none"}],data:r.state.specialty,renderItem:function(e){var t=e.item,n=e.index;return r.renderSpecialItem({item:t,index:n})},ItemSeparatorComponent:r._separator,keyExtractor:function(e){return e.id+""},__source:{fileName:a,lineNumber:176}}),o.default.createElement(p.default,{style:[{width:b,backgroundColor:"#ffffff"},r.state.filterType===E?{display:"flex"}:{display:"none"}],data:r.state.buildings,renderItem:function(e){var t=e.item,n=e.index;return r.renderBuildingItem({item:t,index:n})},numColumns:3,keyExtractor:function(e){return e.id+""},__source:{fileName:a,lineNumber:183}}))},r.state={show:!1,filterType:null,buildings:[],specialty:[],selectedBuilding:null,selectedSpecialty:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;g.default.getPmbasicSpecialty(!1).then(function(t){if(t){var n=[{code:"all",name:"全部",keywords:null,parentId:null,id:0,treePath:"0/",orderNum:0}],a=t.data,r=[].concat(n,_(a));e.setState({specialty:r})}}).catch(function(e){}),g.default.getPmbasicBuildings(storage.loadProject()).then(function(t){if(t){var n=[{name:"全部",code:"0",structureType:"123123",area:124311113e3,projectId:5213135,id:0}],a=t.data,r=[].concat(n,_(a));e.setState({buildings:r})}}).catch(function(e){})}},{key:"render",value:function(){var e=this;return o.default.createElement(l.default,{__source:{fileName:a,lineNumber:195}},o.default.createElement(l.default,{style:P.container,__source:{fileName:a,lineNumber:196}},o.default.createElement(f.default,{style:P.touchBtn,onPress:function(t){t.preventDefault(),e.onClickFilter(N)},__source:{fileName:a,lineNumber:197}},o.default.createElement(l.default,{style:P.leftBtn,__source:{fileName:a,lineNumber:198}},o.default.createElement(s.default,{style:this.state.filterType===N&&this.state.show?P.filterTextNormalSelected:P.filterTextNormal,__source:{fileName:a,lineNumber:199}},this.state.selectedSpecialty?this.state.selectedSpecialty.name:"专业"),o.default.createElement(c.default,{style:P.filterImage,source:this.state.filterType===N&&this.state.show?I:w,__source:{fileName:a,lineNumber:200}}))),o.default.createElement(f.default,{style:P.touchBtn,onPress:function(t){t.preventDefault(),e.onClickFilter(E)},__source:{fileName:a,lineNumber:203}},o.default.createElement(l.default,{style:P.rightBtn,__source:{fileName:a,lineNumber:204}},o.default.createElement(s.default,{style:this.state.filterType===E&&this.state.show?P.filterTextNormalSelected:P.filterTextNormal,__source:{fileName:a,lineNumber:205}},this.state.selectedBuilding?this.state.selectedBuilding.name:"单体"),o.default.createElement(c.default,{style:P.filterImage,source:this.state.filterType===E&&this.state.show?I:w,__source:{fileName:a,lineNumber:206}})))),this.props.children,this.state.show?o.default.createElement(l.default,{style:[{width:b,height:v,backgroundColor:"#00000033",position:"absolute",top:44},this.state.show?{display:"flex"}:{display:"none"}],__source:{fileName:a,lineNumber:215}},o.default.createElement(l.default,{style:{width:b,height:192,backgroundColor:"#ffffff"},__source:{fileName:a,lineNumber:216}},this.renderFilterView()),o.default.createElement(f.default,{style:{flex:1},onPress:function(t){t.preventDefault(),e.hideFilter()},__source:{fileName:a,lineNumber:222}})):null)}}]),t}();T.propTypes={onFilterChange:m.default.func},t.default=T;var P=u.default.create({container:{flexDirection:"row",height:44,borderBottomColor:"#f7f7f7",borderBottomWidth:1},touchBtn:{flex:1},leftBtn:{flexDirection:"row",flex:1,justifyContent:"flex-end",alignItems:"center",marginRight:29},rightBtn:{flexDirection:"row",flex:1,alignItems:"center",marginLeft:29},filterTextNormal:{fontSize:14,color:"#000000"},filterTextNormalSelected:{fontSize:14,color:"#00baf3"},filterImage:{width:13,height:7,marginLeft:6},specialItem:{flexDirection:"row",height:48,alignItems:"center",backgroundColor:"#ffffff"},specialItemText:{flex:1,marginLeft:20,color:"#565656",fontSize:14},specialItemImage:{width:21,height:14,marginRight:20,display:"none"},specialItemTextSelected:{flex:1,marginLeft:20,color:"#00baf3",fontSize:14},specialItemImageSelected:{width:21,height:14,marginRight:20},buildingItem:{height:48,width:b/3,alignItems:"center",paddingTop:15,justifyContent:"center",backgroundColor:"#ffffff"},buildingItemBox:{width:86,height:32,marginLeft:20,backgroundColor:"#f0f0f0",borderRadius:4,justifyContent:"center",alignItems:"center"},buildingItemText:{color:"#333333",fontSize:14},buildingItemBoxSelected:{width:86,height:32,marginLeft:20,borderWidth:1,borderColor:"#00baf3",backgroundColor:"#ffffff",borderRadius:4,justifyContent:"center",alignItems:"center"},buildingItemTextSelected:{color:"#00baf3",fontSize:14}})},602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\Breadcrumb.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=g(i),l=g(n(2)),u=g(n(3)),s=g(n(6)),c=g(n(7)),f=g(n(8)),d=g(n(9)),p=g(n(19)),m=g(n(0));n(25);function g(e){return e&&e.__esModule?e:{default:e}}var h=d.default.get("window"),_=h.width,y=h.height,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._navItemClick=function(e,t){var n=r.state.showPop;n=!r.state.selectedItem||r.state.selectedItem.fileId!==e.fileId||!n,r.setState({dir:e.dir,selectedItem:e,showPop:n,index:t})},r.renderNavItemView=function(e){var t=e.item,i=e.index;return o.default.createElement(f.default,{key:"Breadcrumb_"+i+"_"+t.fileId,activeOpacity:.5,onPress:function(e){e.preventDefault(),r._navItemClick(t,i)},__source:{fileName:a,lineNumber:53}},o.default.createElement(l.default,{style:v.navContainer,__source:{fileName:a,lineNumber:54}},o.default.createElement(s.default,{style:i==r.props.data.length-1?v.lastNavName:v.navName,__source:{fileName:a,lineNumber:55}}," ",t.name),i==r.props.data.length-1?o.default.createElement(c.default,{style:v.navDownArrow,source:n(368),__source:{fileName:a,lineNumber:58}}):o.default.createElement(s.default,{style:v.navArrow,__source:{fileName:a,lineNumber:60}}," ","->")))},r.popItemClick=function(e){r.setState({showPop:!1},function(){r.props.onItemClick(e,r.state.index)})},r.renderPopItem=function(e){return o.default.createElement(f.default,{key:e.fileId,onPress:function(t){t.preventDefault(),r.popItemClick(e)},__source:{fileName:a,lineNumber:80}},o.default.createElement(l.default,{style:v.specialItem,__source:{fileName:a,lineNumber:83}},o.default.createElement(s.default,{style:r.state.selectedItem&&r.state.selectedItem.fileId===e.fileId?v.specialItemTextSelected:v.specialItemText,__source:{fileName:a,lineNumber:84}},e.name),o.default.createElement(c.default,{style:r.state.selectedItem&&r.state.selectedItem.fileId===e.fileId?v.specialItemImageSelected:v.specialItemImage,source:n(197),__source:{fileName:a,lineNumber:85}})))},r.renderPopView=function(){return o.default.createElement(l.default,{style:[{width:_,height:y,backgroundColor:"#00000033",position:"absolute",top:48}],__source:{fileName:a,lineNumber:93}},o.default.createElement(l.default,{style:{width:_,height:192,backgroundColor:"#ffffff"},__source:{fileName:a,lineNumber:94}},o.default.createElement(p.default,{__source:{fileName:a,lineNumber:95}},r.state.dir?r.state.dir.map(function(e){return r.renderPopItem(e)}):null)),o.default.createElement(f.default,{style:{flex:1},onPress:function(e){e.preventDefault(),r.setState({showPop:!1})},__source:{fileName:a,lineNumber:105}}))},r.state={dir:[],showPop:!1,index:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this;return o.default.createElement(l.default,{style:{height:"100%"},__source:{fileName:a,lineNumber:118}},o.default.createElement(l.default,{style:this.props.data&&this.props.data.length>0?{width:"100%",height:48,paddingLeft:15,backgroundColor:"#f9f9f9"}:{height:0},__source:{fileName:a,lineNumber:119}},o.default.createElement(p.default,{horizontal:!0,__source:{fileName:a,lineNumber:120}},this.props.data?this.props.data.map(function(t,n){return e.renderNavItemView({item:t,index:n})}):null)),this.props.childView?this.props.childView:null,this.state.showPop?this.renderPopView():null)}}]),t}();t.default=b,b.propTypes={data:m.default.array,onItemClick:m.default.func};var v=u.default.create({navContainer:{flexDirection:"row",height:48,alignItems:"center"},navName:{fontSize:14,color:"#b5b5b5",marginLeft:5},lastNavName:{fontSize:14,color:"#00baf3",marginLeft:5},navArrow:{fontSize:14,color:"#b5b5b5",marginRight:5,flex:1},navDownArrow:{width:11,height:5},specialItem:{flexDirection:"row",height:48,alignItems:"center",borderBottomColor:"#e6e6e6",borderBottomWidth:.5},specialItemText:{flex:1,marginLeft:20,color:"#565656",fontSize:14},specialItemImage:{width:21,height:14,marginRight:20,display:"none"},specialItemTextSelected:{flex:1,marginLeft:20,color:"#00baf3",fontSize:14},specialItemImageSelected:{width:21,height:14,marginRight:20}})},603:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(64));t.fetchData=function(e,t,n,o){return function(u){!function(e,t,n,o,u){0==e&&n(function(e){return{type:i.PROJECT_LIST_DOING,page:e}}(e));e<0&&(e=0);r.default.getProjects(e,35,o).then(function(r){console.log(JSON.stringify(r));var i=r.data.content,s=r.data.last,c=[];if(i.length>0){e>0&&(c=t);i.forEach(function(e){c.push({key:"P0"+e.id,value:e}),0}),o&&u&&storage.saveLastTenant(u),a.default.hide();var f=!s;n(l(c,e,f))}else o&&u&&storage.saveLastTenant(u),a.default.hide(),n(l(c,e-1,!1));i=null,c=null}).catch(function(t){a.default.hide(),console.log(t),n(function(e,t){return{type:i.PROJECT_LIST_ERROR,error:e,page:t}}(t,e))})}(e,t,u,n,o)}},t.reset=function(){return function(e){e({type:i.PROJECT_LIST_INIT})}},n(63);var r=o(n(10)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(417));function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return{type:i.PROJECT_LIST_DONE,data:e,page:t,hasMore:n}}},605:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(64)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.fetchData=function(e,t){return function(n){!function(e,t){i.default.getQualityInspectionDetail(storage.loadProject(),e).then(function(e){t(_(e.data))}).catch(function(e){t(b(e))})}(e,n),t===i.default.CREATE_TYPE_REVIEW?function(e,t){i.default.getReviewInfo(storage.loadProject(),e).then(function(e){e&&t(y(e.data))}).catch(function(e){t(b(e))})}(e,n):t===i.default.CREATE_TYPE_RECTIFY&&function(e,t){i.default.getRepairInfo(storage.loadProject(),e).then(function(e){e&&t(y(e.data))}).catch(function(e){t(b(e))})}(e,n)}},t.submit=function(e,t,n,r,o,u,s,_,y){return function(b){s===i.default.CREATE_TYPE_REVIEW?function(e,t,n,r,o,u,s,p,g){var _=u.id,y=d(e,t,n,r,o,u),b=m(y);b.checked?(c(),f(g,function(e){e&&(y.files=e);var t=h(y);_?i.default.editSubmitReview(storage.loadProject(),_,t).then(function(e){s(l.updateData()),storage.goBack(p,null),a.default.hide()}).catch(function(e){a.default.info("提交失败!",1)}):i.default.createSubmitReview(storage.loadProject(),t).then(function(e){s(l.updateData()),storage.goBack(p,null),a.default.hide()}).catch(function(e){a.default.info("提交失败!",1)})})):a.default.info(b.msg,1)}(e,t,n,r,o,u,b,_,y):s===i.default.CREATE_TYPE_RECTIFY&&function(e,t,n,r,o,u,s){var d=r.id,m=p(e,t,n,r),_=g(m);_.checked?(c(),f(s,function(e){e&&(m.files=e);var t=h(m);d?i.default.editSubmitRepair(storage.loadProject(),d,t).then(function(e){o(l.updateData()),storage.goBack(u,null),a.default.hide()}).catch(function(e){a.default.info("提交失败!",1)}):i.default.createSubmitRepair(storage.loadProject(),t).then(function(e){o(l.updateData()),storage.goBack(u,null),a.default.hide()}).catch(function(e){a.default.info("提交失败!",1)})})):a.default.info(_.msg,1)}(e,t,o,u,b,_,y)}},t.save=function(e,t,n,r,o,l,u,s){return function(_){u===i.default.CREATE_TYPE_REVIEW?function(e,t,n,r,o,l,u,s){var p=l.id,g=d(e,t,n,r,o,l),_=m(g);_.checked?(c(),f(s,function(e){e&&(g.files=e);var o=h(g);p?i.default.editSaveReview(storage.loadProject(),p,o).then(function(i){var o={id:l.id,code:l.code,description:t,lastRectificationDate:r.getTime(),status:n,files:e};u(y(o)),a.default.hide(),a.default.info("保存成功！",1)}).catch(function(e){a.default.info("保存失败!",1)}):i.default.createSaveReview(storage.loadProject(),o).then(function(i){var o={id:i.data.id,code:i.data.code,description:t,lastRectificationDate:r.getTime(),status:n,files:e};u(y(o)),a.default.hide(),a.default.info("保存成功！",1)}).catch(function(e){a.default.info("保存失败!",1)})})):a.default.info(_.msg,1)}(e,t,n,r,o,l,_,s):u===i.default.CREATE_TYPE_RECTIFY&&function(e,t,n,r,o,l){var u=r.id,s=p(e,t,n,r),d=g(s);d.checked?(c(),f(l,function(e){e&&(s.files=e);var n=h(s);u?i.default.editSaveRepair(storage.loadProject(),u,n).then(function(n){var i={id:r.id,code:r.code,description:t,files:e};o(y(i)),a.default.hide(),a.default.info("保存成功！",1)}).catch(function(e){a.default.info("保存失败!",1)}):i.default.createSaveRepair(storage.loadProject(),n).then(function(n){var r={id:n.data.id,code:n.data.code,description:t,files:e};o(y(r)),a.default.hide(),a.default.info("保存成功！",1)}).catch(function(e){a.default.info("保存失败!",1)})})):a.default.info(d.msg,1)}(e,t,o,l,_,s)}},t.deleteForm=function(e,t,n,a){return function(r){n===i.default.CREATE_TYPE_REVIEW?i.default.deleteReview(e,storage.loadProject(),t).then(function(e){r(v()),storage.goBack(a,null)}):n===i.default.CREATE_TYPE_RECTIFY&&i.default.deleteRepair(e,storage.loadProject(),t).then(function(e){r(v()),storage.goBack(a,null)})}},t.isEditInfoChange=function(e,t,n,a,r,o,l){o._loadFile(function(o){!function(e,t){var n=e?e.length:0,a=t?t.length:0;if(function(e,t){t&&t.map(function(t){var n=function(e,t){if(e)for(var n in e)if(e[n].path===t.path)return e[n];return null}(e,t);n&&(t.name=n.name,t.objectId=n.objectId,t.extension=n.extension,t.digest=n.digest,t.length=n.length,t.uploadTime=n.uploadTime)})}(e,t),n!=a)return!0;for(file in t)if(!t[file].objectId)return!0;return!1}(a.files,o)&&!function(e,t,n,a,r){if(a.description){if(a.description!=e)return!0}else if(e.length>0)return!0;if(r===i.default.CREATE_TYPE_REVIEW){var o=a.status;if(o!=i.default.STATUS_CLOSED&&(o=i.default.STATUS_NOT_ACCEPTED),t!=o)return!0;if(!function(e,t){var n=new Date(e.setHours(0,0,0,0)).getTime(),a=new Date(new Date(t).setHours(0,0,0,0)).getTime();return n==a}(n,a.lastRectificationDate))return!0}return!1}(e,t,n,a,r)?l(!1):l(!0)})},t._loadDetailSuccess=_,t._loadEditInfoSuccess=y,t.reset=v,n(63);var i=s(n(10)),o=u(n(421)),l=u(n(143));s(n(36)),s(n(41));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}function c(){a.default.loading("加载中...",0,null,!0)}function f(e,t){e._loadFile(function(e){e&&e.length>0?i.default.upLoadFiles(e,function(e,n){"success"===e?t(n):a.default.info("上传图片失败！",1)}):t()})}function d(e,t,n,a,r,i){return{code:i.code,description:t,inspectionId:e,status:n,lastRectificationDate:a.getTime(),rectificationId:function(e){if(e){var t=e.progressInfos;if(t&&t.length>0)return t[t.length-1].id}return""}(r)}}function p(e,t,n,a){return{code:a.code,description:t,inspectionId:e,flawId:function(e,t){var n=t;if(e){var a=e.progressInfos;a&&a.length>0&&(n=a[a.length-1].id)}return n}(n,e)}}function m(e){var t=!e.description||0==e.description.length,n=!e.lastRectificationDate||0==e.lastRectificationDate.length,a=!1;n||(a=new Date((new Date).setHours(0,0,0,0)).getTime()>e.lastRectificationDate);var r="",o=!0;return e.status===i.default.STATUS_CLOSED?(o=!t,t&&(r="您还未填写现场情况描述！")):e.status===i.default.STATUS_NOT_ACCEPTED&&(o=!t&&!n&&!a,t&&n?r="您还未选择现场情况描述和整改期限!":t?r="您还未填写现场情况描述！":n?r="您还未选择整改期限!":a&&(r="整改期限不能早于当前日期！")),{checked:o,msg:r}}function g(e){var t=!e.description||0==e.description.length,n="";return t&&(n="您还未选择现场情况描述!"),{checked:!t,msg:n}}function h(e,t){var n=r({},e);return n.files=function(e){var t=[];return e&&e.map(function(e){var n={name:e.name,objectId:e.objectId,extension:e.extension,digest:e.digest,uploadTime:e.uploadTime};t.push(n)}),t}(e.files),JSON.stringify(n)}function _(e){return{type:o.REVIEW_REPAIR_LOAD_DETAIL,qualityInfo:e}}function y(e){return{type:o.REVIEW_REPAIR_LOAD_EDITINFO,editInfo:e}}function b(e){return{type:o.REVIEW_REPAIR_LOAD_ERROR,error:e}}function v(){return{type:o.REVIEW_REPAIR_INIT}}},618:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchData=function(e){return function(t){a.default.getQualityInspectionDetail(storage.loadProject(),e).then(function(e){console.log(e),e.data.files&&e.data.files.length>0?function(e,t){var n=e.length;e.map(function(r,i){a.default.getBimFileUrl(r.objectId,function(a,r){n--,a&&(e[i].url=r),n<1&&t(e)}).catch(function(a){--n<1&&t(e)})})}(e.data.files,function(n){e.data.files=n,t(o(e.data))}):t(o(e.data))}).catch(function(e){t(function(e){return{type:r.QUALITY_INFO_ERROR,error:e}}(e))})}},t.reset=function(){return function(e){e({type:r.QUALITY_INFO_INIT})}};var a=i(n(10)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(425));i(n(36)),i(n(41));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return{type:r.QUALITY_INFO_DONE,data:e}}},619:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\quality\\QualityInfoItem.js",r=f(n(0)),i=f(n(1)),o=f(n(2)),l=f(n(3)),u=f(n(6)),s=f(n(7)),c=f(n(8));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=n(198),m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,f=Array(l),m=0;m<l;m++)f[m]=arguments[m];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.onClick=function(e){r.props.onClick&&r.props.onClick()},r.renderInfo=function(){return r.props.onClick?i.default.createElement(o.default,{style:g.containerView,__source:{fileName:a,lineNumber:29}},i.default.createElement(o.default,{style:g.titleView,__source:{fileName:a,lineNumber:30}},i.default.createElement(u.default,{style:g.leftTitle,__source:{fileName:a,lineNumber:31}},r.props.leftTitle)),i.default.createElement(o.default,{style:g.contentView,__source:{fileName:a,lineNumber:33}},i.default.createElement(u.default,{style:g.content,__source:{fileName:a,lineNumber:34}},r.props.content),i.default.createElement(c.default,{activeOpacity:.5,onPress:function(e){e.preventDefault(),r.onClick(e)},__source:{fileName:a,lineNumber:35}},i.default.createElement(s.default,{source:p,style:g.infoMark,__source:{fileName:a,lineNumber:36}})))):i.default.createElement(o.default,{style:g.containerView,__source:{fileName:a,lineNumber:18}},i.default.createElement(o.default,{style:g.titleView,__source:{fileName:a,lineNumber:19}},i.default.createElement(u.default,{style:g.leftTitle,__source:{fileName:a,lineNumber:20}},r.props.leftTitle)),i.default.createElement(o.default,{style:g.contentView,__source:{fileName:a,lineNumber:22}},i.default.createElement(u.default,{style:g.content,__source:{fileName:a,lineNumber:23}},r.props.content)))},r.renderLink=function(){return i.default.createElement(o.default,{style:g.containerView,__source:{fileName:a,lineNumber:44}},i.default.createElement(o.default,{style:g.titleView,__source:{fileName:a,lineNumber:45}},i.default.createElement(u.default,{style:g.leftTitle,__source:{fileName:a,lineNumber:46}},r.props.leftTitle)),i.default.createElement(o.default,{style:g.contentView,__source:{fileName:a,lineNumber:48}},i.default.createElement(c.default,{activeOpacity:.5,onPress:function(e){e.preventDefault(),r.props.content&&r.props.content.length&&r.onClick&&r.onClick(e)},__source:{fileName:a,lineNumber:49}},i.default.createElement(u.default,{style:[g.content,g.link],__source:{fileName:a,lineNumber:50}},r.props.content))))},r.renderLine=function(){return i.default.createElement(o.default,{style:[g.containerView,g.lineView],__source:{fileName:a,lineNumber:58}})},r.renderItem=function(){return i.default.createElement(o.default,{style:g.containerView,__source:{fileName:a,lineNumber:64}},i.default.createElement(o.default,{style:g.titleView,__source:{fileName:a,lineNumber:65}},i.default.createElement(u.default,{style:g.leftTitle,__source:{fileName:a,lineNumber:66}},r.props.leftTitle)),i.default.createElement(o.default,{style:g.contentView,__source:{fileName:a,lineNumber:68}},i.default.createElement(u.default,{style:g.content,__source:{fileName:a,lineNumber:69}},r.props.content)))},r.render=function(){return"info"===r.props.showType?r.renderInfo():"link"===r.props.showType?r.renderLink():"line"===r.props.showType?r.renderLine():r.renderItem()},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),t}();t.default=m,m.propTypes={showType:r.default.string,onClick:r.default.func,leftTitle:r.default.string,content:r.default.string};var g=l.default.create({containerView:{marginTop:10,marginBottom:0,marginLeft:20,marginRight:20,flexDirection:"row"},content:{fontSize:14,fontWeight:"100"},link:{color:"#00b5f2",textDecorationLine:"underline",fontSize:14,fontWeight:"100"},leftTitle:{fontSize:14,width:75,color:"#666666",fontWeight:"100"},titleView:{flexDirection:"row"},contentView:{flexDirection:"row",alignItems:"center",flex:1},infoMark:{marginLeft:5,width:15,height:15},lineView:{height:.5,marginTop:20,marginLeft:10,width:"100%",backgroundColor:"#e9e9e9"}})},620:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\quality\\QualityInfoCellItem.js",r=m(n(0)),i=m(n(1)),o=m(n(2)),l=m(n(3)),u=m(n(6)),s=m(n(7)),c=m(n(8)),f=n(16),d=(m(n(10)),n(212),m(n(36))),p=m(n(210));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(198);var h=n(391),_=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,m=Array(l),_=0;_<l;_++)m[_]=arguments[_];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(m))),r.onClick=function(e){r.props.onClick&&r.props.onClick()},r.renderUser=function(){return i.default.createElement(o.default,{style:[y.containerView,y.containerUserView],__source:{fileName:a,lineNumber:24}},i.default.createElement(o.default,{style:y.titleView,__source:{fileName:a,lineNumber:25}},i.default.createElement(s.default,{source:r.props.userImage?{uri:r.props.userImage}:h,style:y.userImage,__source:{fileName:a,lineNumber:26}})),i.default.createElement(o.default,{style:y.userContentView,__source:{fileName:a,lineNumber:28}},i.default.createElement(u.default,{style:y.userName,__source:{fileName:a,lineNumber:29}},r.props.userName),i.default.createElement(u.default,{style:y.actionDate,__source:{fileName:a,lineNumber:30}},r.props.actionDate)),r.props.onAction?i.default.createElement(o.default,{style:y.actionButtion,__source:{fileName:a,lineNumber:34}},i.default.createElement(f.StatusActionButton,{color:r.props.actionColor,style:{elevation:0,borderColor:r.props.actionColor},text:r.props.actionText,__source:{fileName:a,lineNumber:35}})):null)},r.renderDescription=function(){return r.props.descriptionDate?r.props.description?i.default.createElement(o.default,{style:[y.containerView,y.containerDescriptionView],__source:{fileName:a,lineNumber:50}},i.default.createElement(o.default,{style:y.descriptionView,__source:{fileName:a,lineNumber:51}},i.default.createElement(u.default,{style:y.description,__source:{fileName:a,lineNumber:52}},r.props.description)),i.default.createElement(o.default,{style:y.dateView,__source:{fileName:a,lineNumber:54}},i.default.createElement(u.default,{style:y.date,__source:{fileName:a,lineNumber:55}},r.props.descriptionDate))):r.renderDateSimple():r.renderDescriptionSimple()},r.renderDescriptionSimple=function(){return i.default.createElement(o.default,{style:[y.containerView,y.containerDescriptionView],__source:{fileName:a,lineNumber:63}},i.default.createElement(o.default,{style:y.descriptionView,__source:{fileName:a,lineNumber:64}},i.default.createElement(u.default,{style:y.description,__source:{fileName:a,lineNumber:65}},r.props.description)))},r.renderDateSimple=function(){return i.default.createElement(o.default,{style:[y.containerView,y.containerDescriptionView],__source:{fileName:a,lineNumber:72}},i.default.createElement(o.default,{style:y.dateView,__source:{fileName:a,lineNumber:73}},i.default.createElement(u.default,{style:y.date,__source:{fileName:a,lineNumber:74}},r.props.descriptionDate)))},r.bigImage=function(e,t){var n=[];e.map(function(e,t){var a=e.url;d.default.isOnLine()||e&&(a="file://"+(new p.default).getImagePathById(e.objectId));n.push({photo:a,objectId:e.objectId})}),storage.pushNext(null,"BigImageViewPage",{media:n,index:t})},r.renderImage=function(){var e=r.props.url;if(!d.default.isOnLine()&&e){var t="file://"+(new p.default).getImagePathById(e.objectId);e.url=t}return i.default.createElement(o.default,{style:y.containerView,__source:{fileName:a,lineNumber:109}},i.default.createElement(c.default,{activeOpacity:.5,onPress:function(t){r.bigImage([e],0)},__source:{fileName:a,lineNumber:110}},i.default.createElement(s.default,{source:{uri:e.url},style:y.imageMax,__source:{fileName:a,lineNumber:113}})))},r.renderImages=function(){return i.default.createElement(o.default,{style:y.containerView,__source:{fileName:a,lineNumber:121}},r.props.urls.map(function(e,t){if(!d.default.isOnLine()&&e){var n="file://"+(new p.default).getImagePathById(e.objectId);e.url=n}return i.default.createElement(c.default,{key:"xxx"+t,activeOpacity:.5,onPress:function(e){r.bigImage(r.props.urls,t)},__source:{fileName:a,lineNumber:133}},i.default.createElement(s.default,{source:{uri:e.url},style:y.imageNarmal,__source:{fileName:a,lineNumber:134}}))}))},r.renderItem=function(){return i.default.createElement(o.default,{style:y.containerView,__source:{fileName:a,lineNumber:146}},i.default.createElement(o.default,{style:y.titleView,__source:{fileName:a,lineNumber:147}},i.default.createElement(u.default,{style:y.leftTitle,__source:{fileName:a,lineNumber:148}},r.props.leftTitle)),i.default.createElement(o.default,{style:y.contentView,__source:{fileName:a,lineNumber:150}},i.default.createElement(u.default,{style:y.content,__source:{fileName:a,lineNumber:151}},r.props.content)))},r.render=function(){return"image"===r.props.showType?r.renderImage():"images"===r.props.showType?r.renderImages():"user"===r.props.showType?r.renderUser():"description"===r.props.showType?r.renderDescription():r.renderItem()},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),t}();t.default=_,_.propTypes={showType:r.default.string.isRequired,onAction:r.default.func,userName:r.default.string,actionDate:r.default.string,actionText:r.default.string,actionColor:r.default.string,url:r.default.any,urls:r.default.array,description:r.default.string,descriptionDate:r.default.string};var y=l.default.create({containerView:{marginTop:10,marginBottom:0,marginLeft:20,marginRight:20,flexDirection:"row"},containerUserView:{marginBottom:10},containerDescriptionView:{flexDirection:"column"},titleView:{flexDirection:"row"},contentView:{flexDirection:"row",marginRight:75,alignItems:"center"},actionButtion:{right:0,top:0,position:"absolute"},userImage:{width:35,height:35,borderRadius:17.5},userContentView:{marginLeft:12},userName:{color:"#313131",fontSize:15,fontWeight:"bold"},actionDate:{marginTop:5,color:"#919191",fontSize:12},descriptionView:{},dateView:{marginTop:5},description:{color:"#2c2c2c",fontSize:16},date:{color:"#2c2c2c",fontSize:12,fontWeight:"100"},imageNarmal:{marginRight:10,width:106,height:106,resizeMode:"cover"},imageMax:{width:230,height:230,resizeMode:"contain"}})},622:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QualityListTitle=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\quality\\qualityList.js",i=n(1),o=y(i),l=y(n(3)),u=y(n(2)),s=y(n(12)),c=y(n(9)),f=y(n(6)),d=y(n(14)),p=n(48),m=y(n(10)),g=y(n(378)),h=n(54),_=y(n(36));function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=c.default.get("window"),w=E.width,I=E.height,T=t.QualityListTitle=function(e){function t(){var e,n,a;b(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return n=a=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.render=function(){var e=a.props,t=e.text,n=e.activeTitleStyle,i=e.titleStyle,l=e.select,s=e.badge,c=28,m=0,g="center";return t.length>=3?(c=42,m=7,s>9&&(m=0),t+="        ",g="flex-start"):t="     "+t+"     ",o.default.createElement(u.default,{style:{alignItems:g,alignContent:"center",paddingTop:"web"===d.default.OS?9:4,overflow:"visible"},__source:{fileName:r,lineNumber:33}},o.default.createElement(f.default,{style:l?n:i,__source:{fileName:r,lineNumber:34}},t),o.default.createElement(u.default,{style:{width:c,height:3,marginTop:0},__source:{fileName:r,lineNumber:35}},l?o.default.createElement(u.default,{style:[{width:c,height:2,backgroundColor:"#00baf3",position:"absolute"},"ios"===d.default.OS?{top:12}:{top:8}],resizeMode:"contain",__source:{fileName:r,lineNumber:36}}):null),o.default.createElement(p.Badge,{count:s,style:[{position:"absolute",top:-5,right:m},s>0?{}:{backgroundColor:"#ffffff"}],__source:{fileName:r,lineNumber:38}}))},v(a,n)}return N(t,i.Component),t}(),P=function(e){function t(e){b(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._keyExtractor=function(e,t){return t},n._loadInspectionSummary=function(){if(_.default.isOnLine()){if(!h.AuthorityManager.isQualityBrowser())return;var e=n.props.navigation.getParam("qualityCheckpointId"),t=n.props.navigation.getParam("qualityCheckpointName");m.default.getQualityInspectionSummary(storage.loadProject(),e,t).then(function(e){var t=[0,0,0,0,0,0,0,0,0,0];e.data.map(function(e,n){var a=m.default.CLASSIFY_STATES_SUMMARY.indexOf(e.qcState);a>0&&(t[a]=e.count)}),console.log(JSON.stringify(t)),n.setState({qualityBadge:{item:t}})}).catch(function(e){})}},n.componentDidMount=function(){storage.qualityNavigation=n.props.navigation},n._onSegmentedBarChange=function(e){n.state.activeIndex!=e&&(n.setState({activeIndex:e}),n.state.qualityView[e].fetchData&&n.state.qualityView[e].fetchData(m.default.CLASSIFY_STATES[e]))},n._toTop=function(){var e=n.state.activeIndex,t=n.state.qualityView[e];t.scrollToOffset&&t.scrollToOffset()},n.state={error:!1,errorInfo:"",qcState:"",isLoading:!0,activeIndex:0,qualityView:[{},{},{},{},{},{},{},{}],qualityBadge:{item:[0,0,0,0,0,0,0,0,0,0]}},n}return N(t,i.PureComponent),a(t,[{key:"renderData",value:function(){var e=this,t=this.props.navigation.getParam("qualityCheckpointId"),n=this.props.navigation.getParam("qualityCheckpointName");return t||(t=0),n||(n=""),o.default.createElement(u.default,{style:[S.contentList],__source:{fileName:r,lineNumber:128}},o.default.createElement(s.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:129}}),o.default.createElement(p.SegmentedView,{indicatorLineWidth:0,barStyle:{width:"100%",height:44,borderBottomColor:"#e9e9e999",borderBottomWidth:1},autoScroll:0!=this.state.activeIndex,animated:0!=this.state.activeIndex,style:{flex:1},justifyItem:"scrollable",type:"projector",onChange:function(t){return e._onSegmentedBarChange(t)},__source:{fileName:r,lineNumber:130}},m.default.CLASSIFY_STATUS_LIST.map(function(a,i){return o.default.createElement(p.SegmentedView.Sheet,{key:a.name,title:o.default.createElement(T,{key:a.name,text:a.name,badge:e.state.qualityBadge.item[i],select:e.state.activeIndex==i,activeTitleStyle:{color:"#00baf3",fontSize:14},titleStyle:{color:"#6f899b",fontSize:14},__source:{fileName:r,lineNumber:136}}),__source:{fileName:r,lineNumber:136}},o.default.createElement(g.default,{onRef:function(t){e.state.qualityView[i]=t},style:{flex:1},qcState:""+a.state,selected:e.state.activeIndex===i,updateNumber:function(){e._loadInspectionSummary()},qualityCheckpointId:t,qualityCheckpointName:n,loadData:0==i,__source:{fileName:r,lineNumber:137}}))})))}},{key:"render",value:function(){return this.renderData()}}]),t}();P.navigationOptions={title:"质检清单",gesturesEnabled:!0},t.default=P;var S=l.default.create({contentList:{flex:1,backgroundColor:"#fafafa",paddingBottom:5},dataList:{top:0,height:I,backgroundColor:"green"},gray:{top:100,left:w/2-30,position:"absolute"},topBtn:{width:50,height:25,backgroundColor:"#0007",borderRadius:8,justifyContent:"center",alignItems:"center",top:I-100,left:w-60,position:"absolute"},topBtnText:{fontSize:12,color:"#fff"},headerButton:{color:"#333333",fontSize:14},container:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#f8f8f8"},containerView:{flex:1,borderRadius:8,marginTop:5,marginBottom:5,marginLeft:20,marginRight:20,backgroundColor:"#FFF",elevation:100,shadowColor:"#333",shadowOffset:{width:3,height:7},shadowOpacity:.15,shadowRadius:3}})},633:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\main\\ModelItemView.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=d(n(1)),l=d(n(6)),u=d(n(2)),s=d(n(7)),c=d(n(9)),f=d(n(8));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"render",value:function(){var e=c.default.get("window").width;return o.default.createElement(f.default,a({},this.props,{__source:{fileName:r,lineNumber:18}}),o.default.createElement(u.default,{style:{width:(e-70)/4,alignItems:"center"},__source:{fileName:r,lineNumber:19}},o.default.createElement(s.default,{source:this.props.source,style:{width:(e-70)/4,height:(e-70)/4},__source:{fileName:r,lineNumber:21}}),o.default.createElement(l.default,{__source:{fileName:r,lineNumber:25}},this.props.title)))}}]),t}();t.default=p},634:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\new\\SelectView.web.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=m(i),l=(m(n(6)),m(n(2))),u=(m(n(7)),m(n(91))),s=(n(44),m(n(0))),c=n(48),f=m(n(253)),d=m(n(164)),p=m(n(10));function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));h.call(n);var a=n.props.dataList?n.props.dataList:[],r=n.getSelectedIndex(a),i=!1;return 0==a.length&&"责任人"!=n.props.title&&(i=!0),n.state={dataList:a,selectIndex:r,showStar:!1,showEmpty:i},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.props.title;if("施工单位"===this.props.title&&this.props.selectCallback&&this.props.dataList&&this.props.dataList.length>0){var e=this.getSelectedSupporterIndex(this.props.dataList);this.props.selectCallback(this.props.dataList[e])}}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.setState({showStar:e.showStar}),"责任人"===this.props.title){var n=this.props.extraData?this.props.extraData.coperationId:0,a=e.extraData?e.extraData.coperationId:0;if(a!=n){var r=0!=n?-2:-1;this.setState({selectIndex:r,dataList:[]},function(){t.fetchPersons()})}else 0===a&&this.setState({showEmpty:!0})}}},{key:"render",value:function(){return o.default.createElement(f.default,{showStar:this.state.showStar,childView:this.starItemView(),__source:{fileName:a,lineNumber:303}})}}]),t}(),h=function(){var e=this;this.getSelectedIndex=function(t){var n=0;return"检查单位"===e.props.title||"验收单位"===e.props.title?n=e.getSelectedInspectCompanyIndex(t):"施工单位"===e.props.title?n=e.getSelectedSupporterIndex(t):"责任人"===e.props.title&&(n=e.getSelectedPersonIndex(t)),n},this.getSelectedInspectCompanyIndex=function(t){var n=0,a=e.props.value;if(t&&t.length>0&&a&&a.id)for(var r in t)if(t[r].id===a.id){n=r;break}return n=parseInt(n)},this.getSelectedSupporterIndex=function(t){var n=-1,a=e.props.value;if(t&&t.length>0){if(a&&a.id)for(var r in t)if(t[r].coperationId===a.id){n=r;break}(n=parseInt(n))<0&&1==t.length&&(n=0)}return n},this.getSelectedPersonIndex=function(t,n){var a=-1,r=e.props.value;if(t&&t.length>0&&r&&r.id)for(var i in t)if(t[i].userId===r.id){a=i;break}return a=parseInt(a)},this.fetchPersons=function(){var t=e.props.extraData;if(t){var n=t.coperationId;p.default.getPersonList(storage.loadProject(),n).then(function(t){t&&t.data&&t.data.length>0?e.state.dataList=t.data:e.setState({showEmpty:!0})}).catch(function(e){console.log(e)})}},this.getPersonList=function(){var t=e.props.extraData;if(t){var n=t.coperationId;if(e.state.dataList&&e.state.dataList.length>0&&e.state.dataList[0].coperationCorpId===n){var a=e.getSelectPersonIndex(e.state.dataList);e.setState({selectIndex:a,showEmpty:!1},function(){e.showActionSheet()})}else p.default.getPersonList(storage.loadProject(),n).then(function(t){if(t&&t.data&&t.data.length>0){var n=e.getSelectPersonIndex(t.data);e.setState({dataList:t.data,selectIndex:n,showEmpty:!1},function(){e.showActionSheet()})}else e.setState({showEmpty:!0})}).catch(function(e){console.log(e)})}else e.setState({showEmpty:!0})},this.getSelectPersonIndex=function(t){var n=-1;if(e.state.selectIndex>-1&&t&&t.length>e.state.selectIndex){var a=e.state.dataList[e.state.selectIndex],r=t[e.state.selectIndex];a.userId===r.userId&&(n=e.state.selectIndex)}else n=e.getSelectedPersonIndex(t);return-2===e.state.selectIndex&&-1===n&&(n=-2),n},this.onPress=function(){u.default.dismiss(),"责任人"===e.props.title?e.getPersonList():e.state.showEmpty||e.showActionSheet()},this.onItemSelect=function(t,n){e.setState({selectIndex:n}),e.props.selectCallback&&e.props.selectCallback(t)},this.showActionSheet=function(){c.PullPicker.show("选择"+e.props.title,e.state.dataList,e.state.selectIndex,function(t,n){return e.onItemSelect(t,n)},{getItemText:function(e,t){return e.name}})},this.getSelectedData=function(){var t=null;return-1==e.state.selectIndex?("责任人"===e.props.title&&(e.props.value.userId=e.props.value.id),t=e.props.value):t=-2==e.state.selectIndex?{}:e.state.dataList[e.state.selectIndex],t=t||{}},this.getDetail=function(){if(e.state.showEmpty)return"责任人"===e.props.title?"您需要去PC端添加责任人数据":"您需要去PC端添加施工单位数据";var t="";return e.props.value&&(t=e.props.value.name||""),e.state.selectIndex>-1&&(t=e.state.dataList[e.state.selectIndex].name),"责任人"===e.props.title&&-2==e.state.selectIndex&&(t=""),t},this.starItemView=function(){return o.default.createElement(l.default,{style:{},__source:{fileName:a,lineNumber:293}},o.default.createElement(d.default,{__source:{fileName:a,lineNumber:294}},o.default.createElement(d.default.Item,{title:e.props.title,detail:e.getDetail(),bottomSeparator:"indent",onPress:function(){e.onPress()},__source:{fileName:a,lineNumber:295}})))}};g.propTypes={title:s.default.string.isRequired,value:s.default.object,selectCallback:s.default.func,extraData:s.default.object,showStar:s.default.bool},t.default=g},635:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\new\\SelectCheckPointView.web.js",r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),l=g(o),u=g(n(3)),s=g(n(67)),c=g(n(8)),f=g(n(7)),d=g(n(2)),p=g(n(0)),m=g(n(164));function g(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));i.selectCheckPoint=function(){storage.pushNext(null,"CheckPointPage",{selectedCheckPoint:i.state.selectedCheckPoint,callback:function(e){var t=r({},e);i.inputName=e.name,i.setState({selectedCheckPoint:t,isShowMark:!0})}})},i.getSelectedCheckPoint=function(){var e={name:i.inputName,id:0};return i.state.selectedCheckPoint.name===i.inputName&&(e.id=i.state.selectedCheckPoint.id),e},i.textInputChange=function(e){i.inputName=e;var t=i.state.selectedCheckPoint.name===e&&i.state.selectedCheckPoint.id&&0!=i.state.selectedCheckPoint.id;i.setState({isShowMark:t})},i.toCheckPointInfo=function(){var e=i.props.navigation;storage.pushNext(e,"QualityStatardsPage",{qualityCheckpointId:i.state.selectedCheckPoint.id,qualityCheckpointName:i.state.selectedCheckPoint.name})},i.getDetailView=function(){return l.default.createElement(d.default,{style:{flexDirection:"row",flex:1},__source:{fileName:a,lineNumber:91}},l.default.createElement(s.default,{style:{flex:1,textAlignVertical:"center",textAlign:"right",minWidth:100,paddingLeft:12,paddingRight:5},placeholder:"请设置",multiline:!1,value:i.inputName,autoCorrect:!1,autoCapitalize:"none",underlineColorAndroid:"transparent",onChangeText:function(e){i.textInputChange(e)},defaultValue:i.inputName,__source:{fileName:a,lineNumber:92}}),i.state.isShowMark?l.default.createElement(c.default,{style:{paddingRight:5,alignSelf:"center"},onPress:function(e){e.preventDefault(),i.toCheckPointInfo()},__source:{fileName:a,lineNumber:105}},l.default.createElement(f.default,{style:_.markImage,source:n(198),__source:{fileName:a,lineNumber:106}})):null)};var o=e.selectedCheckPoint,u=0,p="",m=!1;return o&&o.name&&(u=o.id,p=o.name,i.inputName=o.name,m=o.id&&0!=o.id),i.state={selectedCheckPoint:{id:u,name:p},isShowMark:m},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"render",value:function(){var e=this;return l.default.createElement(d.default,{__source:{fileName:a,lineNumber:118}},l.default.createElement(m.default,{__source:{fileName:a,lineNumber:119}},l.default.createElement(m.default.Item,{title:"质检项目",bottomSeparator:"indent",detailTouchable:!1,detail:this.getDetailView(),onPress:function(){e.selectCheckPoint()},__source:{fileName:a,lineNumber:120}})))}}]),t}();h.propTypes={selectedCheckPoint:p.default.object};var _=u.default.create({markImage:{width:15,height:15,resizeMode:"contain"}});t.default=h},655:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\new\\RectificationView.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=m(i),l=m(n(3)),u=m(n(2)),s=m(n(91)),c=m(n(0)),f=m(n(253)),d=m(n(164)),p=m(n(252));function m(e){return e&&e.__esModule?e:{default:e}}var g=Date.now(),h=new Date(g),_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));y.call(n);var a=n.props.rectificationData,r=!1,i=h;return a&&(a.date&&(i=new Date(a.date)),r=a.value),n.state={needRectification:r,date:i,showStar:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({showStar:e.showStar})}},{key:"render",value:function(){return o.default.createElement(u.default,{style:b.container,__source:{fileName:a,lineNumber:77}},o.default.createElement(d.default,{__source:{fileName:a,lineNumber:78}},o.default.createElement(d.default.SwitchItem,{title:"需要整改",bottomSeparator:this.state.needRectification?"indent":"none",switchValue:this.state.needRectification,onValueChange:this.onChangeSwitch,__source:{fileName:a,lineNumber:79}})),this.state.needRectification?o.default.createElement(f.default,{showStar:this.state.showStar,childView:this.renderStarChildView(),__source:{fileName:a,lineNumber:84}}):null)}}]),t}(),y=function(){var e=this;this.onChangeSwitch=function(t){s.default.dismiss(),e.setState({needRectification:t})},this.getRectificationData=function(){var t="";return e.state.needRectification&&e.state.date&&(t=e.state.date.getTime()),{value:e.state.needRectification,date:t}},this.renderStarChildView=function(){return o.default.createElement(u.default,{__source:{fileName:a,lineNumber:63}},o.default.createElement(p.default,{title:"整改期限",date:e.state.date,onDateChange:function(t){e.setState({date:t})},textStyle:{alignItems:"flex-end"},__source:{fileName:a,lineNumber:64}}))}};t.default=_,_.propTypes={date:c.default.string,showStar:c.default.bool};var b=l.default.create({container:{marginTop:10,marginBottom:10}})},656:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=!1,a=void 0;t.default=callOnceInInterval=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600;if(!n)return n=!0,clearTimeout(a),a=setTimeout(function(){n=!1},t),e()}},657:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\new\\NewQualityView.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(16),l=P(n(0)),u=P(n(1)),s=(P(n(66)),P(n(9))),c=P(n(12)),f=P(n(3)),d=P(n(67)),p=P(n(2)),m=P(n(91)),g=n(44),h=T(n(400)),_=T(n(143)),y=T(n(257)),b=P(n(656)),v=P(n(164)),N=P(n(655)),E=P(n(635)),w=P(n(634)),I=P(n(253));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}var S=s.default.get("window"),C=S.width,O=S.height,k="gldPhoto",x="REF_INSPECT_COMPANY",D="REF_COMPANY",A="REF_PERSON",R="REF_RECTIFICATION",j="REF_CHECKPOINT",M=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentDescription="",n.componentDidMount=function(){var e=n.props.setRef;e&&e(n)},n.goBack=function(e){m.default.dismiss();var t=n.assembleParams();h.isEditInfoChange(t,n.state.inspectionInfo,n.refs[k],function(t){t?o.ActionModal.alert("是否确认退出当前页面？","您还未保存当前数据！",[{text:"取消",style:{color:"#5b5b5b"}},{text:"不保存",style:{color:"#e75452"},onPress:function(){e.goBack()}},{text:"保存",style:{color:"#00baf3"},onPress:function(){n.save()}}]):e.goBack()})},n.getSelectedData=function(e){var t=n.refs[e],a={};return t&&(a=t.getSelectedData()),a},n.getRectificationData=function(){return n.refs[R]?n.refs[R].getRectificationData():{}},n.getSelectedCheckPoint=function(){return n.refs[j]?n.refs[j].getSelectedCheckPoint():{}},n.assembleParams=function(){return{companyData:n.getSelectedData(D),inspectCompanyData:n.getSelectedData(x),personData:n.getSelectedData(A),checkPoint:n.getSelectedCheckPoint(),rectificationData:n.getRectificationData(),inspectionType:n.props.type,state:n.state}},n.submit=function(e){m.default.dismiss();var t=n.assembleParams();h.submit(t,n.refs[k],e,function(e){n.setState(e),n.props.updateData()},n.props.updateData)},n.isQualitySaveLoading=!1,n.save=function(){m.default.dismiss(),(0,b.default)(function(){var e=n.assembleParams();h.save(e,n.refs[k],function(e){n.setState(e),n.props.updateData()})})},n.delete=function(e){m.default.dismiss(),o.ActionModal.alertConfirm("是否确认删除？","删除当前数据后，数据不可恢复哦！",{text:"取消"},{text:"删除",onPress:function(){h.deleteInspection(n.state.inspectId,n.props.type,function(){n.props.updateData(),storage.goBack(n.props.navigator,null)})}})},n._bimFileChooserBluePrint=function(e){m.default.dismiss();var t=n.props.navigation;storage.bimFileChooseCallback=n._bimChooserCallback,y.chooseBlueprintFromQualityNew(t,n.state.relevantBlueprint.drawingGdocFileId,n.state.relevantBlueprint.drawingName,n.state.relevantBlueprint.drawingPositionX,n.state.relevantBlueprint.drawingPositionY)},n._bimFileChooserModel=function(e){m.default.dismiss();var t=n.props.navigation;storage.bimFileChooseCallback=n._bimChooserCallback,y.chooseModelFromQualityNew(t,n.state.relevantModel.gdocFileId,n.state.relevantModel.elementId,n.state.relevantModel.buildingId,n.state.relevantModel.buildingName)},n._bimChooserCallback=function(e,t){n.props.setTitle&&n.props.setTitle(),"图纸文件"===t?n.setState({relevantBlueprint:e}):"模型文件"===t&&h.getModelElementProperty(e,function(e){n.setState(e)})},n.renderDescriptionView=function(){return u.default.createElement(d.default,{maxLength:255,style:{textAlignVertical:"top",paddingLeft:20,paddingRight:20,paddingTop:12,paddingBottom:0,backgroundColor:"#ffffff",minHeight:120},placeholder:"现场情况描述",multiline:!0,underlineColorAndroid:"transparent",textAlign:"left",onChangeText:function(e){n.state.contentDescription=e,n.contentDescription=e},defaultValue:n.contentDescription,__source:{fileName:r,lineNumber:283}})},n.renderData=function(){return n.state.initial?u.default.createElement(p.default,{style:{paddingBottom:0},__source:{fileName:r,lineNumber:310}},u.default.createElement(w.default,{ref:x,title:"acceptance"===n.props.type?"验收单位":"检查单位",value:n.state.editInfo?{id:n.state.editInfo.inspectionCompanyId,name:n.state.editInfo.inspectionCompanyName}:{},dataList:n.props.editParams.inspectionCompanies,showStar:n.state.showInspectCompanyStar,__source:{fileName:r,lineNumber:311}}),u.default.createElement(w.default,{ref:D,title:"施工单位",value:n.state.editInfo?{id:n.state.editInfo.constructionCompanyId,name:n.state.editInfo.constructionCompanyName}:{},dataList:n.props.editParams.supporters,selectCallback:function(e){n.setState({selectCompany:e})},showStar:n.state.showCompanyStar,__source:{fileName:r,lineNumber:321}}),u.default.createElement(w.default,{ref:A,title:"责任人",value:n.state.editInfo?{id:n.state.editInfo.responsibleUserId,name:n.state.editInfo.responsibleUserName,title:n.state.editInfo.responsibleUserTitle}:{},extraData:n.state.selectCompany,showStar:n.state.showPersonStar,__source:{fileName:r,lineNumber:334}}),u.default.createElement(I.default,{showStar:n.state.showDescriptionStar,childView:n.renderDescriptionView(),__source:{fileName:r,lineNumber:343}}),u.default.createElement(p.default,{style:[{width:"100%",height:130,marginTop:10,marginBottom:0,backgroundColor:"#FFFFFF"},n.hasImage?{}:{display:"none"}],__source:{fileName:r,lineNumber:347}},u.default.createElement(o.ImageChooserView,{ref:k,files:n.state.files,style:{width:C,height:100,marginTop:10,marginLeft:10,marginRight:10},onChange:function(){},__source:{fileName:r,lineNumber:348}})),u.default.createElement(N.default,{ref:R,rectificationData:n.state.rectificationData,showStar:n.state.showRectificationStar,__source:{fileName:r,lineNumber:350}}),u.default.createElement(I.default,{showStar:n.state.showCheckpointStar,childView:u.default.createElement(E.default,{ref:j,selectedCheckPoint:n.state.selectedCheckPoint,__source:{fileName:r,lineNumber:353}}),__source:{fileName:r,lineNumber:351}}),u.default.createElement(v.default,{__source:{fileName:r,lineNumber:355}},u.default.createElement(v.default.Item,{title:"关联图纸",bottomSeparator:"indent",detail:n.state.relevantBlueprint?n.state.relevantBlueprint.drawingName:"",onPress:function(){n._bimFileChooserBluePrint("图纸文件")},__source:{fileName:r,lineNumber:356}})),u.default.createElement(v.default,{__source:{fileName:r,lineNumber:358}},u.default.createElement(v.default.Item,{title:"关联模型",detail:n.state.relevantModel.elementName?n.state.relevantModel.elementName:"",onPress:function(){n._bimFileChooserModel("模型文件")},__source:{fileName:r,lineNumber:359}})),u.default.createElement(o.StatusActionButton,{style:{height:40,marginTop:30,marginRight:40,marginLeft:40,backgroundColor:"#00b5f2",borderColor:"#00b5f2"},color:"#ffffff",text:"保存",onClick:function(){return n.save()},__source:{fileName:r,lineNumber:362}}),-1!=n.state.inspectId?u.default.createElement(o.StatusActionButton,{text:"删除",style:{height:40,marginTop:20,marginRight:40,marginLeft:40,backgroundColor:"#ffffff",borderColor:"#ffffff"},color:"#000000",onClick:function(){return n.delete()},__source:{fileName:r,lineNumber:365}}):null,u.default.createElement(p.default,{style:{height:30,width:"100%"},__source:{fileName:r,lineNumber:368}})):n.renderLoadingView()},n.state={initial:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.editParams&&e.editParams.editInfo&&!this.state.initial){var n=e;this.hasImage=!0,n.editParams&&n.editParams.noimage&&(this.hasImage=!1);var r={};n.editParams.editInfo&&(r=n.editParams.editInfo);var i=[];r.files&&r.files.length&&r.files.map(function(e,n){var r=a({},e);r.randomKey&&(r.randomKey=r.randomKey+"_"+t.props.type),i.push(r)}),this.contentDescription=r.contentDescription?r.contentDescription:"",this.setState({isLoading:!1,inspectionInfo:r.inspectionInfo?r.inspectionInfo:{},editInfo:r.editInfo?r.editInfo:{},projectId:storage.loadProject(),inspectId:r.inspectId?r.inspectId:-1,code:r.code?r.code:"",contentDescription:r.contentDescription?r.contentDescription:"",selectedCheckPoint:r.selectedCheckPoint?r.selectedCheckPoint:{},relevantBlueprint:r.relevantBlueprint?r.relevantBlueprint:{},relevantModel:r.relevantModel?r.relevantModel:{},rectificationData:r.rectificationData?r.rectificationData:{},showInspectCompanyStar:!1,showCompanyStar:!1,showPersonStar:!1,showDescriptionStar:!1,showCheckpointStar:!1,showRectificationStar:!1,files:i,initial:!0})}}},{key:"renderLoadingView",value:function(){return u.default.createElement(p.default,{style:L.container,__source:{fileName:r,lineNumber:299}},u.default.createElement(c.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:300}}),u.default.createElement(o.LoadingView,{__source:{fileName:r,lineNumber:301}}))}},{key:"render",value:function(){return u.default.createElement(p.default,{__source:{fileName:r,lineNumber:376}},u.default.createElement(c.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:r,lineNumber:377}}),this.renderData())}}]),t}(),L=f.default.create({container:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#FFFFFF",height:O}});M.propTypes={editParams:l.default.object,type:l.default.string},t.default=(0,g.connect)(function(e){return{selectedCheckPoint:e.checkPointList.selectedCheckPoint}},function(e){return{updateData:function(){e&&e(_.updateData())}}})(M)},658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\pages\\new\\NewCheckListTabBar.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=d(i),l=d(n(3)),u=d(n(2)),s=d(n(6)),c=(d(n(7)),d(n(8))),f=d(n(0));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onTabClick=function(e){n.state.activeTab!=e&&(n.props.defaultProps.goToTab(e),n.setState({activeTab:e}))},n.renderTab=function(e,t){return o.default.createElement(c.default,{key:t,onPress:function(e){e.preventDefault(),n.onTabClick(t)},__source:{fileName:a,lineNumber:41}},o.default.createElement(u.default,{style:m.tabTextContainer,__source:{fileName:a,lineNumber:42}},o.default.createElement(s.default,{style:n.state.activeTab==t?m.tabTextSelected:m.tabText,__source:{fileName:a,lineNumber:43}},e.title)),o.default.createElement(u.default,{style:n.state.activeTab!=t?{display:"none"}:m.underLine,__source:{fileName:a,lineNumber:45}}))},n.state={activeTab:e.defaultProps.activeTab},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return o.default.createElement(u.default,{style:[m.tabBar,this.props.backgroundColor?{backgroundColor:this.props.backgroundColor}:null],__source:{fileName:a,lineNumber:52}},o.default.createElement(u.default,{style:m.tabItemContainer,__source:{fileName:a,lineNumber:53}},this.props.defaultProps.tabs.map(function(t,n){return e.renderTab(t,n)})))}}]),t}();p.propTypes={defaultProps:f.default.object};var m=l.default.create({tabBar:{height:44,flexDirection:"row",backgroundColor:"#00baf3",alignItems:"center"},tabItemContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},tabTextContainer:{height:42,alignItems:"center",flexDirection:"row",alignSelf:"center"},tabText:{color:"#ffffff",fontSize:15,marginLeft:7,marginRight:7},tabTextSelected:{color:"#ffffff",fontSize:17,marginLeft:7,marginRight:7},underLine:{width:26,height:2,alignSelf:"center",backgroundColor:"#ffffff"}});t.default=p},659:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchData=function(e){return function(t){t({type:a.NEW_QUALITY_LOADING_START,isLoading:!0}),function(e,t){o=0;var n=2,a=!1;e&&e.item&&e.item.value&&(a=!0);var i=e.relevantModel;a?n++:i&&n++;var c={editInfo:{},noimage:e.noimage};r.default.getInspectionCompanies(storage.loadProject()).then(function(e){var t=[];return e&&e.data&&(t=e.data),t}).then(function(a){c.inspectionCompanies=a,u(e,c,n,t)}).catch(function(e){t(s())}),r.default.getCompaniesList(storage.loadProject(),"SGDW").then(function(e){var t=[];return e&&e.data&&(t=e.data),t}).then(function(a){c.supporters=a,u(e,c,n,t)}).catch(function(e){t(s())}),a?function(e){return r.default.getQualityInspectionDetail(storage.loadProject(),e).then(function(e){var t={};return e.data&&e.data.inspectionInfo&&(t=function(e){var t=e.description,n=e.id,a=e.code,r=(e.inspectionType,e.projectId),i=e.projectName,o={value:e.needRectification,date:e.lastRectificationDate},l={id:e.qualityCheckpointId,name:e.qualityCheckpointName},u={drawingGdocFileId:e.drawingGdocFileId,drawingName:e.drawingName,drawingPositionX:e.drawingPositionX,drawingPositionY:e.drawingPositionY},s={gdocFileId:e.gdocFileId,buildingName:e.buildingName,buildingId:e.buildingId,elementId:e.elementId,elementName:e.elementName};return{inspectionInfo:e,editInfo:e,contentDescription:t,inspectId:n,code:a,projectId:r,projectName:i,files:e.files,selectedCheckPoint:l,relevantBlueprint:u,relevantModel:s,rectificationData:o}}(e.data.inspectionInfo)),t})}(e.item.value.id).then(function(a){c.editInfo=a,c.isEdit=!0,a&&a.files&&a.files.length>0?l(c.editInfo.files,function(a){u(e,c,n,t)}):u(e,c,n,t)}).catch(function(e){t(s())}):i&&function(e,t){return r.default.getModelElementProperty(storage.loadProject(),storage.projectIdVersionId,e,t).then(function(e){var t=e.data.data.name;return t})}(e.relevantModel.gdocFileId,e.relevantModel.elementId).then(function(a){e.relevantModel.elementName=a,c.editInfo||(c.editInfo={}),c.editInfo.relevantModel=e.relevantModel,u(e,c,n,t)}).catch(function(e){t(s())})}(e,t)}},t.reset=function(){return{type:a.NEW_QUALITY_RESET}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(416)),r=i(n(10));i(n(36)),i(n(41));function i(e){return e&&e.__esModule?e:{default:e}}var o=0;function l(e,t){var n=e.length;e.map(function(a,i){r.default.getBimFileUrl(a.objectId,function(a,r){n--,a&&(e[i].url=r),n<1&&t(e)}).catch(function(a){dispatch(s()),--n<1&&t(e)})})}function u(e,t,n,r){if(++o===n){var i=function(e){var t={};if(!(e&&e.item&&e.item.value)&&(e.files&&(t.files=e.files),e.relevantBlueprint&&(t.relevantBlueprint=e.relevantBlueprint),e.qualityCheckpointId)){var n={id:e.qualityCheckpointId,name:e.qualityCheckpointName};t.selectedCheckPoint=n}return t}(e);(i.files||i.relevantBlueprint||i.selectedCheckPoint)&&(t.editInfo=i),r(function(e){return{type:a.NEW_QUALITY_LOADING_DONE,editQualityParams:e,isLoading:!1}}(t))}}function s(){return{type:a.NEW_QUALITY_LOADING_ERROR,loadingError:!0}}},680:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EditPhotoPage=t.OfflineAsyncPage=t.SharePage=t.QualityRecordPage=t.QualityConditionPage=t.EquipmentRecordPage=t.EquipmentConditionPage=t.OfflineDownloadPage=t.OfflineMangePage=t.ChangeProjectPage=t.FeedbackPage=t.ForgotPage=t.AboutPage=t.BimSearchPage=t.EquipmentSearchPage=t.QualitySearchPage=t.SearchPage=t.EquipmentDetailPage=t.EquipmentMainPage=t.NewReviewPage=t.QualityStatardsPage=t.BigImageViewPage=t.QualityDetailPage=t.CheckPointListPage=t.RelevantModlePage=t.RelevantBlueprintPage=t.WebPage=t.BimFileChooserPage=t.ProjectPage=t.TenantPage=t.ChoosePage=t.CheckPointPage=t.QualityMainPage=t.NewPage=t.SubscribePage=t.MessagePage=t.SettingPage=t.MyPage=t.MainPage=t.HomePage=t.GuidePage=t.LoginPage=void 0;var a=Y(n(415)),r=Y(n(414)),i=Y(n(393)),o=Y(n(392)),l=Y(n(390)),u=Y(n(387)),s=Y(n(386)),c=Y(n(385)),f=Y(n(382)),d=Y(n(379)),p=Y(n(374)),m=Y(n(372)),g=Y(n(371)),h=Y(n(370)),_=Y(n(369)),y=Y(n(367)),b=Y(n(366)),v=Y(n(364)),N=Y(n(361)),E=Y(n(360)),w=Y(n(357)),I=Y(n(355)),T=Y(n(354)),P=Y(n(338)),S=Y(n(335)),C=Y(n(334)),O=Y(n(333)),k=Y(n(332)),x=Y(n(331)),D=Y(n(330)),A=Y(n(329)),R=Y(n(328)),j=Y(n(537)),M=Y(n(533)),L=Y(n(530)),B=Y(n(529)),q=Y(n(528)),F=Y(n(527)),V=Y(n(323)),Q=Y(n(526)),U=Y(n(322));function Y(e){return e&&e.__esModule?e:{default:e}}t.LoginPage=r.default,t.GuidePage=a.default,t.HomePage=i.default,t.MainPage=f.default,t.MyPage=o.default,t.SettingPage=l.default,t.MessagePage=u.default,t.SubscribePage=s.default,t.NewPage=c.default,t.QualityMainPage=d.default,t.CheckPointPage=_.default,t.ChoosePage=y.default,t.TenantPage=y.default,t.ProjectPage=b.default,t.BimFileChooserPage=v.default,t.WebPage=N.default,t.RelevantBlueprintPage=E.default,t.RelevantModlePage=w.default,t.CheckPointListPage=I.default,t.QualityDetailPage=p.default,t.BigImageViewPage=g.default,t.QualityStatardsPage=m.default,t.NewReviewPage=h.default,t.EquipmentMainPage=T.default,t.EquipmentDetailPage=P.default,t.SearchPage=S.default,t.QualitySearchPage=C.default,t.EquipmentSearchPage=O.default,t.BimSearchPage=k.default,t.AboutPage=x.default,t.ForgotPage=A.default,t.FeedbackPage=D.default,t.ChangeProjectPage=R.default,t.OfflineMangePage=j.default,t.OfflineDownloadPage=M.default,t.EquipmentConditionPage=L.default,t.EquipmentRecordPage=B.default,t.QualityConditionPage=q.default,t.QualityRecordPage=F.default,t.SharePage=V.default,t.OfflineAsyncPage=Q.default,t.EditPhotoPage=U.default},681:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\home\\CreateButton.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=s(n(1)),o=s(n(14)),l=s(n(2)),u=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"renderIOS",value:function(){return i.default.createElement(l.default,{style:{width:70,height:70,alignItems:"center",justifyContent:"center"},__source:{fileName:a,lineNumber:7}},i.default.createElement(u.default,{style:[{width:61,height:61,resizeMode:"contain",position:"absolute"},{top:20,left:4.5}],source:n(201),__source:{fileName:a,lineNumber:13}}))}},{key:"renderAndroid",value:function(){return i.default.createElement(l.default,{style:{width:70,height:70,alignItems:"center",justifyContent:"center"},__source:{fileName:a,lineNumber:20}},i.default.createElement(u.default,{style:[{width:61,height:61,resizeMode:"contain",position:"absolute"},{top:10,left:4.5}],source:n(201),__source:{fileName:a,lineNumber:26}}))}},{key:"renderWeb",value:function(){return i.default.createElement(l.default,{style:{width:70,height:44,alignItems:"center"},__source:{fileName:a,lineNumber:33}},i.default.createElement(u.default,{style:[{width:61,height:61,resizeMode:"contain",position:"absolute",bottom:0,left:4.5}],source:n(201),__source:{fileName:a,lineNumber:38}}))}},{key:"render",value:function(){return"ios"===o.default.OS?this.renderIOS():"android"===o.default.OS?this.renderAndroid():"web"===o.default.OS?this.renderWeb():void 0}}]),t}();t.default=c},683:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\GLDActionSheet.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=f(n(1)),o=f(n(2)),l=(f(n(6)),f(n(7)),f(n(27))),u=f(n(9)),s=(f(n(8)),f(n(3))),c=n(48);f(n(395));function f(e){return e&&e.__esModule?e:{default:e}}var d=u.default.get("window"),p=d.width,m=(d.height,n(56).default,function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Overlay),r(t,null,[{key:"show",value:function(e){var n=this;return function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.__proto__||Object.getPrototypeOf(t),"show",this).call(this,i.default.createElement(c.Overlay.View,{side:"bottom",modal:!1,style:g.container,overlayOpacity:.7,ref:function(e){return n.overlayView=e},__source:{fileName:a,lineNumber:23}},i.default.createElement(l.default,{__source:{fileName:a,lineNumber:28}},i.default.createElement(o.default,{style:g.card,__source:{fileName:a,lineNumber:29}},e))))}},{key:"close",value:function(){this.overlayView&&this.overlayView.close()}}]),t}());m.overlayView=null;var g=s.default.create({container:{flexDirection:"column",alignItems:"center",justifyContent:"flex-end",alignContent:"center"},card:{width:p,backgroundColor:"#fff",alignItems:"center"}});t.default=m},686:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\common\\components\\ShareView.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=m(i),l=m(n(2)),u=m(n(6)),s=m(n(7)),c=m(n(3)),f=m(n(9)),d=m(n(8)),p=n(16);function m(e){return e&&e.__esModule?e:{default:e}}var g=f.default.get("window"),h=g.width,_=(g.height,[{name:"一天过期"},{name:"七天过期"},{name:"永久有效"}]),y=[{name:"加密"},{name:"允许下载"}],b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._getRadioSource=function(e){return n(e?200:199)},r._selectExpireTime=function(e){r.state.selectExpireTime.name!=e.name&&r.setState({selectExpireTime:e})},r._renderRadio=function(e){return o.default.createElement(d.default,{onPress:function(t){t.preventDefault(),r._selectExpireTime(e)},__source:{fileName:a,lineNumber:50}},o.default.createElement(l.default,{style:[v.flexContainer,{width:(h-20)/3}],__source:{fileName:a,lineNumber:54}},o.default.createElement(s.default,{style:v.checkImage,source:r._getRadioSource(r.state.selectExpireTime.name===e.name),__source:{fileName:a,lineNumber:55}}),o.default.createElement(u.default,{style:[v.checkText],__source:{fileName:a,lineNumber:56}},e.name)))},r._getCheckBoxSource=function(e){return n(e?200:199)},r._selectPermission=function(e){var t=r._findPermissionIndex(e);t<0?r.state.selectPermission.push(e):r.state.selectPermission.splice(t,1),r.setState({selectPermission:r.state.selectPermission})},r._findPermissionIndex=function(e){return r.state.selectPermission.findIndex(function(t,n,a){return e.name===t.name})},r._renderCheckBox=function(e){var t=r._findPermissionIndex(e);return o.default.createElement(d.default,{onPress:function(t){t.preventDefault(),r._selectPermission(e)},__source:{fileName:a,lineNumber:89}},o.default.createElement(l.default,{style:[v.flexContainer,{width:(h-20)/3}],__source:{fileName:a,lineNumber:93}},o.default.createElement(s.default,{style:v.checkImage,source:r._getCheckBoxSource(t>=0),__source:{fileName:a,lineNumber:94}}),o.default.createElement(u.default,{style:[v.checkText],__source:{fileName:a,lineNumber:95}},e.name)))},r.state={selectExpireTime:{},selectPermission:[]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this;this.state.selected?n(200):n(199);return o.default.createElement(l.default,{style:{width:h,paddingTop:20,paddingBottom:15},__source:{fileName:a,lineNumber:104}},o.default.createElement(u.default,{style:v.title,__source:{fileName:a,lineNumber:105}},"文件分享有效期"),o.default.createElement(l.default,{style:[v.flexContainer,v.checkContainer],__source:{fileName:a,lineNumber:106}},_.map(function(t){return e._renderRadio(t)})),o.default.createElement(l.default,{style:[v.line],__source:{fileName:a,lineNumber:113}}),o.default.createElement(u.default,{style:v.title,__source:{fileName:a,lineNumber:115}},"文件分享权限"),o.default.createElement(l.default,{style:[v.flexContainer,v.checkContainer],__source:{fileName:a,lineNumber:116}},y.map(function(t){return e._renderCheckBox(t)})),o.default.createElement(l.default,{style:[v.line],__source:{fileName:a,lineNumber:123}}),o.default.createElement(p.GLDGrid,{data:this.props.data,numColumns:4,cardStyle:{width:h/4},imageStyle:{height:60,width:60},onPress:function(t,n){p.GLDActionSheet.close(),e.props.share(t,n,"分享地址")},__source:{fileName:a,lineNumber:124}}))}}]),t}(),v=c.default.create({flexContainer:{flexDirection:"row",alignItems:"center"},title:{color:"#000",fontSize:14,marginLeft:20},checkContainer:{marginLeft:20,paddingTop:20},checkImage:{width:16,height:16,resizeMode:"contain"},checkText:{color:"#000",fontSize:14,marginLeft:10},line:{height:1,width:h,marginTop:10,marginBottom:20,backgroundColor:"#f7f7f7"}});t.default=b},687:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=u(n(1)),i=u(n(9)),o=n(16),l=u(n(686));function u(e){return e&&e.__esModule?e:{default:e}}var s=i.default.get("window"),c=(s.width,s.height,n(56).default),f=[{source:n(685),name:"微信",platform:2},{source:n(684),name:"收藏",platform:0},{source:n(396),name:"朋友圈",platform:0},{source:n(396),name:"更多",platform:33}],d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"sharePlatform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e,t){};c.UMShareModule.share(e,t,n,a,r,i)}},{key:"share",value:function(){var t=r.default.createElement(l.default,{data:f,share:function(t,n,a){e.sharePlatform(t.platform)},__source:{fileName:"D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\common\\components\\ShareManager.js",lineNumber:63}});o.GLDActionSheet.show(t)}}]),e}();t.default=d},689:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\circlebar\\CircleProgressBar.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=p(i),l=p(n(6)),u=p(n(2)),s=p(n(8)),c=p(n(7)),f=p(n(3)),d=p(n(397));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._startDownload=function(){(0,r.props.startDownload)()},r._downloading=function(){(0,r.props.stopDownload)()},r._getView=function(){var e=r.props,t=e.progress,i=e.totalNum;e.finishText;if(null==t||void 0==t||null==i||void 0==i)return o.default.createElement(u.default,{style:g.container,__source:{fileName:a,lineNumber:38}},o.default.createElement(s.default,{onPress:function(){return r._startDownload()},__source:{fileName:a,lineNumber:39}},o.default.createElement(c.default,{source:n(688),style:{width:34,height:34},__source:{fileName:a,lineNumber:40}})));if(null!=t&&void 0!=t&&null!=i&&void 0!=i){var f=100*r.props.progress/r.props.totalNum,p=Number.parseInt(f+"");return 100==p?r._getFinishView():o.default.createElement(u.default,{style:g.container,__source:{fileName:a,lineNumber:52}},o.default.createElement(l.default,{style:{fontSize:12,color:"#00b1f1",marginRight:5},__source:{fileName:a,lineNumber:53}},"下载中",p,"%"),o.default.createElement(d.default,{progress:r.props.progress,totalNum:r.props.totalNum,raduis:17,__source:{fileName:a,lineNumber:54}},o.default.createElement(u.default,{style:{alignItems:"center",justifyContent:"center"},__source:{fileName:a,lineNumber:55}},o.default.createElement(s.default,{onPress:function(){return r._downloading()},__source:{fileName:a,lineNumber:56}},o.default.createElement(l.default,{style:{color:"#979797",fontSize:15},__source:{fileName:a,lineNumber:57}},"| |")))))}return null},r._getFinishView=function(){return o.default.createElement(u.default,{style:g.container,__source:{fileName:a,lineNumber:69}},o.default.createElement(l.default,{style:{color:"#666666",fontSize:12},__source:{fileName:a,lineNumber:70}},r.props.finishText," 已下载"))},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){return this._getView()}}]),t}();t.default=m;var g=f.default.create({container:{width:130,height:34,alignItems:"center",flexDirection:"row",justifyContent:"flex-end",marginRight:20}})},690:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\ToCleanDialog.js",i=this,o=f(n(1)),l=f(n(2)),u=f(n(6)),s=f(n(8)),c=n(48);function f(e){return e&&e.__esModule?e:{default:e}}var d=null;click=function(e){e&&e.close(),console.log("to clean current name="+storage.currentRouteName),d()};var p=null,m=o.default.createElement(c.Overlay.View,{side:"center",modal:!1,style:{flexDirection:"column",alignItems:"center",justifyContent:"center",alignContent:"center"},ref:function(e){i.overlayView=e,p=e},__source:{fileName:r,lineNumber:18}},o.default.createElement(l.default,{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",marginBottom:93,marginTop:20},__source:{fileName:r,lineNumber:22}},o.default.createElement(l.default,{style:{width:270,height:142,backgroundColor:"#ffffff",borderRadius:6,alignItems:"center"},__source:{fileName:r,lineNumber:24}},o.default.createElement(u.default,{style:{color:"#000000",fontSize:16,marginTop:30,marginLeft:20,marginRight:20},__source:{fileName:r,lineNumber:25}},"此操作将删除您已下载的离线应用相关数据，确定清除吗？"),o.default.createElement(l.default,{style:{backgroundColor:"#e7e7e7",height:1,width:270,marginTop:20},__source:{fileName:r,lineNumber:26}}),o.default.createElement(l.default,{style:{flex:1,flexDirection:"row"},__source:{fileName:r,lineNumber:27}},o.default.createElement(s.default,{onPress:function(){i.overlayView&&i.overlayView.close()},__source:{fileName:r,lineNumber:28}},o.default.createElement(u.default,{style:{color:"#5b5b5b",fontSize:18,width:135,textAlign:"center",marginTop:10},__source:{fileName:r,lineNumber:29}},"取消")),o.default.createElement(l.default,{style:{backgroundColor:"#e7e7e7",width:1},__source:{fileName:r,lineNumber:31}}),o.default.createElement(s.default,{onPress:function(){click(i.overlayView)},__source:{fileName:r,lineNumber:32}},o.default.createElement(u.default,{style:{color:"#00baf3",fontSize:18,width:135,textAlign:"center",marginTop:10},__source:{fileName:r,lineNumber:33}},"清除")))))),g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"show",value:function(e){d=e,c.Overlay.show(m)}},{key:"hide",value:function(){p&&p.close()}}]),e}();t.default=g},693:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\BimSwitch.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=c(i),l=n(0),u=c(n(7)),s=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}var f=n(692),d=n(691),p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._click=function(){var t=e.props.onValueChange;e.setState(function(e){return t(!e.isOpen),{isOpen:!e.isOpen}})},e.componentDidMount=function(){var t=e.props.value;e.setState(function(e){return{isOpen:t}})},e.state={isOpen:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props.styleIn,n=void 0===t?{}:t,r=this.state.isOpen?f:d;return o.default.createElement(s.default,{style:n,onPress:function(t){t.preventDefault(),e._click()},__source:{fileName:a,lineNumber:47}},o.default.createElement(u.default,{source:r,style:{width:36,height:18},__source:{fileName:a,lineNumber:48}}))}}]),t}();p.propTypes={value:l.PropTypes.bool.isRequired,onValueChange:l.PropTypes.func.isRequired},t.default=p},694:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\ToOnlineDialog.js",i=this,o=d(n(1)),l=d(n(2)),u=d(n(6)),s=d(n(8)),c=n(48),f=d(n(36));function d(e){return e&&e.__esModule?e:{default:e}}click=function(e){e&&e.close();storage.getRootNavigation();f.default.toOnLine(),console.log("to online current name="+storage.currentRouteName)};var p=null,m=o.default.createElement(c.Overlay.View,{side:"center",modal:!1,style:{flexDirection:"column",alignItems:"center",justifyContent:"center",alignContent:"center"},ref:function(e){i.overlayView=e,p=e},__source:{fileName:r,lineNumber:28}},o.default.createElement(l.default,{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",marginBottom:93,marginTop:20},__source:{fileName:r,lineNumber:32}},o.default.createElement(l.default,{style:{width:270,height:142,backgroundColor:"#ffffff",borderRadius:6,alignItems:"center"},__source:{fileName:r,lineNumber:34}},o.default.createElement(u.default,{style:{color:"#000000",fontSize:16,marginTop:30,marginLeft:20,marginRight:20},__source:{fileName:r,lineNumber:35}},"当前操作环境为离线模式，要恢复至网络模式吗？"),o.default.createElement(l.default,{style:{backgroundColor:"#e7e7e7",height:1,width:270,marginTop:20},__source:{fileName:r,lineNumber:36}}),o.default.createElement(l.default,{style:{flex:1,flexDirection:"row"},__source:{fileName:r,lineNumber:37}},o.default.createElement(s.default,{onPress:function(){i.overlayView&&i.overlayView.close()},__source:{fileName:r,lineNumber:38}},o.default.createElement(u.default,{style:{color:"#5b5b5b",fontSize:18,width:135,textAlign:"center",marginTop:10},__source:{fileName:r,lineNumber:39}},"取消")),o.default.createElement(l.default,{style:{backgroundColor:"#e7e7e7",width:1},__source:{fileName:r,lineNumber:41}}),o.default.createElement(s.default,{onPress:function(){click(i.overlayView)},__source:{fileName:r,lineNumber:42}},o.default.createElement(u.default,{style:{color:"#00baf3",fontSize:18,width:135,textAlign:"center",marginTop:10},__source:{fileName:r,lineNumber:43}},"网络模式")))))),g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"show",value:function(e){c.Overlay.show(m)}},{key:"hide",value:function(){p&&p.close()}}]),e}();t.default=g},696:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\ToOnlineOverLay.js",i=this,o=m(n(1)),l=m(n(2)),u=m(n(7)),s=m(n(6)),c=m(n(8)),f=n(48),d=m(n(165)),p=m(n(36));function m(e){return e&&e.__esModule?e:{default:e}}click=function(e){e&&e.close();var t=storage.getRootNavigation();p.default.toOnLine(),console.log("to online current name="+storage.currentRouteName);var n=storage.currentRouteName;"LoginPage"==n||"ChoosePage"==n||"ProjectPage"==n||storage.gotoMainPage(t)};var g=null,h=o.default.createElement(f.Overlay.View,{side:"bottom",modal:!1,style:{flexDirection:"column",alignItems:"center",justifyContent:"flex-end",alignContent:"center"},ref:function(e){i.overlayView=e,g=e},__source:{fileName:r,lineNumber:30}},o.default.createElement(l.default,{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",marginBottom:93,marginTop:20},__source:{fileName:r,lineNumber:36}},o.default.createElement(l.default,{style:{width:300,height:350,backgroundColor:"#ffffff",borderRadius:5,alignItems:"center"},__source:{fileName:r,lineNumber:38}},o.default.createElement(u.default,{source:n(695),style:{width:242,height:127,marginTop:20},__source:{fileName:r,lineNumber:39}}),o.default.createElement(s.default,{style:{color:"#000000",fontSize:18,marginTop:13,marginLeft:23,marginRight:23},__source:{fileName:r,lineNumber:40}},"网络信号已恢复，建议您恢复至网络模式！"),o.default.createElement(s.default,{style:{color:"#262525",fontSize:13,marginTop:20,marginLeft:23,marginRight:23},__source:{fileName:r,lineNumber:41}},"请先保存好您离线模式下编辑的数据，再恢复至网络模式。"),o.default.createElement(d.default,{text:"恢复网络模式",onClick:function(){click(i.overlayView)},style:{marginTop:25,width:260,height:40,alignSelf:"center"},__source:{fileName:r,lineNumber:42}})),o.default.createElement(c.default,{onPress:function(){i.overlayView&&i.overlayView.close()},__source:{fileName:r,lineNumber:44}},o.default.createElement(u.default,{source:n(254),transform:[{rotateZ:"45deg"}],style:{width:35,height:35,marginTop:35},__source:{fileName:r,lineNumber:45}})))),_=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"show",value:function(e){f.Overlay.show(h)}},{key:"hide",value:function(){null!=g&&g.close()}}]),e}();t.default=_},698:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\ToOfflineOverLay.js",i=this,o=m(n(1)),l=m(n(2)),u=m(n(7)),s=m(n(6)),c=m(n(8)),f=n(48),d=m(n(165)),p=m(n(36));function m(e){return e&&e.__esModule?e:{default:e}}var g=null,h=o.default.createElement(f.Overlay.View,{side:"bottom",modal:!1,style:{flexDirection:"column",alignItems:"center",justifyContent:"flex-end",alignContent:"center"},ref:function(e){i.overlayView=e,g=e},__source:{fileName:r,lineNumber:13}},o.default.createElement(l.default,{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",marginBottom:93,marginTop:20},__source:{fileName:r,lineNumber:19}},o.default.createElement(l.default,{style:{width:300,height:340,backgroundColor:"#ffffff",borderRadius:5,alignItems:"center"},__source:{fileName:r,lineNumber:21}},o.default.createElement(u.default,{source:n(697),style:{width:242,height:91,marginTop:30},__source:{fileName:r,lineNumber:22}}),o.default.createElement(s.default,{style:{color:"#000000",fontSize:18,marginTop:13,marginLeft:23,marginRight:23},__source:{fileName:r,lineNumber:23}},"当前没有网络信号，建议您进入离线模式！"),o.default.createElement(s.default,{style:{color:"#000000",fontSize:13,marginTop:20,marginLeft:23,marginRight:23},__source:{fileName:r,lineNumber:24}},"离线模式下您可以进行基本业务操作。需要您预先在离线BIM里下载模型、图纸、订单等相关信息，网络恢复后，数据将同步更新。"),o.default.createElement(d.default,{text:"离线模式",onClick:function(){i.overlayView&&i.overlayView.close();var e=storage.getRootNavigation();p.default.toOffLine(),console.log("to offline current name="+storage.currentRouteName);var t=storage.currentRouteName;"LoginPage"==t||"ChoosePage"==t||"ProjectPage"==t||storage.gotoMainPage(e)},style:{marginTop:25,width:260,height:40,alignSelf:"center"},__source:{fileName:r,lineNumber:25}})),o.default.createElement(c.default,{onPress:function(){i.overlayView&&i.overlayView.close()},__source:{fileName:r,lineNumber:44}},o.default.createElement(u.default,{source:n(254),transform:[{rotateZ:"45deg"}],style:{width:35,height:35,marginTop:35},__source:{fileName:r,lineNumber:45}})))),_=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"show",value:function(){f.Overlay.show(h)}},{key:"hide",value:function(){null!=g&&g.close()}}]),e}();t.default=_},699:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\DateGroupHeaderView.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=f(i),l=f(n(0)),u=f(n(3)),s=f(n(2)),c=f(n(6));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this.props.text;return o.default.createElement(s.default,{style:p.groupHeaderView,__source:{fileName:a,lineNumber:9}},o.default.createElement(s.default,{style:p.headerLine,__source:{fileName:a,lineNumber:10}}),o.default.createElement(c.default,{style:p.groupTitle,__source:{fileName:a,lineNumber:11}},e),o.default.createElement(s.default,{style:p.headerLine,__source:{fileName:a,lineNumber:12}}))}}]),t}();t.default=d,d.propTypes={text:l.default.string.isRequired};var p=u.default.create({groupHeaderView:{height:40,marginLeft:20,marginRight:20,flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},headerLine:{backgroundColor:"#e6e6e6",height:1,flex:1},groupTitle:{color:"#999999",fontSize:14,paddingLeft:10,paddingRight:10}})},701:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\UploadingView.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=d(i),l=d(n(2)),u=d(n(3)),s=d(n(397)),c=d(n(0)),f=n(25);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,i.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.height,n=void 0===t?5:t,r=e.progress,i=void 0===r?0:r;return o.default.createElement(l.default,{style:[b.progressViewOut,{height:n,borderRadius:n/2}],__source:{fileName:a,lineNumber:12}},o.default.createElement(l.default,{style:[b.progressViewIn,{width:+i+"%",height:n,borderRadius:n/2}],__source:{fileName:a,lineNumber:13}}),this.props.children)}}]),t}();h.propTypes={percent:c.default.number.isRequired,height:c.default.number.isRequired};var _=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,i.Component),r(t,[{key:"render",value:function(){o.default.createElement(s.default,{progress:this.props.progress,totalNum:this.props.totalNum,raduis:this.props.raduis,__source:{fileName:a,lineNumber:25}},this.props.children)}}]),t}();_.propTypes={progress:c.default.number.isRequired,raduis:c.default.number.isRequired};var y=function(e){function t(e){p(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.uploadProcessStart=function(e,t,a){var r=n;e&&e===r.state.uploadKey&&t&&(r.onCancel=function(){a&&a()},t.onProgress=r.onProgress,t.onFinish=r.onFinish,n.setState({percent:0,uploading:!0}))},n.onCancel=function(){},n.componentWillMount=function(){n.state.uploadKey&&f.DeviceEventEmitter.addListener("uploadProcessStart",n.uploadProcessStart)},n.componentWillUnmount=function(){try{if(!n.state.uploadKey)return;f.DeviceEventEmitter.removeListener("uploadProcessStart",n.uploadProcessStart)}catch(e){}},n.onProgress=function(e,t){var a=parseInt(100*e/t/100);n.setState({percent:a})},n.onFinish=function(){n.onCancel=function(){};n.setState({percent:100}),setTimeout(function(){n.setState({uploading:!1})},500)},n.render=function(){return n.state.uploading?n.props.children?void 0:o.default.createElement(l.default,{style:[n.props.style],__source:{fileName:a,lineNumber:120}},o.default.createElement(h,{progress:n.state.percent,uploading:n.state.uploading,height:5,onCancel:function(){n.onCancel&&n.onCancel()},__source:{fileName:a,lineNumber:121}})):null},n.state={percent:0,uploading:!1,uploadKey:e.uploadKey},n}return g(t,i.Component),t}();y.UploadingProcessView=h,y.UploadingCircleProcessView=_,t.default=y,y.propTypes={uploadKey:c.default.string.isRequired};var b=u.default.create({progressViewOut:{width:"100%",backgroundColor:"#666666",opacity:.75},progressViewIn:{width:"100%",height:"100%",backgroundColor:"#00baf3"}})},703:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.shareApp=function(e,t){e=e||"BIM协同，真的来了",t=t||"http://bim.glodon.com"},t.chooseImages=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"camera";i=null,(i=document.createElement("input")).type="file",i.id="input_file_id_"+Math.random(),i.hidden=!0,i.multiple=u,u||(i.capture=s);i.accept="image/*",i.onchange=function(i){var s=i.target.files.length;if(s>n)return a.ActionModal.alertTip("数量超过限制",null,{text:"知道了"}),void e(t,!1);if(!u&&s>0)!function(e,t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(i){a=null,function(e,t,n){var a=null;r.EXIF.getData(e,function(){if(a=r.EXIF.getTag(this,"Orientation")){var e=document.createElement("canvas"),i=document.createElement("img");i.onload=function(){var r=i.width,o=i.height,l=e.getContext("2d");l.clearRect(0,0,e.width,e.height);var u=t;switch(a){case 1:console.log("旋转0°");break;case 6:console.log("旋转90°"),e.height=r,e.width=o,l.rotate(Math.PI/2),l.translate(0,-o),l.drawImage(i,0,0),u=e.toDataURL("Image/png");break;case 3:console.log("旋转180°"),e.height=o,e.width=r,l.rotate(Math.PI),l.translate(-r,-o),l.drawImage(i,0,0),u=e.toDataURL("Image/png");break;case 8:console.log("旋转270°"),e.height=r,e.width=o,l.rotate(-Math.PI/2),l.translate(-o,0),l.drawImage(i,0,0),u=e.toDataURL("Image/png");break;case void 0:console.log("undefined  不旋转")}n(u)},i.src=t}else n(t)})}(e,i.target.result,function(a){!function(e,t,n,a){storage.pushNext(null,"EditPhotoPage",{url:e,callback:function(e){e||a(n,!1),t.url=e,l(e,160,function(r,i){t.thumbUrl=r,n.push({url:e,randomKey:o++,thumbUrl:r,name:t.name||"image",type:"h5",length:t.size||0,lastModified:t.lastModified,file:t}),a(n,!0)})}})}(a,e,n,t)})}}(i.target.files[0],e,t);else{t=t||[];for(var c=function(n){var r=i.target.files[n];if(!/image\/\w+/.test(r.type))return a.ActionModal.alertTip("请确保文件为图像类型",null,{text:"知道了"}),e(t,!1),{v:void 0};var u=new FileReader;u.readAsDataURL(r),u.onload=function(n){u=null,l(n.target.result,1136,function(n,a){r.url=n,l(n,160,function(a,i){s--,r.thumbUrl=a,t.push({url:n,randomKey:o++,thumbUrl:a,name:r.name||"image",type:"h5",length:r.size||0,lastModified:r.lastModified,file:r}),s<=0&&e(t,!0)})})}},f=0;f<s;f++){var d=c(f);if("object"==typeof d)return d.v}}},i.click()};var a=n(16),r=n(702);var i,o=19830529;function l(e,t,n){if(e){n=n||function(){},t=t||200;var a=document.createElement("canvas"),r=document.createElement("img");r.onload=function(){if(r.height>t)r.width*=t/r.height,r.height=t;else{if(!(r.width>t))return void n(e,null);r.height*=t/r.width,r.width=t}var i=a.getContext("2d");i.clearRect(0,0,a.width,a.height),a.width=r.width,a.height=r.height,i.drawImage(r,0,0,r.width,r.height),n(a.toDataURL("image/png"),null)},r.src=e}}},704:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\ImageChooserView.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=_(n(0)),l=_(n(1)),u=_(n(8)),s=_(n(2)),c=_(n(7)),f=_(n(6)),d=_(n(91)),p=n(48),m=n(16),g=n(703),h=_(n(701));function _(e){return e&&e.__esModule?e:{default:e}}var y=n(700),b=n(258),v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));N.call(n);var a=[];return e.files&&e.files.map(function(e){a.push(e)}),n.state={files:a},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"_loadFile",value:function(e){if(e){var t=[];this.state.files.map(function(e,n){t.push(e)}),e(t)}}}]),t}();v.takePhoto=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;(0,g.chooseImages)(e,[],t,!1)},v.pickerImages=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;(0,g.chooseImages)(e,[],t,!0)};var N=function(){var e=this;this._onChange=function(t){e.props.onChange},this._onLoadFile=function(e){console.log(e)},this.onBigImage=function(t){d.default.dismiss(),e.bigImage(e.state.files,t)},this.bigImage=function(e,t){var n=[];e.map(function(e,t){n.push({photo:e.url,objectId:e.objectId})}),storage.pushNext(null,"BigImageViewPage",{media:n,index:t})},this.onDeleteImage=function(t){d.default.dismiss(),m.ActionModal.alertConfirm("您确认删除此图片么？",null,{text:"删除",style:{color:"red",fontSize:18},onPress:function(){e.state.files.splice(t,1),e.setState({files:e.state.files})}},{text:"取消"})},this.onAddImage=function(){d.default.dismiss();var t=e.props.maxSelectedCount||3,n=function(t,n){n&&e.setState({files:t})},a=e.state.files,r=[];r.push({title:"拍照",onPress:function(){(0,g.chooseImages)(n,a,t-e.state.files.length,!1)}}),r.push({title:"相册",onPress:function(){(0,g.chooseImages)(n,a,t-e.state.files.length,!0)}});r.length>0&&p.ActionSheet.show(r,{title:"取消"})},this.renderAdd=function(){return e.state.files&&e.state.files.length<3?l.default.createElement(u.default,{onPress:function(t){t.preventDefault(),e.onAddImage(t)},__source:{fileName:r,lineNumber:118}},l.default.createElement(c.default,{style:{marginTop:5,marginRight:5,width:80,height:80,backgroundColor:"white",resizeMode:"contain"},source:y,__source:{fileName:r,lineNumber:119}})):null},this.renderImageItem=function(t,n,a){var i={icon_login_password_delete:b};return t&&t.length>0?(i={uri:t},l.default.createElement(s.default,{key:"img_item_"+n,style:{marginRight:5},__source:{fileName:r,lineNumber:130}},l.default.createElement(u.default,{onPress:function(t){t.preventDefault(),e.onBigImage(n)},__source:{fileName:r,lineNumber:131}},l.default.createElement(c.default,{style:{marginTop:5,marginRight:5,width:80,height:80,resizeMode:"cover"},source:i,__source:{fileName:r,lineNumber:132}}),l.default.createElement(h.default,{uploadKey:a||null,style:{position:"absolute",width:80,bottom:0},__source:{fileName:r,lineNumber:133}})),l.default.createElement(u.default,{onPress:function(t){t.preventDefault(),e.onDeleteImage(n)},style:{position:"absolute",top:0,right:0},__source:{fileName:r,lineNumber:136}},l.default.createElement(c.default,{style:{width:20,height:20,backgroundColor:"transparent",resizeMode:"contain"},source:b,__source:{fileName:r,lineNumber:137}})))):l.default.createElement(s.default,{key:"img_item_"+n,style:{marginRight:5,width:85,height:85,justifyContent:"center",alignContent:"center",borderWidth:1,borderColor:"#666666"},__source:{fileName:r,lineNumber:128}},l.default.createElement(f.default,{__source:{fileName:r,lineNumber:128}},"无图片"))},this.renderImage=function(){return e.state.files.map(function(t,n){return e.renderImageItem(t.thumbUrl?t.thumbUrl:t.url,n,t.randomKey)})},this.render=function(){return l.default.createElement(s.default,a({},e.props,{style:[{flexDirection:"row",width:"100%",height:100,backgroundColor:e.props.backgroudColor},a({},e.props.style)],__source:{fileName:r,lineNumber:151}}),e.renderImage(),e.renderAdd())}};t.default=v,v.propTypes=a({backgroudColor:o.default.string,maxSelectedCount:o.default.number,isShowTakePhotoSheet:o.default.bool,onChange:o.default.func},s.default.propTypes)},708:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\GLDNewMenuView.js",i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),l=_(o),u=_(n(27)),s=_(n(34)),c=_(n(2)),f=_(n(7)),d=_(n(8)),p=_(n(14)),m=n(48),g=n(54),h=n(16);function _(e){return e&&e.__esModule?e:{default:e}}var y=n(707),b=n(706),v=(n(705),n(201)),N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,null,[{key:"openMenu",value:function(e){var n=this,a=new s.default.Value(0),i=l.default.createElement(m.Overlay.View,{side:"bottom",modal:!0,style:{flexDirection:"column",alignItems:"center",justifyContent:"flex-end",alignContent:"center"},overlayOpacity:.7,ref:function(e){return n.overlayView=e},__source:{fileName:r,lineNumber:18}},l.default.createElement(u.default,{__source:{fileName:r,lineNumber:24}},l.default.createElement(c.default,{style:[{flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center"}],__source:{fileName:r,lineNumber:25}},l.default.createElement(s.default.View,{style:[{flexDirection:"row",justifyContent:"center",alignItems:"center",alignContent:"center",marginBottom:33,marginTop:20},{transform:[{translateY:a.interpolate({inputRange:[0,1],outputRange:[200,0]})}]}],__source:{fileName:r,lineNumber:26}},g.AuthorityManager.isQualityCreate()?l.default.createElement(d.default,{onPress:function(a){a.preventDefault(),n.overlayView&&n.overlayView.close(),t.openChoose(e)},style:{borderColor:"#8a6d3b"},__source:{fileName:r,lineNumber:38}},l.default.createElement(f.default,{style:{width:70,height:70},source:y,__source:{fileName:r,lineNumber:39}}),l.default.createElement(m.Label,{style:{color:"#ffffff",fontSize:14,marginTop:10},text:"新建质检单",__source:{fileName:r,lineNumber:40}})):null,l.default.createElement(c.default,{style:[{width:55,height:70},g.AuthorityManager.isQualityCreate()&&g.AuthorityManager.isEquipmentCreate()?{}:{display:"none"}],__source:{fileName:r,lineNumber:44}}),g.AuthorityManager.isEquipmentCreate()?l.default.createElement(d.default,{onPress:function(t){t.preventDefault(),n.overlayView&&n.overlayView.close(),storage.pushNext(e,"EquipmentDetailPage")},style:{borderColor:"#8a6d3b"},__source:{fileName:r,lineNumber:47}},l.default.createElement(f.default,{style:{width:70,height:70},source:b,__source:{fileName:r,lineNumber:48}}),l.default.createElement(m.Label,{style:{color:"#ffffff",fontSize:14,marginTop:10},text:"新建材设单",__source:{fileName:r,lineNumber:49}})):null),l.default.createElement(s.default.View,{style:["web"===p.default.OS?{marginLeft:-2,marginBottom:1.5}:{width:61,height:61,marginBottom:6},{flexDirection:"row",justifyContent:"center",alignItems:"center",alignContent:"center"},{transform:[{rotate:a.interpolate({inputRange:[0,1],outputRange:["0deg","45deg"]})}]}],__source:{fileName:r,lineNumber:54}},l.default.createElement(d.default,{onPress:function(e){e.preventDefault(),s.default.timing(a,{toValue:0}).start(),setTimeout(function(){n.overlayView&&n.overlayView.close()},450)},__source:{fileName:r,lineNumber:64}},l.default.createElement(f.default,{style:{width:61,height:61},source:v,__source:{fileName:r,lineNumber:70}}))))));m.Overlay.show(i),s.default.timing(a,{toValue:1}).start()}},{key:"openChoose",value:function(e,t){if(e||(e=storage.homeNavigation),e){var n=[{title:"拍照",onPress:function(n){n&&n.preventDefault(),h.ImageChooserView.takePhoto(function(n,r){if(r&&!(n.length<1))if(r&&t)t(n);else{var i=e.state;i&&(i=i.params),i||(i={}),storage.pushNext(e,"NewPage",a({},i,{files:n}))}})}},{title:"从手机相册选择",onPress:function(n){n&&n.preventDefault(),h.ImageChooserView.pickerImages(function(n,r){if(r&&!(n.length<1))if(t)t(n);else{var i=e.state;i&&(i=i.params),i||(i={}),storage.pushNext(e,"NewPage",a({},i,{files:n}))}})}},{title:"无需图片,直接新建",disabled:!1,onPress:function(n){if(n&&n.preventDefault(),t)t([]);else{var r=e;r&&(r=r.state),r&&(r=r.params),r||(r={}),storage.pushNext(e,"NewPage",a({},r,{noimage:!0}))}}}];m.ActionSheet.show(n,{title:"取消"})}else alert("无法正常操作")}}]),t}();t.default=N},713:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\PaneViewItem.js",r=n(1),i=d(r),o=d(n(0)),l=d(n(3)),u=d(n(6)),s=d(n(2)),c=(d(n(19)),d(n(7))),f=d(n(8));d(n(9));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onClick=function(e){r.props.onClick&&r.props.onClick()},r.renderHeader=function(){return i.default.createElement(s.default,{style:[g.containerView],__source:{fileName:a,lineNumber:14}},i.default.createElement(s.default,{style:g.contentView,__source:{fileName:a,lineNumber:15}},i.default.createElement(c.default,{source:r.props.image,style:g.headerImage,__source:{fileName:a,lineNumber:16}}),i.default.createElement(u.default,{style:[g.content,r.props.color?{color:r.props.color}:{}],__source:{fileName:a,lineNumber:17}},r.props.title)))},r.renderSection=function(){return i.default.createElement(f.default,{activeOpacity:.5,onPress:function(e){e.preventDefault(),r.onClick(e)},__source:{fileName:a,lineNumber:25}},i.default.createElement(s.default,{style:[g.containerView],__source:{fileName:a,lineNumber:26}},i.default.createElement(c.default,{source:r.props.image,style:g.infoMark,__source:{fileName:a,lineNumber:27}}),i.default.createElement(s.default,{style:g.titleView,__source:{fileName:a,lineNumber:28}},i.default.createElement(u.default,{style:[g.leftTitle,r.props.color?{color:r.props.color}:{}],__source:{fileName:a,lineNumber:29}},r.props.title)),i.default.createElement(c.default,{source:r.props.rightImage,style:g.rightMark,__source:{fileName:a,lineNumber:31}})))},r.renderSectionSimple=function(){return i.default.createElement(f.default,{activeOpacity:.5,onPress:function(e){e.preventDefault(),r.onClick(e)},__source:{fileName:a,lineNumber:39}},i.default.createElement(s.default,{style:[g.containerView],__source:{fileName:a,lineNumber:40}},i.default.createElement(c.default,{source:r.props.image,style:g.infoMark,__source:{fileName:a,lineNumber:41}}),i.default.createElement(s.default,{style:g.titleView,__source:{fileName:a,lineNumber:42}},i.default.createElement(u.default,{style:[g.leftTitle,r.props.color?{color:r.props.color}:{}],__source:{fileName:a,lineNumber:43}},r.props.title)),i.default.createElement(s.default,{style:g.imageEmpty,__source:{fileName:a,lineNumber:45}})))},r.renderLine=function(){return i.default.createElement(s.default,{style:[g.containerView,g.lineView],__source:{fileName:a,lineNumber:53}})},r.renderItem=function(){return i.default.createElement(f.default,{activeOpacity:.5,onPress:function(e){e.preventDefault(),r.onClick(e)},__source:{fileName:a,lineNumber:59}},i.default.createElement(s.default,{style:[g.containerView],__source:{fileName:a,lineNumber:60}},i.default.createElement(s.default,{style:g.imageEmpty,__source:{fileName:a,lineNumber:61}}),i.default.createElement(s.default,{style:g.titleView,__source:{fileName:a,lineNumber:62}},i.default.createElement(u.default,{style:[g.leftTitle,r.props.color?{color:r.props.color}:{}],__source:{fileName:a,lineNumber:63}},r.props.title)),i.default.createElement(s.default,{style:g.imageEmpty,__source:{fileName:a,lineNumber:65}})))},r.render=function(){return"header"===r.props.showType?r.renderHeader():"section"===r.props.showType?r.renderSection():"sectionSimple"===r.props.showType?r.renderSectionSimple():"line"===r.props.showType?r.renderLine():r.renderItem()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),t}();t.default=m,m.propTypes={showType:o.default.string,onClick:o.default.func,title:o.default.string,color:o.default.string,image:o.default.any,rightImage:o.default.any};var g=l.default.create({containerView:{marginTop:10,marginBottom:5,marginLeft:20,marginRight:20,flexDirection:"row"},content:{fontSize:16,fontWeight:"100"},leftTitle:{fontSize:16,width:75,color:"#FDFDFD",fontWeight:"100"},titleView:{flexDirection:"row"},contentView:{flexDirection:"column",alignItems:"center",alignContent:"center",justifyContent:"center",width:"100%"},infoMark:{width:18,height:18,marginRight:10,resizeMode:"contain"},imageEmpty:{width:18,height:18,marginRight:10},rightMark:{width:14,height:14,right:0,position:"absolute",resizeMode:"contain"},headerImage:{width:50,height:50,resizeMode:"contain",marginBottom:5},lineView:{marginTop:10,marginBottom:5,marginLeft:10,marginRight:10,height:.5,backgroundColor:"#cccccc55"}})},714:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.appCode="Estate",t.Quality_Check="Estate_Integration_Quality_Check",t.Quality_Accept="Estate_Integration_Quality_Accept",t.Quality_Risk="Estate_Integration_Quality_Risk",t.Quality_Facility="Estate_Integration_Quality_Facility",t.Quality_Rectification="Estate_Integration_Quality_Rectification",t.Estate_Model_Document="Estate_Model_Document",t.Estate_Model_Drawing="Estate_Model_Drawing",t.Estate_Document="Estate_Document",t.DeleteUnit="DeleteUnit",t.Print="Print",t.BrowseGrant="BrowseGrant",t.BrowseAll="BrowseAll",t.BrowseSelf="BrowseSelf",t.DeleteAll="DeleteAll",t.ModifyUnit="ModifyUnit",t.ModifySelf="ModifySelf",t.DeleteGrant="DeleteGrant",t.BrowseUnit="BrowseUnit",t.Download="Download",t.ModifyAll="ModifyAll",t.ModifyGrant="ModifyGrant"},715:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.EQUIPMENT_NEW_DOING="EQUIPMENT_NEW_DOING",t.EQUIPMENT_NEW_DONE="EQUIPMENT_NEW_DONE",t.EQUIPMENT_NEW_ERROR="EQUIPMENT_NEW_ERROR",t.EQUIPMENT_NEW_INIT="EQUIPMENT_NEW_INIT"},716:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.featchData=function(e,t){return function(n){n(function(e,t){return{type:a.EQUIPMENT_NEW_DONE,data:e,editType:t}}(e,t))}},t.reset=function(){return function(e){e({type:a.EQUIPMENT_MEW_INIT})}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(715))},717:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.LeftBarItem=t.RightBarItem=t.TitleBarItem=void 0;var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\app\\components\\BarItems.js",r=d(n(1)),i=d(n(0)),o=d(n(3)),l=(d(n(103)),d(n(2))),u=d(n(6)),s=d(n(7)),c=d(n(8)),f=(d(n(56)),d(n(9)),d(n(401)));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=t.TitleBarItem=function(e){function t(){var e,n,i;p(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=i=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.render=function(){return r.default.createElement(u.default,{style:[{color:"#ffffff",fontWeight:"bold",fontSize:17,marginTop:5,alignSelf:"center",flex:1,textAlign:"center"},i.props.textStyle?i.props.textStyle:{}],__source:{fileName:a,lineNumber:8}},i.props.text?i.props.text:"")},m(i,n)}return g(t,r.default.Component),t}();h.propTypes={textStyle:i.default.any,text:i.default.any};var _=t.RightBarItem=function(e){function t(){var e,n,i;p(this,t);for(var o=arguments.length,f=Array(o),d=0;d<o;d++)f[d]=arguments[d];return n=i=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),i.render=function(){return r.default.createElement(c.default,{style:v.actionView,onPress:function(e){e.preventDefault(),i.props.onPress(i.props.navigation)},__source:{fileName:a,lineNumber:18}},r.default.createElement(l.default,{style:v.spliteItem,__source:{fileName:a,lineNumber:19}}),i.props.imageSource?r.default.createElement(s.default,{style:[v.barItemImage,i.props.imageStyle?i.props.imageStyle:{}],source:i.props.imageSource,__source:{fileName:a,lineNumber:22}}):null,i.props.text?r.default.createElement(u.default,{style:[v.barItemText,i.props.textStyle?i.props.textStyle:{}],__source:{fileName:a,lineNumber:26}},i.props.text?i.props.text:"返回"):null,r.default.createElement(l.default,{style:v.spliteItem,__source:{fileName:a,lineNumber:29}}),r.default.createElement(l.default,{style:v.spliteItem,__source:{fileName:a,lineNumber:30}}))},m(i,n)}return g(t,r.default.Component),t}();_.propTypes={imageStyle:i.default.any,textStyle:i.default.any,navigation:i.default.any,text:i.default.any,imageSource:i.default.any,onPress:i.default.func.isRequired};var y=t.LeftBarItem=function(e){function t(){var e,n,i;p(this,t);for(var o=arguments.length,f=Array(o),d=0;d<o;d++)f[d]=arguments[d];return n=i=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),i.render=function(){var e=function(e){e.preventDefault(),i.props.onPress(i.props.navigation)};return r.default.createElement(c.default,{style:v.actionView,onPress:function(t){t.preventDefault(),e&&e(t)},__source:{fileName:a,lineNumber:49}},r.default.createElement(l.default,{style:v.spliteItem,__source:{fileName:a,lineNumber:50}}),r.default.createElement(l.default,{style:v.spliteItem,__source:{fileName:a,lineNumber:51}}),i.props.imageSource?r.default.createElement(s.default,{style:[v.barItemImage,i.props.imageStyle?i.props.imageStyle:{}],source:i.props.imageSource,__source:{fileName:a,lineNumber:54}}):null,i.props.text?r.default.createElement(u.default,{style:[v.barItemText,i.props.textStyle?i.props.textStyle:{}],__source:{fileName:a,lineNumber:58}},i.props.text?i.props.text:"返回"):null,r.default.createElement(l.default,{style:v.spliteItem,__source:{fileName:a,lineNumber:61}}))},m(i,n)}return g(t,r.default.Component),t}();y.propTypes={imageStyle:i.default.any.isRequired,navigation:i.default.any,text:i.default.any,imageSource:i.default.any,onPress:i.default.func.isRequired};var b=function(e){function t(){var e,i,o;p(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return i=o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o._onBackPress=function(e){o.props.needBack?o.props.needBack(function(t){t&&storage.pop(e,1)}):storage.pop(e,1)},o._onMenuPress=function(e){f.default.open(o.props.currentItem,e)},o.render=function(){return o.props.children?r.default.createElement(l.default,{style:v.barItem,__source:{fileName:a,lineNumber:95}},o.props.children):r.default.createElement(l.default,{style:v.barItem,__source:{fileName:a,lineNumber:99}},r.default.createElement(y,{imageStyle:{},navigation:o.props.navigation,onPress:function(e){return o._onBackPress(e)},imageSource:n(202),__source:{fileName:a,lineNumber:100}}),!0===o.props.top?r.default.createElement(y,{imageStyle:v.barItemImageMenu,navigation:o.props.navigation,onPress:o._onMenuPress,imageSource:n(709),__source:{fileName:a,lineNumber:106}}):null)},m(o,i)}return g(t,r.default.Component),t}();b.LeftBarItem=y,b.RightBarItem=_,b.TitleBarItem=h,t.default=b,b.propTypes={currentItem:i.default.string,navigation:i.default.any,top:i.default.any,needBack:i.default.func};var v=o.default.create({barItem:{alignItems:"center",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},actionView:{alignItems:"center",flexDirection:"row",justifyContent:"center",alignContent:"center",height:44},barItemImage:{width:20,height:20,resizeMode:"contain"},barItemImageMenu:{width:26,height:26,resizeMode:"contain"},barItemText:{color:"#ffffff",fontSize:15},spliteItem:{width:5}})},718:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\common\\components\\ActionModal.js",r=this,i=n(1),o=p(i),l=(p(n(0)),p(n(3))),u=p(n(6)),s=p(n(8)),c=p(n(2)),f=p(n(27)),d=(p(n(91)),n(48));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),t}();m.alertConfirm=function(e,t,n,a){n||(n={}),a||(a={}),n.style||(n.style=g.style_cancel),n.text||(n.text="取消"),a.style||(a.style=g.style_confirm),a.text||(a.text="确定"),m.showView(m.buildAlertView(e,t,[n,a]))},m.alertTip=function(e,t,n){n||(n={}),n.style||(n.style=g.style_confirm),n.text||(n.text="确定"),setTimeout(function(){m.showView(m.buildAlertView(e,t,[{text:n.text,style:[g.style_confirm,n.style],onPress:n.onPress?n.onPress:null}]))},100)},m.alert=function(e,t,n){m.showView(m.buildAlertView(e,t,n))},m.buildAlertView=function(e,t,n){var r,i=null,l=null,f=!1;t&&(l=o.default.createElement(u.default,{style:g.style_message,__source:{fileName:a,lineNumber:66}},t)),e&&(t?i=o.default.createElement(u.default,{style:g.style_title,__source:{fileName:a,lineNumber:73}},e):(i=o.default.createElement(u.default,{style:g.style_title_center,__source:{fileName:a,lineNumber:77}},e),f=!0)),n||(n=[{style:g.style_confirm,text:"关闭"}]);var d=n.length,p=parseInt(100/d)+"%";return r=o.default.createElement(c.default,{style:g.style_actionsView,__source:{fileName:a,lineNumber:91}},n.map(function(e,t){return o.default.createElement(s.default,{key:"action_item"+t,style:[g.style_actionView,{width:p},0==t?{borderLeftWidth:0}:null],onPress:function(t){t.preventDefault(),m.close(),e.onPress&&e.onPress(t)},__source:{fileName:a,lineNumber:94}},o.default.createElement(u.default,{style:e.style,__source:{fileName:a,lineNumber:95}},e.text))})),o.default.createElement(c.default,{style:f?g.style_alertView_center:g.style_alertView,__source:{fileName:a,lineNumber:101}},i,l,r)},m.overlayViewKey=null,m.close=function(){m.overlayViewKey&&(d.Overlay.hide(m.overlayViewKey),m.overlayViewKey=null)},m.showView=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m.close();var n=o.default.createElement(d.Overlay.View,{side:"bottom",style:{flexDirection:"column",alignItems:"center",justifyContent:"center",alignContent:"center"},modal:t,overlayOpacity:.5,ref:function(e){return r.overlayView=e},__source:{fileName:a,lineNumber:117}},o.default.createElement(f.default,{__source:{fileName:a,lineNumber:124}},e));m.overlayViewKey=d.Overlay.show(n)},t.default=m;var g=l.default.create({style_alertView:{minHeight:60,minWidth:180,backgroundColor:"white",borderRadius:6,marginTop:40,marginBottom:40,marginLeft:40,marginRight:40},style_alertView_center:{minHeight:60,minWidth:180,backgroundColor:"white",borderRadius:6,marginTop:40,marginBottom:40,marginLeft:40,marginRight:40,alignItems:"center",justifyContent:"center",alignContent:"center"},style_actionsView:{minHeight:44,width:"100%",marginTop:22,borderTopColor:"#e7e7e7",borderTopWidth:.5,flexDirection:"row"},style_actionView:{minHeight:44,minWidth:60,borderLeftWidth:.5,borderLeftColor:"#e7e7e7",alignItems:"center",justifyContent:"center",alignContent:"center"},style_lineView:{height:1,width:"100%",backgroundColor:"#e7e7e7",marginTop:10},style_title:{paddingTop:20,paddingLeft:20,paddingRight:20,color:"#000000",fontSize:18,fontWeight:"bold",marginTop:10},style_title_center:{paddingTop:20,paddingLeft:20,paddingRight:20,color:"#000000",fontSize:16,marginTop:10,lineHeight:20},style_message:{paddingLeft:20,paddingRight:20,color:"#000000",fontSize:14,marginTop:6,marginBottom:10,lineHeight:18},style_cancel:{color:"#000000",fontSize:18,marginTop:10,marginBottom:10},style_close:{color:"#00baf3",fontSize:18,marginTop:10,marginBottom:10},style_confirm:{color:"#00baf3",fontSize:18},style_delete:{color:"#FF0000",fontSize:18}})},720:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultImage=void 0;var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\common\\components\\NoDataView.js",r=f(n(1)),i=f(n(0)),o=f(n(3)),l=f(n(2)),u=f(n(6)),s=f(n(7)),c=(f(n(12)),f(n(14)));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=t.defaultImage=n(719),m=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,f=Array(o),p=0;p<o;p++)f[p]=arguments[p];return n=i=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),i.render=function(){var e=i.props,t=e.text,n=e.image;e.onPress,e.type;return r.default.createElement(l.default,{style:{height:"100%",width:"100%",flex:1,alignItems:"center",backgroundColor:"#FFFFFF",justifyContent:"center",flexDirection:"column"},__source:{fileName:a,lineNumber:10}},n?r.default.createElement(s.default,{style:{width:188,height:183},source:n,__source:{fileName:a,lineNumber:11}}):null,r.default.createElement(l.default,{style:{height:40,width:"100%"},__source:{fileName:a,lineNumber:12}}),r.default.createElement(u.default,{style:[{fontSize:17,color:"#999999"}],__source:{fileName:a,lineNumber:13}},t),r.default.createElement(l.default,{style:[{width:"100%"},"ios"===c.default.OS?{height:280}:{height:200}],__source:{fileName:a,lineNumber:14}}))},d(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),t}();m.NoDataImage=p,t.default=m,m.propTypes={text:i.default.string,onPress:i.default.func,image:i.default.any,type:i.default.string};o.default.create({})},721:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\common\\components\\LoadingView.js",r=u(n(1)),i=u(n(2)),o=u(n(66)),l=u(n(12));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,f=Array(c),d=0;d<c;d++)f[d]=arguments[d];return n=u=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),u.render=function(){return r.default.createElement(i.default,{style:{flex:1,alignItems:"center",justifyContent:"center",flexDirection:"column"},__source:{fileName:a,lineNumber:6}},r.default.createElement(l.default,{barStyle:"light-content",translucent:!1,backgroundColor:"#00baf3",__source:{fileName:a,lineNumber:7}}),r.default.createElement(o.default,{animating:!0,style:[{height:80}],color:"#999999",size:"large",__source:{fileName:a,lineNumber:8}}),r.default.createElement(i.default,{style:{height:280,width:"100%"},__source:{fileName:a,lineNumber:14}}))},s(u,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),t}();t.default=c},722:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\common\\components\\StatusActionButton.js",r=n(1),i=c(r),o=c(n(0)),l=c(n(3)),u=c(n(6)),s=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.render=function(){var e=r.props,t=e.text,n=e.onClick,o=e.style,l=e.disabled,c=e.color,d=[];return o&&(d=[o.height?{borderRadius:o.height/2}:{borderRadius:15},o.backgroundColor?{shadowColor:o.backgroundColor}:{},o.borderColor?{borderWidth:1}:{},o]),n?i.default.createElement(s.default,{ref:"buttonItem",style:[m.button].concat(f(d)),activeOpacity:.5,disabled:!!l,onPress:n,__source:{fileName:a,lineNumber:19}},i.default.createElement(u.default,{style:[m.buttonText,{color:c}],__source:{fileName:a,lineNumber:24}},t)):i.default.createElement(s.default,{ref:"buttonItem",style:[m.button].concat(f(d)),activeOpacity:1,__source:{fileName:a,lineNumber:28}},i.default.createElement(u.default,{style:[m.buttonText,{color:c}],__source:{fileName:a,lineNumber:31}},t))},r.setNativeProps=function(e){r.refs.buttonItem.setNativeProps(e)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),t}();t.default=p,p.propTypes={text:o.default.string.isRequired,onClick:o.default.func,color:o.default.any.isRequired,disabled:o.default.bool};var m=l.default.create({buttonText:{textAlign:"center",marginLeft:10,marginRight:10,color:"#00baf3"},button:{flexDirection:"row",justifyContent:"center",alignItems:"center",alignContent:"center",backgroundColor:"#FFFFFF",height:30,elevation:2.5,shadowColor:"#fff",shadowOffset:{width:1.5,height:5},shadowOpacity:.15,shadowRadius:3}})},725:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TextInputImage=t.TextInputPassword=t.TextInputNormal=void 0;var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\common\\components\\TextInputs.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=p(i),l=p(n(0)),u=p(n(3)),s=p(n(67)),c=p(n(8)),f=p(n(2)),d=p(n(7));p(n(427));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=n(258),y=n(724),b=n(723);(t.TextInputNormal=function(e){function t(e){m(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.textInput=null,n.focus=function(){n.textInput.focus()},n._onClearTextEntry=function(){n.textInput.clear(),n.state.textB="",n.props.onChangeText(""),n.focus()},n.textInput=null,n.state={disabled:!1,textB:n.props.defaultValue,focus:!0},n}return h(t,i.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props.inputStyle;return o.default.createElement(f.default,{style:[v.style_input],__source:{fileName:a,lineNumber:32}},o.default.createElement(s.default,{ref:function(t){e.textInput=t},style:[v.style_user_input,t||{}],numberOfLines:1,returnKeyType:"next",enablesReturnKeyAutomatically:!0,underlineColorAndroid:"transparent",autoCorrect:!1,autoCapitalize:"none",placeholder:this.props.placeholder,placeholderTextColor:"rgb(153,153,146)",onSubmitEditing:function(t){e.props.onChangeText("\n")},maxLength:32,onChangeText:function(t){t||(t=""),e.props.onChangeText(t),e.setState({textB:t})},value:this.state.textB,onBlur:function(t){e.props.onBlur(t),e.setState({focus:!1})},onFocus:function(t){e.state.focus=!0,e.props.onFocus(t)},__source:{fileName:a,lineNumber:33}}),o.default.createElement(f.default,{style:[v.style_input_action],__source:{fileName:a,lineNumber:62}},o.default.createElement(c.default,{style:[this.state.textB&&this.state.textB.length&&this.state.focus?{}:{display:"none"}],onPress:function(t){t.preventDefault(),e._onClearTextEntry(t)},__source:{fileName:a,lineNumber:63}},o.default.createElement(d.default,{style:v.style_image_delete,source:_,__source:{fileName:a,lineNumber:64}}))))}}]),t}()).propTypes={defaultValue:l.default.string,placeholder:l.default.string.isRequired,onBlur:l.default.func.isRequired,onFocus:l.default.func.isRequired,onChangeText:l.default.func.isRequired,inputStyle:l.default.any},(t.TextInputPassword=function(e){function t(e){m(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.textInput=null,n._onClearTextEntry=function(){n.textInput.clear(),n.setState({value:""}),n.props.onChangeText(""),n.focus()},n._onSecureTextEntry=function(){n.state.secureTextEntry?n.setState({resetData:!0,secureTextEntry:!n.state.secureTextEntry}):n.setState({secureTextEntry:!n.state.secureTextEntry})},n.focus=function(){n.textInput.focus()},n.textInput=null,n.state={disabled:!1,secureTextEntry:!0,resetData:!1,value:n.props.value,focus:!1},n}return h(t,i.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props.inputStyle;return o.default.createElement(f.default,{style:[v.style_input],__source:{fileName:a,lineNumber:123}},o.default.createElement(s.default,{ref:function(t){e.textInput=t},style:[v.style_pwd_input,t||{}],numberOfLines:1,returnKeyType:"done",underlineColorAndroid:"transparent",secureTextEntry:this.state.secureTextEntry,enablesReturnKeyAutomatically:!0,placeholderTextColor:"rgb(153,153,146)",autoCorrect:!1,autoCapitalize:"none",maxLength:32,placeholder:this.props.placeholder,onSubmitEditing:function(t){e.props.onChangeText("\n")},onChangeText:function(t){1==e.state.resetData&&(t=e.state.value,e.setState({value:t,resetData:!1})),e.setState({value:t}),e.props.onChangeText(t)},value:this.state.value,onBlur:function(t){e.state.focus=!1,e.props.onBlur(t)},onFocus:function(t){e.state.focus=!0,e.props.onFocus(t)},__source:{fileName:a,lineNumber:124}}),o.default.createElement(f.default,{style:[v.style_input_action,{width:80}],__source:{fileName:a,lineNumber:159}},o.default.createElement(c.default,{style:[this.state.value&&this.state.value.length&&this.state.focus?{}:{display:"none"}],onPress:this._onClearTextEntry,__source:{fileName:a,lineNumber:160}},o.default.createElement(d.default,{style:v.style_image_delete,source:_,__source:{fileName:a,lineNumber:160}})),o.default.createElement(c.default,{onPress:function(t){t.preventDefault(),e._onSecureTextEntry},__source:{fileName:a,lineNumber:162}},o.default.createElement(d.default,{style:v.style_image,source:this.state.secureTextEntry?y:b,__source:{fileName:a,lineNumber:162}}))))}}]),t}()).propTypes={value:l.default.string,placeholder:l.default.string.isRequired,onBlur:l.default.func.isRequired,onFocus:l.default.func.isRequired,onChangeText:l.default.func.isRequired,inputStyle:l.default.any},(t.TextInputImage=function(e){function t(e){m(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.textInput=null,n._onClearTextEntry=function(){n.setState({value:""})},n.focus=function(){n.textInput.focus()},n.textInput=null,n.state={disabled:!1,resetData:!1,value:n.props.value},n}return h(t,i.Component),r(t,[{key:"render",value:function(){var e=this;return o.default.createElement(f.default,{style:[v.style_input],__source:{fileName:a,lineNumber:201}},o.default.createElement(s.default,{ref:function(t){e.textInput=t},style:[v.style_pwd_input],numberOfLines:1,returnKeyType:"done",underlineColorAndroid:"transparent",enablesReturnKeyAutomatically:!0,placeholder:this.props.placeholder,autoCorrect:!1,autoCapitalize:"none",onSubmitEditing:function(t){e.props.onChangeText("\n")},onChangeText:function(t){e.props.onChangeText(t)},defaultValue:this.props.defaultValue,onBlur:this.props.onBlur,onFocus:this.props.onFocus,__source:{fileName:a,lineNumber:202}}),o.default.createElement(f.default,{style:[v.style_input_action,{width:120}],__source:{fileName:a,lineNumber:222}},o.default.createElement(c.default,{onPress:function(t){t.preventDefault(),e.props.onImageClick},__source:{fileName:a,lineNumber:223}},o.default.createElement(d.default,{style:v.style_image_captcha,source:this.props.imageUrl?{uri:this.props.imageUrl}:_,__source:{fileName:a,lineNumber:224}}))))}}]),t}()).propTypes={defaultValue:l.default.string,placeholder:l.default.string.isRequired,onBlur:l.default.func.isRequired,onFocus:l.default.func.isRequired,onChangeText:l.default.func.isRequired,imageUrl:l.default.string,onImageClick:l.default.func.isRequired};var v=u.default.create({style_input:{backgroundColor:"transparent",marginLeft:20,marginRight:20,marginTop:12,height:40},style_input_action:{flexDirection:"row",position:"absolute",right:0,top:0,width:60,height:40,justifyContent:"flex-end",alignContent:"flex-end",alignItems:"center"},style_image:{width:27,height:27,marginRight:10},style_image_captcha:{width:100,height:25,marginRight:0,resizeMode:"contain"},style_image_delete:{width:18,height:18,marginRight:10},style_input_submit:{marginTop:15,marginLeft:20,marginRight:20,backgroundColor:"#333",height:60,borderRadius:20,justifyContent:"center",alignItems:"center",color:"#fff"},style_user_input:{backgroundColor:"transparent",height:40,marginTop:0,marginLeft:0,marginRight:60,fontSize:16},style_pwd_input:{backgroundColor:"transparent",height:40,marginTop:0,marginLeft:0,marginRight:60,fontSize:16}})},726:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\common\\components\\ActionButton.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=f(i),l=f(n(0)),u=f(n(3)),s=f(n(6)),c=f(n(136));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={pressed:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.text,r=t.onPress,i=t.isDisabled,l=r;return i&&i()&&(l=null),o.default.createElement(c.default,{onPress:l,underlayColor:"#0099f3",activeOpacity:1,style:[p.style_action,i()?p.style_action_disabled:{},this.state.pressed?p.style_action_pressed:{}],onHideUnderlay:function(){e.setState({pressed:!1})},onShowUnderlay:function(){e.setState({pressed:!0})},__source:{fileName:a,lineNumber:22}},o.default.createElement(s.default,{style:p.style_actionText,__source:{fileName:a,lineNumber:37}},n))}}]),t}();t.default=d,d.propTypes={text:l.default.string.isRequired,onPress:l.default.func.isRequired,isDisabled:l.default.func.isRequired};var p=u.default.create({style_actionText:{overflow:"hidden",height:20,marginTop:10,marginLeft:20,marginRight:20,borderRadius:20,alignItems:"center",textAlign:"center",fontSize:16,color:"#fff"},style_action:{overflow:"hidden",height:40,backgroundColor:"#00baf3",borderRadius:20,marginTop:40,marginLeft:20,marginRight:20},style_action_pressed:{backgroundColor:"#33baf3",elevation:2.5,shadowColor:"#00baf3",shadowOffset:{width:1.5,height:5},shadowOpacity:.15,shadowRadius:3},style_action_disabled:{backgroundColor:"#C8C8C8"}})},777:function(e,t,n){e.exports=n.p+"/imgs/5.png"},778:function(e,t,n){e.exports=n.p+"/imgs/4.png"},779:function(e,t,n){e.exports=n.p+"/imgs/3.png"},780:function(e,t,n){e.exports=n.p+"/imgs/2.png"},781:function(e,t,n){e.exports=n.p+"/imgs/1.png"},783:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EditPhotoPage=t.SharePage=t.ChangeProjectPage=t.FeedbackPage=t.ForgotPage=t.AboutPage=t.BimSearchPage=t.EquipmentSearchPage=t.QualitySearchPage=t.SearchPage=t.EquipmentDetailPage=t.EquipmentMainPage=t.NewReviewPage=t.QualityStatardsPage=t.BigImageViewPage=t.QualityDetailPage=t.CheckPointListPage=t.RelevantModlePage=t.RelevantBlueprintPage=t.WebPage=t.BimFileChooserPage=t.ProjectPage=t.TenantPage=t.ChoosePage=t.CheckPointPage=t.QualityMainPage=t.NewPage=t.SubscribePage=t.MessagePage=t.SettingPage=t.MyPage=t.MainPage=t.HomePage=t.GuidePage=t.LoginPage=void 0;var a=L(n(415)),r=L(n(414)),i=L(n(393)),o=L(n(392)),l=L(n(390)),u=L(n(387)),s=L(n(386)),c=L(n(385)),f=L(n(382)),d=L(n(379)),p=L(n(374)),m=L(n(372)),g=L(n(371)),h=L(n(370)),_=L(n(369)),y=L(n(367)),b=L(n(366)),v=L(n(364)),N=L(n(361)),E=L(n(360)),w=L(n(357)),I=L(n(355)),T=L(n(354)),P=L(n(338)),S=L(n(335)),C=L(n(334)),O=L(n(333)),k=L(n(332)),x=L(n(331)),D=L(n(330)),A=L(n(329)),R=L(n(328)),j=L(n(323)),M=L(n(322));function L(e){return e&&e.__esModule?e:{default:e}}t.LoginPage=r.default,t.GuidePage=a.default,t.HomePage=i.default,t.MainPage=f.default,t.MyPage=o.default,t.SettingPage=l.default,t.MessagePage=u.default,t.SubscribePage=s.default,t.NewPage=c.default,t.QualityMainPage=d.default,t.CheckPointPage=_.default,t.ChoosePage=y.default,t.TenantPage=y.default,t.ProjectPage=b.default,t.BimFileChooserPage=v.default,t.WebPage=N.default,t.RelevantBlueprintPage=E.default,t.RelevantModlePage=w.default,t.CheckPointListPage=I.default,t.QualityDetailPage=p.default,t.BigImageViewPage=g.default,t.QualityStatardsPage=m.default,t.NewReviewPage=h.default,t.EquipmentMainPage=T.default,t.EquipmentDetailPage=P.default,t.SearchPage=S.default,t.QualitySearchPage=C.default,t.EquipmentSearchPage=O.default,t.BimSearchPage=k.default,t.AboutPage=x.default,t.ForgotPage=A.default,t.FeedbackPage=D.default,t.ChangeProjectPage=R.default,t.SharePage=j.default,t.EditPhotoPage=M.default},784:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(416));var i={isLoading:!1,editQualityParams:{},loadingError:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.NEW_QUALITY_LOADING_START:return a({},e,{isLoading:!0});case r.NEW_QUALITY_LOADING_DONE:return a({},e,{isLoading:!1,editQualityParams:t.editQualityParams});case r.NEW_QUALITY_LOADING_ERROR:return a({},e,{isLoading:!1,loadingError:!0});case r.NEW_QUALITY_RESET:return i;default:return e}}},785:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(208));var i={qualityList:{},totalQuality:0,equipmentList:{},totalEquipment:0,keywords:"",searchHistory:[],bimFiles:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.SEARCH_QUALITY_START:return a({},e,{qualityList:[],totalQuality:0,equipmentList:[],totalEquipment:0,keywords:""});case r.SEARCH_QUALITY_DONE:return a({},e,{qualityList:t.qualityList,totalQuality:t.totalQuality,keywords:t.keywords});case r.SEARCH_EQUIPMENT_DONE:return a({},e,{equipmentList:t.equipmentList,totalEquipment:t.totalEquipment,keywords:t.keywords});case r.SEARCH_BIMFILE_DONE:return a({},e,{bimFiles:t.bimFiles});case r.SEARCH_BIMFILE_RESET:return a({},e,{bimFiles:[]});case r.LOAD_SEARCH_HISTORY:return a({},e,{searchHistory:t.searchHistory});default:return e}}},786:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(417));var i={data:[],isLoading:!0,error:null,isSuccessed:!1,hasMore:!0,page:0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.PROJECT_LIST_DOING:return a({},e,{isLoading:!0,error:null,isSuccessed:!1});case r.PROJECT_LIST_DONE:return a({},e,{isLoading:!1,data:t.data,page:t.page+1,error:null,isSuccessed:!0,hasMore:t.hasMore});case r.PROJECT_LIST_ERROR:return a({},e,{isLoading:!1,error:t.error,isSuccessed:!1});case r.PROJECT_LIST_INIT:return i;default:return e}}},787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(273));var o={data:{inspectionInfo:{},progressInfos:[]},isLoading:!0,error:null,isSuccessed:!1,editType:r.default.EQUIPMENT_EDIT_TYPE_BASE};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case i.EQUIPMENT_NEW_DOING:return a({},e,{isLoading:!0,error:null,isSuccessed:!1,editType:t.editType});case i.EQUIPMENT_NEW_DONE:return a({},e,{isLoading:!1,data:t.data,error:null,isSuccessed:!0,editType:t.editType});case i.EQUIPMENT_NEW_ERROR:return a({},e,{isLoading:!1,error:t.error,isSuccessed:!1,editType:t.editType});case i.EQUIPMENT_NEW_INIT:return o;default:return e}}},788:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(60));t.getDocFileChildrens=function(e,t,n){var i,o,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i="/bimpm/doc/containers/"+e+"/files/children",o="",t&&(o+="&fileId="+t),filePath&&(o+="&filePath="+filePath),n&&(o+="&orderByType="+n),order&&(o+="&order="+order),folder&&(o+="&folder="+folder),l&&(o+="&withPrivilege="+l),a.abrupt("return",(0,r.requestJSON)(i+"?"+o,{method:"GET"}));case 9:case"end":return a.stop()}},null,this)},t.createDocDir=function(e,t,n){var i,o;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i="/bimpm/doc/containers/"+e+"/ files ",o="",t&&(o+="&parentId="+t),n&&(o+="&fileName="+n),a.abrupt("return",(0,r.requestJSON)(i+"?"+o,{method:"POST"}));case 5:case"end":return a.stop()}},null,this)},t.copyDocFile=function(e,t,n){var i,o;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i="/bimpm/doc/containers/"+e+"/files/copy",o="",t&&(o+="&fileId="+t),n&&(o+="&targetParentId="+n),a.abrupt("return",(0,r.requestJSON)(i+"?"+o,{method:"POST"}));case 5:case"end":return a.stop()}},null,this)},t.copyDocFileBatch=function(e,t,n){var i,o,l;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i="/bimpm/doc/containers/"+e+"/files/copy/batch",o={fileIds:t,targetParentId:n},l=JSON.stringify(o),a.abrupt("return",(0,r.requestJSON)(i,{method:"POST",body:l}));case 4:case"end":return a.stop()}},null,this)},t.moveDocFile=function(e,t,n){var i,o;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i="/bimpm/doc/containers/"+e+"/files/move",o="",t&&(o+="&fileId="+t),n&&(o+="&targetParentId="+n),a.abrupt("return",(0,r.requestJSON)(i+"?"+o,{method:"POST"}));case 5:case"end":return a.stop()}},null,this)},t.moveDocFileBatch=function(e,t,n){var i,o,l;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i="/bimpm/doc/containers/"+e+"/files/move/batch",o={fileIds:t,targetParentId:n},l=JSON.stringify(o),a.abrupt("return",(0,r.requestJSON)(i,{method:"POST",body:l}));case 4:case"end":return a.stop()}},null,this)},t.renameDocFile=function(e,t,n){var i,o;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i="/bimpm/doc/containers/"+e+"/files/rename",o="",t&&(o+="&fileId="+t),n&&(o+="&targetName="+n),a.abrupt("return",(0,r.requestJSON)(i+"?"+o,{method:"POST"}));case 5:case"end":return a.stop()}},null,this)},t.deleteDocFile=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/doc/containers/"+e+"/files",i="purge=true",t&&(i+="&fileId="+t),a.abrupt("return",(0,r.requestJSON)(n+"?"+i,{method:"DELETE"}));case 4:case"end":return a.stop()}},null,this)},t.deleteDocFileBatch=function(e,t){var n,i,o;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/doc/containers/"+e+"/files/batch",i={fileIds:t,purge:!0},o=JSON.stringify(i),a.abrupt("return",(0,r.requestJSON)(n,{method:"DELETE",body:o}));case 4:case"end":return a.stop()}},null,this)},t.getTrashFiles=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/doc/containers/"+e+"/files/trash",i="",t&&(i+="&pageIndex="+t),a.abrupt("return",(0,r.requestJSON)(n+"?"+i,{method:"GET"}));case 4:case"end":return a.stop()}},null,this)},t.deleteTrashFile=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/doc/containers/"+e+"/files/trash",i="",t&&(i+="&fileId="+t),a.abrupt("return",(0,r.requestJSON)(n+"?"+i,{method:"DELETE"}));case 4:case"end":return a.stop()}},null,this)},t.deleteTrashFileBatch=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/doc/containers/"+e+"/files/trash",i=JSON.stringify({fileIds:t}),a.abrupt("return",(0,r.requestJSON)(n,{method:"DELETE",body:i}));case 3:case"end":return a.stop()}},null,this)},t.recoveryTrashFile=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/doc/containers/"+e+"/files/trash/recovery",i="",t&&(i+="&fileId="+t),a.abrupt("return",(0,r.requestJSON)(n+"?"+i,{method:"POST"}));case 4:case"end":return a.stop()}},null,this)},t.recoveryTrashFileBatch=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/doc/containers/"+e+"/files/trash/recovery",i=JSON.stringify({fileIds:t}),a.abrupt("return",(0,r.requestJSON)(n,{method:"POST",body:i}));case 3:case"end":return a.stop()}},null,this)},t.clearTrashFileBatch=function(e){var t;return a.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t="/bimpm/doc/containers/"+e+"/files/trash/clear",n.abrupt("return",(0,r.requestJSON)(t,{method:"DELETE"}));case 2:case"end":return n.stop()}},null,this)},t.favoritesDocFile=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/doc/containers/"+e+"/files/favorites",i="",t&&(i+="&fileId="+t),a.abrupt("return",(0,r.requestJSON)(n+"?"+i,{method:"POST"}));case 4:case"end":return a.stop()}},null,this)},t.favoritesDocFileBatch=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/doc/containers/"+e+"/files/favorites/batch",i=JSON.stringify({fileIds:t}),a.abrupt("return",(0,r.requestJSON)(n,{method:"POST",body:i}));case 3:case"end":return a.stop()}},null,this)},t.cancelFavoritesDocFile=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/doc/containers/"+e+"/files/favorites",i="",t&&(i+="&fileId="+t),a.abrupt("return",(0,r.requestJSON)(n+"?"+i,{method:"DELETE"}));case 4:case"end":return a.stop()}},null,this)},t.cancelFavoritesDocFileBatch=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/doc/containers/"+e+"/files/favorites/batch",i=JSON.stringify({fileIds:t}),a.abrupt("return",(0,r.requestJSON)(n,{method:"DELETE",body:i}));case 3:case"end":return a.stop()}},null,this)},t.getFavoritesDocFile=function(e){var t;return a.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t="/bimpm/doc/containers/"+e+"/files/favorites",n.abrupt("return",(0,r.requestJSON)(t,{method:"GET"}));case 2:case"end":return n.stop()}},null,this)},t.getDocFileSingedUrl=function(e){var t,n;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return t="/bimpm/doc/containers/"+e+"/files/signedURL",n="",password&&(n+="&password="+password),a.abrupt("return",(0,r.requestJSON)(t+"?"+n,{method:"GET"}));case 4:case"end":return a.stop()}},null,this)},t.createDocShare=function(e,t){var n,i,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=arguments[3],u=arguments[4];return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/doc/containers/"+e+"/files/"+t,i="",o&&(i+="&fileId="+o),l&&(i+="&expireTime="+l),u&&(i+="&privilege="+u),a.abrupt("return",(0,r.requestJSON)(n+"?"+i,{method:"GET"}));case 6:case"end":return a.stop()}},null,this)},t.getShareSignedUrl=function(e,t,n){var i,o;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i="/bimpm/doc/share/"+e+"/files/"+t+"/signedURL",o="",n&&(o+="&password="+n),a.abrupt("return",(0,r.requestJSON)(i+"?"+o,{method:"GET"}));case 4:case"end":return a.stop()}},null,this)},t.getModelMarkups=function(e,t,n,i,o){var l,u;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return l="/bimpm/modelVersions/"+e+"/files/"+t+"/markups",u="",n&&(u+="&creatorId="+n),i&&(u+="&pageIndex="+i),o&&(u+="&pageSize="+o),a.abrupt("return",(0,r.requestJSON)(l+"?"+u,{method:"GET"}));case 6:case"end":return a.stop()}},null,this)},t.getModelMarkupDetail=function(e,t,n){var i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i="/bimpm/modelVersions/"+e+"/files/"+t+"/markups/"+n,a.abrupt("return",(0,r.requestJSON)(i,{method:"GET"}));case 2:case"end":return a.stop()}},null,this)},t.deleteModelMarkup=function(e,t,n){var i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i="/bimpm/modelVersions/"+e+"/files/"+t+"/markups/"+n,a.abrupt("return",(0,r.requestJSON)(i,{method:"DELETE"}));case 2:case"end":return a.stop()}},null,this)},t.closeModelMarkup=function(e,t,n){var i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i="/bimpm/modelVersions/"+e+"/files/"+t+"/markups/"+n,a.abrupt("return",(0,r.requestJSON)(i,{method:"PUT"}));case 2:case"end":return a.stop()}},null,this)},t.getModelMarkupComments=function(e,t,n,i,o){var l,u;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return l="/bimpm/modelVersions/"+e+"/files/"+t+"/markups/"+n+"/comments",u="",i&&(u+="&offset="+i),o&&(u+="&limit="+o),a.abrupt("return",(0,r.requestJSON)(l+"?"+u,{method:"GET"}));case 5:case"end":return a.stop()}},null,this)},t.addModelMarkupComment=function(e,t,n,i,o){var l,u,s,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return a.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:return l="/bimpm/modelVersions/"+modelVersionId+"/files/"+fileId+"/markups/"+n+"/comments",u={content:i,deptId:o,receiverIds:c},s=JSON.stringify(u),e.abrupt("return",(0,r.requestJSON)(l,{method:"POST",body:s}));case 4:case"end":return e.stop()}},null,this)},t.deleteModelMarkupComment=function(e,t,n,i){var o;return a.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:return o="/bimpm/modelVersions/"+modelVersionId+"/files/"+fileId+"/markups/"+n+"/comments/"+i,e.abrupt("return",(0,r.requestJSON)(o,{method:"DELETE"}));case 2:case"end":return e.stop()}},null,this)},t.getModelMarkupScreenUrl=function(e,t,n){var i;return a.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i="/bimpm/modelVersions/"+modelVersionId+"/files/"+fileId+"/markups/"+n+"/screenUrl",e.abrupt("return",(0,r.requestJSON)(i,{method:"GET"}));case 2:case"end":return e.stop()}},null,this)};var r=n(65)},789:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(60));t.getDocContainer=function(e){var t;return a.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t="/doc/"+e+"/doc/container",n.abrupt("return",(0,r.requestJSON)(t,{method:"GET"}));case 2:case"end":return n.stop()}},null,this)},t.getDocRootDir=function(e){var t;return a.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t="/doc/"+e+"/doc/rootDir",n.abrupt("return",(0,r.requestJSON)(t,{method:"GET"}));case 2:case"end":return n.stop()}},null,this)};var r=n(65)},790:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(107));function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.update=function(e,t){a.isEmpty(t)||storage.setProjectListByTenant(e,t)},a.query=function(e){return storage.getProjectListByTenant(e)},i(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"saveAccountInfo",value:function(e,t){storage.saveAccountInfo(e,t)}},{key:"checkAccountInfo",value:function(e,t){return storage.getAccountInfo(e)==t}}]),t}();t.default=o},791:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(60));t.login=function(e,t){return a.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,r.requestHTML)(u,{headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},method:"POST",body:"username="+e+"&password="+t}));case 1:case"end":return n.stop()}},null,this)},t.authToken=function(e,t){return a.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,r.requestJSON)(s,{headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},method:"POST",body:"username="+e+"&password="+t+"&grant_type=password&client_id=aDlPf13UtiGs7yuHCd8eHSLHbHJTU8Sd&client_secret=voL9cWmkdu962V1tN0FE8aVsAD76HDGy"}));case 1:case"end":return n.stop()}},null,this)},t.accountInfo=function(){return a.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,r.requestJSON)(d,{method:"GET"}));case 1:case"end":return e.stop()}},null,this)},t.getProjects=function(e,t){var n,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=6;break}return n={},u&&"0"!=u&&(n={"X-CORAL-TENANT":""+u}),a.abrupt("return",(0,r.requestJSON)(p+"?sort=createTime,desc&page="+e+"&size="+t,{method:"GET",headers:n}));case 6:return l=new i.default,a.abrupt("return",l.getProjectList(u));case 8:case"end":return a.stop()}},null,this)},t.setCurrentTenant=function(e){return a.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("TEST"!=r.SERVER_TYPE){t.next=4;break}return t.abrupt("return",new Promise(function(t,n){e?t({}):n("Invalid param")}));case 4:return t.abrupt("return",(0,r.requestJSON)(m,{method:"PUT",body:JSON.stringify({tenantId:parseInt(e)},!0)}));case 5:case"end":return t.stop()}},null,this)},t.loginOut=function(){return a.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,r.requestHTML)(f,{method:"GET"}));case 1:case"end":return e.stop()}},null,this)},t.uaaLoginOut=function(){return a.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,r.requestHTML)(c,{method:"GET"}));case 1:case"end":return e.stop()}},null,this)},t.feedbacks=function(e){return a.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,r.requestJSON)(g,{method:"POST",body:JSON.stringify(e)}));case 1:case"end":return t.stop()}},null,this)},t.forgotCaptchaUrl=function(e){var t;return a.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.abrupt("return",fetch(r.BASE_URL+h,{method:"GET"}).then(function(e){return t=e.headers.get("signup-key"),e.blob()}).then(function(e){return N(e)}).then(function(e){return{uri:e,signupKey:t}}));case 2:case"end":return e.stop()}},null,this)},t.forgotCheck=function(e){return a.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,r.requestJSON)(_+"?identity="+e,{method:"GET"}).then(function(e){return e.data}));case 1:case"end":return t.stop()}},null,this)},t.forgotCode=function(e,t,n){return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,r.requestJSON)(y+"?mobile="+e+"&captcha="+t+"&signupKey="+n,{method:"GET"}).then(function(e){return e.data}));case 1:case"end":return a.stop()}},null,this)},t.forgotCodeVerify=function(e,t){return a.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,r.requestJSON)(b+"?mobile="+e+"&verifyCode="+t,{method:"GET"}).then(function(e){return e.data}));case 1:case"end":return n.stop()}},null,this)},t.forgotReset=function(e,t,n){return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,r.requestJSON)(v+"?mobile="+e+"&code="+t+"&pwd="+n,{method:"POST"}).then(function(e){return e.data}));case 1:case"end":return a.stop()}},null,this)};var r=n(65),i=l(n(209)),o=l(n(36));function l(e){return e&&e.__esModule?e:{default:e}}var u="/uaa/login",s="/uaa/oauth/token",c="/uaa/logout",f="/logout",d="/uaa/user",p="/pmbasic/projects/available",m="/user/currentTenant",g="/backend/feedbacks",h="/uaa/user/password/forgot/captcha",_="/uaa/user/password/forgot/check",y="/uaa/user/password/forgot/code",b="/uaa/user/password/forgot/code/verify",v="/uaa/user/password/forgot/reset";function N(e){var t=new FileReader,n=function(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}(t);return t.readAsDataURL(e),n}},792:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(60));t.operationCode=function(e,t){var n,i,o,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/attachment/operationCode",i=(new Date).getTime(),o="?containerId="+i+"&name="+e+"&digest="+(l||e)+"&length="+t,a.abrupt("return",(0,r.requestJSON)(n+o,{method:"GET"}));case 4:case"end":return a.stop()}},null,this)},t.uploadFileBlob=function(e,t,n,l){var u,s,c;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u="/v1/insecure/objects?operationCode="+n,s={},t.file?s={name:"uploaded_file",filename:"hi"+t.name,data:t.file}:(path=t.path,console.log("path:",path),path=path.replace("file://",""),console.log("path1:",path),s={name:"uploaded_file",filename:"hi"+t.name,data:i.RNFetchBlob.wrap(path)}),c=i.RNFetchBlob.fetch("POST",r.BASE_UPLOAD_URL+u,{"Content-Type":"multipart/form-data"},[s]),i.DeviceEventEmitter.emit("uploadProcessStart",e,c,function(){c.cancel(function(e){throw new Error(e)})}),a.abrupt("return",c.uploadProgress({interval:200},function(e,t){console.log("uploaded",e/t),c.onProgress&&c.onProgress(e,t),l&&l(e,t)}).then(function(e){return e.json()}).then(function(e){if(!e||!e.message||"success"!=e.message)throw new Error("上传失败："+(e&&e.message));c.onFinish&&c.onFinish();var t=o(e.data);if(t&&t.name)return t}));case 6:case"end":return a.stop()}},null,this)};var r=n(65),i=n(25);function o(e){return e?{name:e.name,objectId:e.id,extension:e.extension,digest:e.digest,length:e.length,uploadTime:e.createTime}:null}},793:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(60)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.upLoadFiles=function(e,t){var n;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:l=0,u=e.length,s=[],n=function(e,n){var a=n;a&&a.sort&&(a=a.sort(function(e,t){return e.index>t.index?1:-1})),t(e,a)},e.map(function(e,t){var a=void 0;e.file?f(a=e.url,e.name,e.length,n,null,e,t):(a="file://"+e.path,c(e,n,t)||f(a,e.name,e.length,n,e.md5,e,t))});case 5:case"end":return a.stop()}},null,this)},t.getBimFileUrlThumbnail=function(e,t){var n,r,o,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n=i.BASE_URL+"/bimpm/attachment/attachment/url?objectId="+e+"&thumbnail="+!0,l&&(n=n+"&thumbnailSize="+l),r={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest"},credentials:"include"},storage.isLogin()&&(r.headers.Authorization="Bearer "+storage.getLoginToken(),(o=storage.loadLastTenant())&&"0"!=o&&(r.headers["X-CORAL-TENANT"]=o)),a.abrupt("return",fetch(n,r).then(function(e){return e.status>=200&&e.status<300?e.text():null}).then(function(e){if(!e)return t(!1,null),{};var n=e||"";return n&&(n=n.replace(/"/g,"")),t(!0,n),{url:n}}).catch(function(e){t(!1,e)}));case 5:case"end":return a.stop()}},null,this)},t.getBimFileUrl=function(e,t){var n,r,o;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n=i.BASE_URL+"/bimpm/attachment/attachment/url?objectId="+e+"&thumbnail="+!0+"&thumbnailSize=preview",r={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest"},credentials:"include"},storage.isLogin()&&(r.headers.Authorization="Bearer "+storage.getLoginToken(),(o=storage.loadLastTenant())&&"0"!=o&&(r.headers["X-CORAL-TENANT"]=o)),a.abrupt("return",fetch(n,r).then(function(e){return e.status>=200&&e.status<300?e.text():null}).then(function(e){if(!e)return t(!1,null),{};var n=e||"";return n&&(n=n.replace(/"/g,"")),t(!0,n),{url:n}}).catch(function(e){t(!1,e)}));case 4:case"end":return a.stop()}},null,this)};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(65)),o=n(792);var l=0,u=0,s=[];function c(e,t,n){if(e&&e.objectId){var a={name:e.name,objectId:e.objectId,extension:e.extension,digest:e.digest,length:e.length,uploadTime:e.createTime,index:n};return s.push(a),++l==u&&t("success",s),!0}return!1}function f(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments[5],u=arguments[6];return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:(0,o.operationCode)(t,n,i).then(function(n){console.log("getOperationCode result:"+JSON.stringify(n)),d(e,t,n.data.data,r,l,u)}).catch(function(e){r("fail",e)});case 1:case"end":return a.stop()}},null,this)}function d(e,t,n,i,c,f){var d;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:d={},d=c.file?{name:t,file:c.file}:{name:t,path:e},(0,o.uploadFileBlob)(c.randomKey,d,n,function(e,t){console.log("uploaded",e/t)}).then(function(e){if(l++,!e||!e.name)throw new Error("上传失败！"+(e&&e.message));s.push(r({},c,e,{index:f})),l==u&&i("success",s)}).catch(function(e){i("fail",e)});case 3:case"end":return a.stop()}},null,this)}},794:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(60));t.getQualityInspectionAll=function(e,t,n,i){var o,l,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return o="/quality/"+e+"/qualityInspection/all",l="",0!==u&&(l+="&qualityCheckpointId="+u),""!==s&&(l+="&qualityCheckpointName="+s),a.abrupt("return",(0,r.requestJSON)(o+"?sort=updateTime,desc&page="+n+"&size="+i+"&qcState="+t+l,{method:"GET"}));case 5:case"end":return a.stop()}},null,this)},t.getQualityInspectionAllByDate=function(e,t,n,i,o,l){var u;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u="/quality/"+e+"/qualityInspection/all",a.abrupt("return",(0,r.requestJSON)(u+"?sort=updateTime,desc&page="+n+"&size="+i+"&qcState="+t+"&startDate="+o+"&endDate="+l,{method:"GET"}));case 2:case"end":return a.stop()}},null,this)},t.getQualityInspectionDetail=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/qualityInspection/"+t+"/detail",a.abrupt("return",(0,r.requestJSON)(n+"?fileId="+t,{method:"GET"}));case 5:return i=l.default.getQualityManager(),a.abrupt("return",i.getQualityDetail(t));case 7:case"end":return a.stop()}},null,this)},t.getQualityInspectionSummary=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return t="/quality/"+e+"/qualityInspection/all/qcState/summary",n="",0!==i&&(n+="&qualityCheckpointId="+i),""!==o&&(n+="&qualityCheckpointName="+o),a.abrupt("return",(0,r.requestJSON)(t+"?"+n,{method:"GET"}));case 5:case"end":return a.stop()}},null,this)},t.getQualityInspectionAllDrawingPositions=function(e,t){var n;return a.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:return n="/quality/"+e+"/qualityInspection/all/all/drawings/"+drawingGdocFileId+"/drawingPositions",t.abrupt("return",(0,r.requestJSON)(n,{method:"GET"}));case 2:case"end":return t.stop()}},null,this)},t.getQualityInspectionElements=function(e,t){var n;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/quality/"+e+"/qualityInspection/all/all/model/"+t+"/elements",a.abrupt("return",(0,r.requestJSON)(n,{method:"GET"}));case 2:case"end":return a.stop()}},null,this)},t.getQualityFacilityAcceptanceElements=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/facilityAcceptance/model/"+t+"/elements",a.abrupt("return",(0,r.requestJSON)(n,{method:"GET"}));case 5:return i=l.default.getBasicInfoManager(),a.abrupt("return",i.getEquipmentModelHistory(t));case 7:case"end":return a.stop()}},null,this)},t.getQualityCheckpointsProject=function(e,t){var n;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/quality/"+e+"/quality/checkpoints/project/"+t,a.abrupt("return",(0,r.requestJSON)(n,{method:"GET"}));case 2:case"end":return a.stop()}},null,this)},t.getInspectionCompanies=function(e){var t,n;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return t="/quality/"+e+"/qualityInspection/inspectionCompanys",a.abrupt("return",(0,r.requestJSON)(t,{method:"GET"}));case 5:return n=l.default.getBasicInfoManager(),a.abrupt("return",n.getInspectionCompany());case 7:case"end":return a.stop()}},null,this)},t.getCheckPoints=function(e){var t,n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=6;break}return t="/quality/"+e+"/checkpoints/templates/whole",n="?ifOther=true",a.abrupt("return",(0,r.requestJSON)(t+n,{method:"GET"}));case 6:return i=l.default.getBasicInfoManager(),a.abrupt("return",i.getCheckPoints());case 8:case"end":return a.stop()}},null,this)},t.createSubmitInspection=function(e,t,n){var i,u,c;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=6;break}return i=s(t),u="/quality/"+e+"/"+i+"/commit",a.abrupt("return",(0,r.requestJSON)(u,{method:"POST",body:n}));case 6:return c=l.default.getQualityManager(),a.abrupt("return",c.createSubmitInspection(e,t,JSON.parse(n)));case 8:case"end":return a.stop()}},null,this)},t.createSaveInspection=function(e,t,n){var i,u,c;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=6;break}return i=s(t),u="/quality/"+e+"/"+i,a.abrupt("return",(0,r.requestJSON)(u,{method:"POST",body:n}));case 6:return c=l.default.getQualityManager(),a.abrupt("return",c.createSaveInspection(e,t,JSON.parse(n)));case 8:case"end":return a.stop()}},null,this)},t.editSubmitInspection=function(e,t,n,i){var u,c,f;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=6;break}return u=s(n),c="/quality/"+e+"/"+u+"/"+t+"/commit",a.abrupt("return",(0,r.requestJSON)(c,{method:"PUT",body:i}));case 6:return f=l.default.getQualityManager(),a.abrupt("return",f.editSubmitInspection(e,t,n,JSON.parse(i)));case 8:case"end":return a.stop()}},null,this)},t.editSaveInspection=function(e,t,n,i){var u,c,f;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=6;break}return u=s(n),c="/quality/"+e+"/"+u+"/"+t,a.abrupt("return",(0,r.requestJSON)(c,{method:"PUT",body:i}));case 6:return f=l.default.getQualityManager(),a.abrupt("return",f.editSaveInspection(e,t,n,JSON.parse(i)));case 8:case"end":return a.stop()}},null,this)},t.createDeleteInspection=function(e,t,n){var i,u,c;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=6;break}return i=s(t),u="/quality/"+e+"/"+i+"/"+n,a.abrupt("return",(0,r.requestJSON)(u,{method:"DELETE"}));case 6:return c=l.default.getQualityManager(),a.abrupt("return",c.createDeleteInspection(e,t,n));case 8:case"end":return a.stop()}},null,this)},t.getBluePrintDots=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/qualityInspection/all/drawings/"+t+"/drawingPositions",a.abrupt("return",(0,r.requestJSON)(n,{method:"GET"}));case 5:return i=l.default.getBasicInfoManager(),a.abrupt("return",i.getBlueprintDots(t));case 7:case"end":return a.stop()}},null,this)},t.getElements=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/qualityInspection/all/model/"+t+"/elements",a.abrupt("return",(0,r.requestJSON)(n,{method:"GET"}));case 5:return i=l.default.getBasicInfoManager(),a.abrupt("return",i.getQualityModelHistory(t));case 7:case"end":return a.stop()}},null,this)},t.getStandardsItems=function(e){var t,n;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return t="/quality//acceptanceStandard/templates/"+e+"/standards/items",a.abrupt("return",(0,r.requestJSON)(t,{method:"GET"}));case 5:return n=l.default.getBasicInfoManager(),a.abrupt("return",n.getStandards(e));case 7:case"end":return a.stop()}},null,this)},t.createSaveReview=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/qualityReviews",a.abrupt("return",(0,r.requestJSON)(n,{method:"POST",body:t}));case 5:return i=l.default.getQualityManager(),a.abrupt("return",i.createSaveReview(e,JSON.parse(t)));case 7:case"end":return a.stop()}},null,this)},t.editSaveReview=function(e,t,n){var i,u;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return i="/quality/"+e+"/qualityReviews/"+t,a.abrupt("return",(0,r.requestJSON)(i,{method:"PUT",body:n}));case 5:return u=l.default.getQualityManager(),a.abrupt("return",u.editSaveReview(e,t,JSON.parse(n)));case 7:case"end":return a.stop()}},null,this)},t.createSubmitReview=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/qualityReviews/commit",a.abrupt("return",(0,r.requestJSON)(n,{method:"POST",body:t}));case 5:return i=l.default.getQualityManager(),a.abrupt("return",i.createSubmitReview(e,JSON.parse(t)));case 7:case"end":return a.stop()}},null,this)},t.editSubmitReview=function(e,t,n){var i,u;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return i="/quality/"+e+"/qualityReviews/"+t+"/commit",a.abrupt("return",(0,r.requestJSON)(i,{method:"PUT",body:n}));case 5:return u=l.default.getQualityManager(),a.abrupt("return",u.editSubmitReview(e,t,JSON.parse(n)));case 7:case"end":return a.stop()}},null,this)},t.getReviewInfo=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/qualityReviews/staged?inspectionId="+t,a.abrupt("return",(0,r.requestJSON)(n,{method:"GET"}));case 5:return i=l.default.getQualityManager(),a.abrupt("return",i.getReviewEditInfo(t));case 7:case"end":return a.stop()}},null,this)},t.deleteReview=function(e,t,n){var i,u;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return i="/quality/"+t+"/qualityReviews/"+n,a.abrupt("return",(0,r.requestJSON)(i,{method:"DELETE"}));case 5:return u=l.default.getQualityManager(),a.abrupt("return",u.deleteReview(e,t,n));case 7:case"end":return a.stop()}},null,this)},t.createSaveRepair=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/qualityRectification",a.abrupt("return",(0,r.requestJSON)(n,{method:"POST",body:t}));case 5:return i=l.default.getQualityManager(),a.abrupt("return",i.createSaveRepair(e,JSON.parse(t)));case 7:case"end":return a.stop()}},null,this)},t.editSaveRepair=function(e,t,n){var i,u;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return i="/quality/"+e+"/qualityRectification/"+t,a.abrupt("return",(0,r.requestJSON)(i,{method:"PUT",body:n}));case 5:return u=l.default.getQualityManager(),a.abrupt("return",u.editSaveRepair(e,t,JSON.parse(n)));case 7:case"end":return a.stop()}},null,this)},t.createSubmitRepair=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/qualityRectification/commit",a.abrupt("return",(0,r.requestJSON)(n,{method:"POST",body:t}));case 5:return i=l.default.getQualityManager(),a.abrupt("return",i.createSubmitRepair(e,JSON.parse(t)));case 7:case"end":return a.stop()}},null,this)},t.editSubmitRepair=function(e,t,n){var i,u;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return i="/quality/"+e+"/qualityRectification/"+t+"/commit",a.abrupt("return",(0,r.requestJSON)(i,{method:"PUT",body:n}));case 5:return u=l.default.getQualityManager(),a.abrupt("return",u.editSubmitRepair(e,t,JSON.parse(n)));case 7:case"end":return a.stop()}},null,this)},t.getRepairInfo=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/qualityRectification/staged?inspectionId="+t,a.abrupt("return",(0,r.requestJSON)(n,{method:"GET"}));case 5:return i=l.default.getQualityManager(),a.abrupt("return",i.getRepairEditInfo(t));case 7:case"end":return a.stop()}},null,this)},t.deleteRepair=function(e,t,n){var i,u;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return i="/quality/"+t+"/qualityRectification/"+n,a.abrupt("return",(0,r.requestJSON)(i,{method:"DELETE"}));case 5:return u=l.default.getQualityManager(),a.abrupt("return",u.deleteRepair(e,t,n));case 7:case"end":return a.stop()}},null,this)},t.equipmentCreateSubmit=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/facilityAcceptance/commit",a.abrupt("return",(0,r.requestJSON)(n,{method:"POST",body:t}));case 5:return i=l.default.getEquipmentManager(),a.abrupt("return",i.equipmentCreateSubmit(e,JSON.parse(t)));case 7:case"end":return a.stop()}},null,this)},t.equipmentEditSubmit=function(e,t,n){var i,u;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return i="/quality/"+e+"/facilityAcceptance/"+t+"/commit",a.abrupt("return",(0,r.requestJSON)(i,{method:"PUT",body:n}));case 5:return u=l.default.getEquipmentManager(),a.abrupt("return",u.equipmentEditSubmit(e,t,JSON.parse(n)));case 7:case"end":return a.stop()}},null,this)},t.equipmentCreateSave=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/facilityAcceptance",a.abrupt("return",(0,r.requestJSON)(n,{method:"POST",body:t}));case 5:return i=l.default.getEquipmentManager(),a.abrupt("return",i.equipmentCreateSave(e,JSON.parse(t)));case 7:case"end":return a.stop()}},null,this)},t.equipmentEditSave=function(e,t,n){var i,u;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return i="/quality/"+e+"/facilityAcceptance/"+t,a.abrupt("return",(0,r.requestJSON)(i,{method:"PUT",body:n}));case 5:return u=l.default.getEquipmentManager(),a.abrupt("return",u.equipmentEditSave(e,t,JSON.parse(n)));case 7:case"end":return a.stop()}},null,this)},t.equipmentDelete=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/facilityAcceptance/"+t,a.abrupt("return",(0,r.requestJSON)(n,{method:"DELETE"}));case 5:return i=l.default.getEquipmentManager(),a.abrupt("return",i.equipmentDelete(e,t));case 7:case"end":return a.stop()}},null,this)},t.equipmentDetail=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return n="/quality/"+e+"/facilityAcceptance/"+t,a.abrupt("return",(0,r.requestJSON)(n,{method:"GET"}));case 5:return i=l.default.getEquipmentManager(),a.abrupt("return",i.getQualityDetail(t));case 7:case"end":return a.stop()}},null,this)},t.equipmentAcceptanceCompanies=function(e){var t,n;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.default.isOnLine()){a.next=5;break}return t="/quality/"+e+"/facilityAcceptance/acceptanceCompanys",a.abrupt("return",(0,r.requestJSON)(t,{method:"GET"}));case 5:return n=l.default.getBasicInfoManager(),a.abrupt("return",n.equipmentAcceptanceCompanies());case 7:case"end":return a.stop()}},null,this)},t.equipmentList=function(e,t,n,o,l){var u;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(t!=i.QC_STATE_EDIT){a.next=2;break}return a.abrupt("return",f(e,n,o,l,!1));case 2:if(t!=i.QC_STATE_STANDARD){a.next=4;break}return a.abrupt("return",d(e,n,o,l,!0,!0));case 4:if(t!=i.QC_STATE_NOT_STANDARD){a.next=6;break}return a.abrupt("return",d(e,n,o,l,!0,!1));case 6:return u="/quality/"+e+"/facilityAcceptance"+("?page="+n+"&size="+o+"&sort="+l),a.abrupt("return",(0,r.requestJSON)(u,{method:"GET"}));case 9:case"end":return a.stop()}},null,this)},t.equipmentListByDate=function(e,t,n,o,l,u){var s,f;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s="updateTime,desc",t!=i.QC_STATE_EDIT){a.next=3;break}return a.abrupt("return",c(e,n,o,!1,l,u));case 3:return f="/quality/"+e+"/facilityAcceptance"+("?page="+n+"&size="+o+"&sort="+s+"&startDate="+l+"&endDate="+u),a.abrupt("return",(0,r.requestJSON)(f,{method:"GET"}));case 6:case"end":return a.stop()}},null,this)},t.equipmentListNum=function(e){var t;return a.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t="/quality/"+e+"/facilityAcceptance/state/summary",n.abrupt("return",(0,r.requestJSON)(t,{method:"GET"}));case 2:case"end":return n.stop()}},null,this)},t.searchQualityData=function(e,t,n,i){var o,l;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return o="/quality/"+e+"/qualityInspection/fuzzyMatchResults",l="?keywords="+t+"&page="+n+"&size="+i,a.abrupt("return",(0,r.requestJSON)(o+l,{method:"GET"}));case 3:case"end":return a.stop()}},null,this)},t.searchEquipmentData=function(e,t,n,i){var o,l;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return o="/quality/"+e+"/facilityAcceptance/fuzzyMatchResults",l="?keywords="+t+"&page="+n+"&size="+i,a.abrupt("return",(0,r.requestJSON)(o+l,{method:"GET"}));case 3:case"end":return a.stop()}},null,this)};var r=n(65),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(418)),o=u(n(36)),l=u(n(41));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return"acceptance"===e?"qualityAcceptance":"qualityInspection"}function c(e,t,n,a,i,o){var l="/quality/"+e+"/facilityAcceptance"+("?page="+t+"&size="+n+"&sort=updateTime,desc&committed="+a+"&startDate="+i+"&endDate="+o);return(0,r.requestJSON)(l,{method:"GET"})}function f(e,t,n,a,i){var o="/quality/"+e+"/facilityAcceptance"+("?page="+t+"&size="+n+"&sort="+a+"&committed="+i);return(0,r.requestJSON)(o,{method:"GET"})}function d(e,t,n,a,i,o){var l="/quality/"+e+"/facilityAcceptance"+("?page="+t+"&size="+n+"&sort="+a+"&committed="+i+"&qualified="+o);return(0,r.requestJSON)(l,{method:"GET"})}},795:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(60));t.getProfileModelRights=function(e,t){var n;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/admin/auths/admin/moduleRights/?profileId="+e+"&moduleCode="+t,a.abrupt("return",(0,r.requestJSON)(n,{method:"GET"}));case 2:case"end":return a.stop()}},null,this)},t.getAppModelRights=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0",i={};a&&"0"!=a&&(i={"X-CORAL-TENANT":""+a});var o="/admin//auths/"+e+"/moduleRights/"+t+"?deptId="+n;return(0,r.requestJSON)(o,{method:"GET",headers:i})},t.checkVersion=function(){var e;return a.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e="/basis/sysinfo?name="+"android",t.abrupt("return",(0,r.requestJSON)(e,{method:"GET"}));case 3:case"end":return t.stop()}},null,this)};var r=n(65)},796:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(107));var r=null,i=null,o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.insert=function(e,t,n,o){a.isEmpty(t)||i.write(function(){i.create(r,{key:e,value:t,state:n,updateTime:o},!0)})},a.update=function(e,t,n,o){a.isEmpty(t)||i.write(function(){i.create(r,{key:e,value:t,state:n,updateTime:o},!0)})},a.delete=function(e){i.write(function(){var t=i.objects(r).filtered('key="'+e+'"');i.delete(t)})},a.deleteAll=function(){i.write(function(){var e=i.objects(r);i.delete(e)})},a.queryByState=function(e){for(var t=i.objects(r).sorted("updateTime",!0).filtered('state="'+e+'"'),n=[],a=0;a<t.length;a++)n[a]=JSON.parse(t[a].value);return n},r=e,i=n,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=o},797:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(60)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(10)),o=u(n(796)),l=u(n(41));function u(e){return e&&e.__esModule?e:{default:e}}var s=null,c=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getRecordsByState=function(e){var t=s.queryByState(e);return console.log(t),t},this.saveRecord=function(e,t,n,a){s.insert(e,t,n,a)},this.deleteAll=function(){s.deleteAll()},this.deleteByKey=function(e){s.delete(e)},this.syncList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_getRecordsByState=function(e){var t=s.queryByState(e);return console.log(t),t},_asyncSuccess=function(e){var t=e.id+"";r.deleteByKey(t);var n=t,a=(new Date).getTime()+"",i={id:t,title:e.title,subTitle:r._formatDate(a),state:"已同步",type:e.type,qcState:e.qcState};return r.saveRecord(n,JSON.stringify(i),"已同步",a+""),n},_asyncError=function(e,t){var n=e.id+"";r.deleteByKey(n);var a=n,i=(new Date).getTime()+"",o={id:n,title:e.title,subTitle:r._formatDate(i),state:"同步失败",type:e.type,qcState:e.qcState,errMsg:t+""};return r.saveRecord(a,JSON.stringify(o),"同步失败",i+""),""},_createSubmitInspection=function(e,t,n,a){return i.default.createSubmitInspection(t,n,JSON.stringify(a)).then(function(t){r.deleteByKey(e.id+"");var n=t.data.id+"",a=(new Date).getTime()+"",i={id:t.data.id+"",title:t.data.code,subTitle:r._formatDate(a),state:"已同步",type:e.type,qcState:e.qcState};return r.saveRecord(n,JSON.stringify(i),"已同步",a+""),n}).catch(function(t){return _asyncError(e,t)})},_editSubmitInspection=function(e,t,n,a,r){return i.default.editSubmitInspection(t,n,a,JSON.stringify(r)).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_createSaveInspection=function(e,t,n,a){return i.default.createSaveInspection(t,n,JSON.stringify(a)).then(function(t){r.deleteByKey(e.id+"");var n=t.data.id+"",a=(new Date).getTime()+"",i={id:t.data.id+"",title:t.data.code,subTitle:r._formatDate(a),state:"已同步",type:e.type,qcState:e.qcState};return r.saveRecord(n,JSON.stringify(i),"已同步",a+""),n}).catch(function(t){return _asyncError(e,t)})},_editSaveInspection=function(e,t,n,a,r){return i.default.editSaveInspection(t,n,a,JSON.stringify(r)).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_createDeleteInspection=function(e,t,n,a){return i.default.createDeleteInspection(t,n,a).then(function(t){r.deleteByKey(a+"");var n=a+"",i=(new Date).getTime()+"",o={id:e.id+"",title:e.title,subTitle:r._formatDate(i),state:"已同步",type:e.type,qcState:e.qcState};return r.saveRecord(n,JSON.stringify(o),"已同步",i+""),n}).catch(function(t){return _asyncError(e,t)})},_createSubmitRepair=function(e,t,n){return i.default.createSubmitRepair(t,JSON.stringify(n)).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_createSaveRepair=function(e,t,n){return i.default.createSaveRepair(t,JSON.stringify(n)).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_editSaveRepair=function(e,t,n,a){return i.default.editSaveRepair(t,n,JSON.stringify(a)).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_editSubmitRepair=function(e,t,n,a){return i.default.editSubmitRepair(t,n,JSON.stringify(a)).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_deleteRepair=function(e,t,n,a){return i.default.deleteRepair(t,n,a).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_createSubmitReview=function(e,t,n){return i.default.createSubmitReview(t,JSON.stringify(n)).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_editSubmitReview=function(e,t,n,a){return i.default.editSubmitReview(t,n,JSON.stringify(a)).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_createSaveReview=function(e,t,n){return i.default.createSaveReview(t,JSON.stringify(n)).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_editSaveReview=function(e,t,n,a){return i.default.editSaveReview(t,n,JSON.stringify(a)).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_deleteReview=function(e,t,n,a){return i.default.deleteReview(t,n,a).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_equipmentCreateSubmit=function(e,t,n){return i.default.equipmentCreateSubmit(t,JSON.stringify(n)).then(function(t){r.deleteByKey(e.id+"");var n=t.data.id+"",a=(new Date).getTime()+"",i={id:t.data.id+"",title:t.data.code,subTitle:r._formatDate(a),state:"已同步",type:e.type,qcState:e.qcState};return r.saveRecord(n,JSON.stringify(i),"已同步",a+""),n}).catch(function(t){return _asyncError(e,t)})},_equipmentEditSubmit=function(e,t,n,a){return i.default.equipmentEditSubmit(t,n,JSON.stringify(a)).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_equipmentCreateSave=function(e,t,n){return i.default.equipmentCreateSave(t,JSON.stringify(n)).then(function(t){r.deleteByKey(e.id+"");var n=t.data.id+"",a=(new Date).getTime()+"",i={id:t.data.id+"",title:t.data.code,subTitle:r._formatDate(a),state:"已同步",type:e.type,qcState:e.qcState};return r.saveRecord(n,JSON.stringify(i),"已同步",a+""),n}).catch(function(t){return _asyncError(e,t)})},_equipmentEditSave=function(e,t,n,a){return i.default.equipmentEditSave(t,n,JSON.stringify(a)).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})},_equipmentDelete=function(e,t,n){return i.default.equipmentDelete(t,n).then(function(t){return _asyncSuccess(e)}).catch(function(t){return _asyncError(e,t)})};e?function(e){var t,n,r,o,u,s,c,f,d,p,m,g,h,_,y,b,v,N,E,w,I,T,P,S,C,O,k,x,D,A,R,j,M,L,B,q,F,V,Q,U,Y,z,W,G,J,H,K,X,Z,$,ee,te,ne,ae,re,ie,oe,le,ue,se,ce,fe,de,pe,me,ge,he,_e,ye,be,ve,Ne,Ee,we,Ie,Te,Pe,Se,Ce,Oe,ke,xe,De;return a.default.async(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:t=l.default.getQualityManager(),n=l.default.getEquipmentManager(),Ae.t0=e.qcState,Ae.next=Ae.t0===i.QC_STATE_Q_NEW_SUBMIT?5:Ae.t0===i.QC_STATE_Q_EDIT_SUBMIT?16:Ae.t0===i.QC_STATE_Q_NEW_SAVE?28:Ae.t0===i.QC_STATE_Q_EDIT_SAVE?39:Ae.t0===i.QC_STATE_Q_DELETE?51:Ae.t0===i.QC_STATE_REPAIR_NEW_SUBMIT?62:Ae.t0===i.QC_STATE_REPAIR_NEW_SAVE?72:Ae.t0===i.QC_STATE_REPAIR_EDIT_SAVE?82:Ae.t0===i.QC_STATE_REPAIR_EDIT_SUBMIT?93:Ae.t0===i.QC_STATE_REPAIR_DELETE?104:Ae.t0===i.QC_STATE_REVIEW_NEW_SUBMIT?115:Ae.t0===i.QC_STATE_REVIEW_EDIT_SUBMIT?126:Ae.t0===i.QC_STATE_REVIEW_NEW_SAVE?138:Ae.t0===i.QC_STATE_REVIEW_EDIT_SAVE?148:Ae.t0===i.QC_STATE_REVIEW_DELETE?159:Ae.t0===i.QC_STATE_EQUIPMENT_NEW_SUBMIT?170:Ae.t0===i.QC_STATE_EQUIPMENT_EDIT_SUBMIT?181:Ae.t0===i.QC_STATE_EQUIPMENT_NEW_SAVE?192:Ae.t0===i.QC_STATE_EQUIPMENT_EDIT_SAVE?203:Ae.t0===i.QC_STATE_EQUIPMENT_DELETE?214:224;break;case 5:if(!t){Ae.next=15;break}if(!(r=t.getSubmitInfoById(e.id))){Ae.next=15;break}return o=r.projectId,u=r.inspectionType,s=r.props,Ae.next=13,a.default.awrap(_createSubmitInspection(e,o,u,s));case 13:(c=Ae.sent)&&(t.uploadById(c),t.delete(e.id+""));case 15:return Ae.abrupt("break",224);case 16:if(!t){Ae.next=27;break}if(!(f=t.getSubmitInfoById(e.id))){Ae.next=27;break}return d=f.projectId,p=f.inspectionType,m=f.props,g=m.inspectId,Ae.next=25,a.default.awrap(_editSubmitInspection(e,d,g,p,m));case 25:Ae.sent,t.uploadById(e.id);case 27:return Ae.abrupt("break",224);case 28:if(!t){Ae.next=38;break}if(!(h=t.getSubmitInfoById(e.id))){Ae.next=38;break}return _=h.projectId,y=h.inspectionType,b=h.props,Ae.next=36,a.default.awrap(_createSaveInspection(e,_,y,b));case 36:(v=Ae.sent)&&(t.uploadById(v),t.delete(e.id+""));case 38:return Ae.abrupt("break",224);case 39:if(!t){Ae.next=50;break}if(!(N=t.getSubmitInfoById(e.id))){Ae.next=50;break}return E=N.projectId,w=N.inspectionType,I=N.props,T=I.inspectId,Ae.next=48,a.default.awrap(_editSaveInspection(e,E,T,w,I));case 48:Ae.sent,t.uploadById(e.id);case 50:return Ae.abrupt("break",224);case 51:if(!t){Ae.next=61;break}if(!(P=t.getSubmitInfoById(e.id))){Ae.next=61;break}return S=P.projectId,C=P.inspectionType,O=P.fileId,Ae.next=59,a.default.awrap(_createDeleteInspection(e,S,C,O));case 59:Ae.sent,t.delete(O+"");case 61:return Ae.abrupt("break",224);case 62:if(!t){Ae.next=71;break}if(!(k=t.getSubmitInfoById(e.id))){Ae.next=71;break}return x=k.projectId,D=k.props,Ae.next=69,a.default.awrap(_createSubmitRepair(e,x,D));case 69:Ae.sent,t.uploadById(e.id);case 71:return Ae.abrupt("break",224);case 72:if(!t){Ae.next=81;break}if(!(A=t.getSubmitInfoById(e.id))){Ae.next=81;break}return R=A.projectId,j=A.props,Ae.next=79,a.default.awrap(_createSaveRepair(e,R,j));case 79:Ae.sent,t.uploadById(e.id);case 81:return Ae.abrupt("break",224);case 82:if(!t){Ae.next=92;break}if(!(M=t.getSubmitInfoById(e.id))){Ae.next=92;break}return L=M.projectId,B=M.props,q=M.fileId,Ae.next=90,a.default.awrap(_editSaveRepair(e,L,q,B));case 90:Ae.sent,t.uploadById(e.id);case 92:return Ae.abrupt("break",224);case 93:if(!t){Ae.next=103;break}if(!(F=t.getSubmitInfoById(e.id))){Ae.next=103;break}return V=F.projectId,Q=F.props,U=F.fileId,Ae.next=101,a.default.awrap(_editSubmitRepair(e,V,U,Q));case 101:Ae.sent,t.uploadById(e.id);case 103:return Ae.abrupt("break",224);case 104:if(!t){Ae.next=114;break}if(!(Y=t.getSubmitInfoById(e.id))){Ae.next=114;break}return z=Y.projectId,W=Y.inspectionId,G=Y.fileId,Ae.next=112,a.default.awrap(_deleteRepair(e,W,z,G));case 112:Ae.sent,t.uploadById(e.id);case 114:return Ae.abrupt("break",224);case 115:if(console.log("复查单 新增 提交"),!t){Ae.next=125;break}if(!(J=t.getSubmitInfoById(e.id))){Ae.next=125;break}return H=J.projectId,K=J.props,Ae.next=123,a.default.awrap(_createSubmitReview(e,H,K));case 123:Ae.sent,t.uploadById(e.id);case 125:return Ae.abrupt("break",224);case 126:if(console.log("复查单 编辑 提交"),!t){Ae.next=137;break}if(!(X=t.getSubmitInfoById(e.id))){Ae.next=137;break}return Z=X.projectId,$=X.props,ee=X.fileId,Ae.next=135,a.default.awrap(_editSubmitReview(e,Z,ee,$));case 135:Ae.sent,t.uploadById(e.id);case 137:return Ae.abrupt("break",224);case 138:if(!t){Ae.next=147;break}if(!(te=t.getSubmitInfoById(e.id))){Ae.next=147;break}return ne=te.projectId,ae=te.props,Ae.next=145,a.default.awrap(_createSaveReview(e,ne,ae));case 145:Ae.sent,t.uploadById(e.id);case 147:return Ae.abrupt("break",224);case 148:if(!t){Ae.next=158;break}if(!(re=t.getSubmitInfoById(e.id))){Ae.next=158;break}return ie=re.projectId,oe=re.props,le=re.fileId,Ae.next=156,a.default.awrap(_editSaveReview(e,ie,le,oe));case 156:Ae.sent,t.uploadById(e.id);case 158:return Ae.abrupt("break",224);case 159:if(!t){Ae.next=169;break}if(!(ue=t.getSubmitInfoById(e.id))){Ae.next=169;break}return se=ue.projectId,ce=ue.inspectionId,fe=ue.fileId,Ae.next=167,a.default.awrap(_deleteReview(e,ce,se,fe));case 167:Ae.sent,t.uploadById(e.id);case 169:return Ae.abrupt("break",224);case 170:if(!n){Ae.next=180;break}if(!(de=n.getSubmitInfoById(e.id))){Ae.next=180;break}return pe=de.projectId,me=de.props,Ae.next=177,a.default.awrap(_equipmentCreateSubmit(e,pe,me));case 177:ge=Ae.sent,n.delete(e.id+""),n.updateById(ge);case 180:return Ae.abrupt("break",224);case 181:if(!n){Ae.next=191;break}if(!(he=n.getSubmitInfoById(e.id))){Ae.next=191;break}return _e=he.projectId,ye=he.props,be=he.equipmentId,Ae.next=189,a.default.awrap(_equipmentEditSubmit(e,_e,be,ye));case 189:ve=Ae.sent,n.updateById(ve);case 191:return Ae.abrupt("break",224);case 192:if(!n){Ae.next=202;break}if(!(Ne=n.getSubmitInfoById(e.id))){Ae.next=202;break}return Ee=Ne.projectId,we=Ne.props,Ae.next=199,a.default.awrap(_equipmentCreateSave(e,Ee,we));case 199:Ie=Ae.sent,n.delete(e.id+""),n.updateById(Ie);case 202:return Ae.abrupt("break",224);case 203:if(!n){Ae.next=213;break}if(!(Te=n.getSubmitInfoById(e.id))){Ae.next=213;break}return Pe=Te.projectId,Se=Te.props,Ce=Te.equipmentId,Ae.next=211,a.default.awrap(_equipmentEditSave(e,Pe,Ce,Se));case 211:Oe=Ae.sent,n.updateById(Oe);case 213:return Ae.abrupt("break",224);case 214:if(!n){Ae.next=223;break}if(!(ke=n.getSubmitInfoById(e.id))){Ae.next=223;break}return xe=ke.projectId,De=ke.equipmentId,Ae.next=221,a.default.awrap(_equipmentDelete(e,xe,De));case 221:Ae.sent,n.delete(e.id+"");case 223:return Ae.abrupt("break",224);case 224:case"end":return Ae.stop()}},null,this)}(e).then(function(e){console.log("单个文件 同步完成"),t&&t.onSuccess()}).catch(function(e){console.log(e),t&&t.onFail(e)}):function(){var e,t,n,r,o,u,s,c,f,d,p,m,g,h,_,y,b,v,N,E,w,I,T,P,S,C,O,k,x,D,A,R,j,M,L,B,q,F,V,Q,U,Y,z,W,G,J,H,K,X,Z,$,ee,te,ne,ae,re,ie,oe,le,ue,se,ce,fe,de,pe,me,ge,he,_e,ye,be,ve,Ne,Ee,we,Ie,Te,Pe,Se,Ce,Oe,ke,xe,De,Ae,Re,je,Me,Le;return a.default.async(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(e=_getRecordsByState("待同步"),console.log("待同步列表"),console.log(e),!(e&&e.length>0)){Be.next=242;break}t=e,n=Array.isArray(t),r=0,t=n?t:t["function"==typeof Symbol&&"function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 5:if(!n){Be.next=11;break}if(!(r>=t.length)){Be.next=8;break}return Be.abrupt("break",242);case 8:o=t[r++],Be.next=15;break;case 11:if(!(r=t.next()).done){Be.next=14;break}return Be.abrupt("break",242);case 14:o=r.value;case 15:u=o,s=l.default.getQualityManager(),c=l.default.getEquipmentManager(),Be.t0=u.qcState,Be.next=Be.t0===i.QC_STATE_Q_NEW_SUBMIT?21:Be.t0===i.QC_STATE_Q_EDIT_SUBMIT?32:Be.t0===i.QC_STATE_Q_NEW_SAVE?44:Be.t0===i.QC_STATE_Q_EDIT_SAVE?55:Be.t0===i.QC_STATE_Q_DELETE?67:Be.t0===i.QC_STATE_REPAIR_NEW_SUBMIT?78:Be.t0===i.QC_STATE_REPAIR_NEW_SAVE?88:Be.t0===i.QC_STATE_REPAIR_EDIT_SAVE?98:Be.t0===i.QC_STATE_REPAIR_EDIT_SUBMIT?109:Be.t0===i.QC_STATE_REPAIR_DELETE?120:Be.t0===i.QC_STATE_REVIEW_NEW_SUBMIT?131:Be.t0===i.QC_STATE_REVIEW_EDIT_SUBMIT?142:Be.t0===i.QC_STATE_REVIEW_NEW_SAVE?154:Be.t0===i.QC_STATE_REVIEW_EDIT_SAVE?164:Be.t0===i.QC_STATE_REVIEW_DELETE?175:Be.t0===i.QC_STATE_EQUIPMENT_NEW_SUBMIT?186:Be.t0===i.QC_STATE_EQUIPMENT_EDIT_SUBMIT?197:Be.t0===i.QC_STATE_EQUIPMENT_NEW_SAVE?208:Be.t0===i.QC_STATE_EQUIPMENT_EDIT_SAVE?219:Be.t0===i.QC_STATE_EQUIPMENT_DELETE?230:240;break;case 21:if(!s){Be.next=31;break}if(!(f=s.getSubmitInfoById(u.id))){Be.next=31;break}return d=f.projectId,p=f.inspectionType,m=f.props,Be.next=29,a.default.awrap(_createSubmitInspection(u,d,p,m));case 29:(g=Be.sent)&&(s.uploadById(g),s.delete(u.id+""));case 31:return Be.abrupt("break",240);case 32:if(!s){Be.next=43;break}if(!(h=s.getSubmitInfoById(u.id))){Be.next=43;break}return _=h.projectId,y=h.inspectionType,b=h.props,v=b.inspectId,Be.next=41,a.default.awrap(_editSubmitInspection(u,_,v,y,b));case 41:Be.sent,s.uploadById(u.id);case 43:return Be.abrupt("break",240);case 44:if(!s){Be.next=54;break}if(!(N=s.getSubmitInfoById(u.id))){Be.next=54;break}return E=N.projectId,w=N.inspectionType,I=N.props,Be.next=52,a.default.awrap(_createSaveInspection(u,E,w,I));case 52:(T=Be.sent)&&(s.uploadById(T),s.delete(u.id+""));case 54:return Be.abrupt("break",240);case 55:if(!s){Be.next=66;break}if(!(P=s.getSubmitInfoById(u.id))){Be.next=66;break}return S=P.projectId,C=P.inspectionType,O=P.props,k=O.inspectId,Be.next=64,a.default.awrap(_editSaveInspection(u,S,k,C,O));case 64:Be.sent,s.uploadById(u.id);case 66:return Be.abrupt("break",240);case 67:if(!s){Be.next=77;break}if(!(x=s.getSubmitInfoById(u.id))){Be.next=77;break}return D=x.projectId,A=x.inspectionType,R=x.fileId,Be.next=75,a.default.awrap(_createDeleteInspection(u,D,A,R));case 75:Be.sent,s.delete(R+"");case 77:return Be.abrupt("break",240);case 78:if(!s){Be.next=87;break}if(!(j=s.getSubmitInfoById(u.id))){Be.next=87;break}return M=j.projectId,L=j.props,Be.next=85,a.default.awrap(_createSubmitRepair(u,M,L));case 85:Be.sent,s.uploadById(u.id);case 87:return Be.abrupt("break",240);case 88:if(!s){Be.next=97;break}if(!(B=s.getSubmitInfoById(u.id))){Be.next=97;break}return q=B.projectId,F=B.props,Be.next=95,a.default.awrap(_createSaveRepair(u,q,F));case 95:Be.sent,s.uploadById(u.id);case 97:return Be.abrupt("break",240);case 98:if(!s){Be.next=108;break}if(!(V=s.getSubmitInfoById(u.id))){Be.next=108;break}return Q=V.projectId,U=V.props,Y=V.fileId,Be.next=106,a.default.awrap(_editSaveRepair(u,Q,Y,U));case 106:Be.sent,s.uploadById(u.id);case 108:return Be.abrupt("break",240);case 109:if(!s){Be.next=119;break}if(!(z=s.getSubmitInfoById(u.id))){Be.next=119;break}return W=z.projectId,G=z.props,J=z.fileId,Be.next=117,a.default.awrap(_editSubmitRepair(u,W,J,G));case 117:Be.sent,s.uploadById(u.id);case 119:return Be.abrupt("break",240);case 120:if(!s){Be.next=130;break}if(!(H=s.getSubmitInfoById(u.id))){Be.next=130;break}return K=H.projectId,X=H.inspectionId,Z=H.fileId,Be.next=128,a.default.awrap(_deleteRepair(u,X,K,Z));case 128:Be.sent,s.uploadById(u.id);case 130:return Be.abrupt("break",240);case 131:if(console.log("复查单 新增 提交"),!s){Be.next=141;break}if(!($=s.getSubmitInfoById(u.id))){Be.next=141;break}return ee=$.projectId,te=$.props,Be.next=139,a.default.awrap(_createSubmitReview(u,ee,te));case 139:Be.sent,s.uploadById(u.id);case 141:return Be.abrupt("break",240);case 142:if(console.log("复查单 编辑 提交"),!s){Be.next=153;break}if(!(ne=s.getSubmitInfoById(u.id))){Be.next=153;break}return ae=ne.projectId,re=ne.props,ie=ne.fileId,Be.next=151,a.default.awrap(_editSubmitReview(u,ae,ie,re));case 151:Be.sent,s.uploadById(u.id);case 153:return Be.abrupt("break",240);case 154:if(!s){Be.next=163;break}if(!(oe=s.getSubmitInfoById(u.id))){Be.next=163;break}return le=oe.projectId,ue=oe.props,Be.next=161,a.default.awrap(_createSaveReview(u,le,ue));case 161:Be.sent,s.uploadById(u.id);case 163:return Be.abrupt("break",240);case 164:if(!s){Be.next=174;break}if(!(se=s.getSubmitInfoById(u.id))){Be.next=174;break}return ce=se.projectId,fe=se.props,de=se.fileId,Be.next=172,a.default.awrap(_editSaveReview(u,ce,de,fe));case 172:Be.sent,s.uploadById(u.id);case 174:return Be.abrupt("break",240);case 175:if(!s){Be.next=185;break}if(!(pe=s.getSubmitInfoById(u.id))){Be.next=185;break}return me=pe.projectId,ge=pe.inspectionId,he=pe.fileId,Be.next=183,a.default.awrap(_deleteReview(u,ge,me,he));case 183:Be.sent,s.uploadById(u.id);case 185:return Be.abrupt("break",240);case 186:if(!c){Be.next=196;break}if(!(_e=c.getSubmitInfoById(u.id))){Be.next=196;break}return ye=_e.projectId,be=_e.props,Be.next=193,a.default.awrap(_equipmentCreateSubmit(u,ye,be));case 193:ve=Be.sent,c.delete(u.id+""),c.updateById(ve);case 196:return Be.abrupt("break",240);case 197:if(!c){Be.next=207;break}if(!(Ne=c.getSubmitInfoById(u.id))){Be.next=207;break}return Ee=Ne.projectId,we=Ne.props,Ie=Ne.equipmentId,Be.next=205,a.default.awrap(_equipmentEditSubmit(u,Ee,Ie,we));case 205:Te=Be.sent,c.updateById(Te);case 207:return Be.abrupt("break",240);case 208:if(!c){Be.next=218;break}if(!(Pe=c.getSubmitInfoById(u.id))){Be.next=218;break}return Se=Pe.projectId,Ce=Pe.props,Be.next=215,a.default.awrap(_equipmentCreateSave(u,Se,Ce));case 215:Oe=Be.sent,c.delete(u.id+""),c.updateById(Oe);case 218:return Be.abrupt("break",240);case 219:if(!c){Be.next=229;break}if(!(ke=c.getSubmitInfoById(u.id))){Be.next=229;break}return xe=ke.projectId,De=ke.props,Ae=ke.equipmentId,Be.next=227,a.default.awrap(_equipmentEditSave(u,xe,Ae,De));case 227:Re=Be.sent,c.updateById(Re);case 229:return Be.abrupt("break",240);case 230:if(!c){Be.next=239;break}if(!(je=c.getSubmitInfoById(u.id))){Be.next=239;break}return Me=je.projectId,Le=je.equipmentId,Be.next=237,a.default.awrap(_equipmentDelete(u,Me,Le));case 237:Be.sent,c.delete(u.id+"");case 239:return Be.abrupt("break",240);case 240:Be.next=5;break;case 242:case"end":return Be.stop()}},null,this)}().then(function(e){console.log("列表 同步完成")})},s=new o.default(t,n)}return r(e,[{key:"_formatDate",value:function(e,t){var n=new Date;return n.setTime(parseInt(e)),t=null!=t?t:"yyyy-MM-dd hh:mm",Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},n.Format(t)}}]),e}();t.default=c},798:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(107));var r=null,i=null,o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.insert=function(e,t,n){a.isEmpty(t)||i.write(function(){i.create(r,{key:e,value:t,downloading:n},!0)})},a.update=function(e,t,n){a.isEmpty(t)||i.write(function(){i.create(r,{key:e,value:t,downloading:n},!0)})},a.delete=function(e){i.write(function(){var t=i.objects(r).filtered('key="'+e+'"');i.delete(t)})},a.deleteAll=function(){i.write(function(){var e=i.objects(r);i.delete(e)})},a.query=function(e){var t=i.objects(r).filtered('key="'+e+'"');return a.isEmpty(t)?null:t[0].value},a.queryAll=function(){for(var e=i.objects(r).sorted("key",!0).filtered('downloading="true"'),t=[],n=0;n<e.length;n++)t[n]=e[n];return t},r=e,i=n,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=o},799:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});r(n(10));var a=r(n(798));function r(e){return e&&e.__esModule?e:{default:e}}var i=null;t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getAllRecords=function(){return i.queryAll()},this.getRecordByKey=function(e){var t=i.query(e);return JSON.parse(t)},this.saveRecord=function(e,t,n){i.insert(e,t,n)},this.delete=function(e){i.delete(e)},this.deleteAll=function(){i.deleteAll()},i=new a.default(t,n)}},800:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(107));var r=null,i=null,o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.insert=function(e,t,n,o,l,u,s){a.isEmpty(t)||i.write(function(){i.create(r,{key:e,value:t,committed:n,qualified:o,updateTime:l,submitState:u,errorMsg:s},!0)})},a.update=function(e,t,n,o,l,u,s){a.isEmpty(t)||i.write(function(){i.create(r,{key:e,value:t,committed:n,qualified:o,updateTime:l,submitState:u,errorMsg:s},!0)})},a.delete=function(e){i.write(function(){var t=i.objects(r).filtered('key="'+e+'"');i.delete(t)})},a.deleteAll=function(){i.write(function(){var e=i.objects(r);i.delete(e)})},a.query=function(e){var t=i.objects(r).filtered('key="'+e+'"');return a.isEmpty(t)?null:t[0].value},a.queryAll=function(e,t){var n=i.objects(r).sorted("updateTime",!0),a=n.slice(e*t,(e+1)*t),o=[];return a&&a.length>0&&(o=Array.from(a,function(e){return obj=JSON.parse(e.value),obj.item})),{list:o,total:n.length}},a.queryCommit=function(e,t,n){var a=i.objects(r).sorted("updateTime",!0).filtered('committed="'+n+'"'),o=a.slice(e*t,(e+1)*t),l=[];return o&&o.length>0&&(l=Array.from(o,function(e){return obj=JSON.parse(e.value),obj.item})),{list:l,total:a.length}},a.queryQualified=function(e,t,n){var a=i.objects(r).sorted("updateTime",!0).filtered('committed="true"').filtered('qualified="'+n+'"'),o=a.slice(e*t,(e+1)*t),l=[];return o&&o.length>0&&(l=Array.from(o,function(e){return obj=JSON.parse(e.value),obj.item})),{list:l,total:a.length}},r=e,i=n,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=o},801:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(60)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(25),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(10)),u=f(n(800)),s=f(n(275)),c=f(n(41));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var p=null,m=void 0,g=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._getFromDb=function(e){var t=p.query(e);return new Promise(function(e,n){e(JSON.parse(t))})},this._getFromDbJson=function(e){var t=p.query(e);return JSON.parse(t)},this.getEquipmentList=function(e,t,n){return e==l.QC_STATE_EDIT?i._getEquipmentListCommited(t,n,!1):e==l.QC_STATE_STANDARD?i._getEquipmentListQualified(t,n,!0):e==l.QC_STATE_NOT_STANDARD?i._getEquipmentListQualified(t,n,!1):i._getEquipmentListAll(t,n)},this._getEquipmentListAll=function(e,t){var n=p.queryAll(e,t);return console.log("2323232323"),console.log(n),new Promise(function(e,t){e(n)})},this._getEquipmentListCommited=function(e,t,n){var a=p.queryCommit(e,t,n);return new Promise(function(e,t){e(a)})},this._getEquipmentListQualified=function(e,t,n){var a=p.queryQualified(e,t,n);return new Promise(function(e,t){e(a)})},this.getEquipmentListItem=function(e){var t=p.query(e);return JSON.parse(t).item},this.getQualityDetail=function(e){var t=p.query(e);console.log(t);var n=JSON.parse(t);return new Promise(function(e,t){e(n.detail)})},this.getEquipmentDetailObj=function(e){var t=p.query(e);return JSON.parse(t).detail},this.getQualityEdit=function(e){return i.getQualityDetail(e)},this.getSubmitInfoById=function(e){var t=p.query(e);return JSON.parse(t).submitInfo},this.insert=function(e,t,n,a,r,i,o){p.update(e,t,n,a,r,i,o)},this.delete=function(e){p.delete(e)},this.updateById=function(e){var t=function(e,t,n,a,r,i,o){p.update(e,t,n,a,r,i,o)},n=function(e){return l.default.equipmentDetail(m,e).then(function(e){return e||null}).catch(function(e){console.log(e)})},i=function(e){return l.default.equipmentDetail(m,e).then(function(e){return e||null}).catch(function(e){console.log(e)})},o=[];(function(){var l,u,s,c,f,p,m,g,h,_;return a.default.async(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,a.default.awrap(n(e));case 2:if(l=y.sent,o=[].concat(d(o),[l]),u=r({},l.data),s=null,u.committed){y.next=10;break}return y.next=9,a.default.awrap(i(u.id));case 9:s=y.sent;case 10:return c=u.id+"",f={item:u,detail:l,editInfo:s},p=u.committed+"",m=u.qualified+"",g=u.updateTime+"",h="",_="",t(c,JSON.stringify(f),p,m,g,h,_),y.abrupt("return",!0);case 19:case"end":return y.stop()}},null,this)})().then(function(e){if(o&&o.length>0){var t=[],n=o,a=Array.isArray(n),r=0;for(n=a?n:n["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(a){if(r>=n.length)break;i=n[r++]}else{if((r=n.next()).done)break;i=r.value}var l=i.data.files;if(l&&l.length>0){var u=l,c=Array.isArray(u),f=0;for(u=c?u:u["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var p;if(c){if(f>=u.length)break;p=u[f++]}else{if((f=u.next()).done)break;p=f.value}var m=p;t=[].concat(d(t),[{fileId:m.objectId,url:m.url}])}}}(new s.default).download(t)}},function(e){console.log(e)})},this.download=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments[3],i=arguments[4],u=l.QC_STATE_ALL;n.length>0&&"待提交"==n[0]&&(u=l.QC_STATE_EDIT);var f=function(e,t,n,a,r,i,o){p.update(e,t,n,a,r,i,o)},g=c.default.getDownloadingManager(),h=function(e,t,n){i.size=n,i.progress=e,i.total=t;var a=e<t?"true":"false";(e>t&&(e=t),g.saveRecord(r,JSON.stringify(i),a),e==t)&&(c.default.getEquipmentConditionManager().saveRecord(r,JSON.stringify(i)),g.delete(r));o.DeviceEventEmitter.emit(r,i)},_=function(n,a){return l.default.equipmentListByDate(m,u,n,a,e,t).then(function(e){return e&&e.data&&e.data.content&&e.data.content.length>0?{list:e.data.content,totalPages:e.data.totalPages}:null}).catch(function(e){console.log(e)})},y=function(e){return l.default.equipmentDetail(m,e).then(function(e){return e||null}).catch(function(e){console.log(e)})},b=function(e){return l.default.equipmentDetail(m,e).then(function(e){return e||null}).catch(function(e){console.log(e)})},v=[];(function(){var e,t,n,r,i,o,l,u,s,c,p,m,g,N,E,w,I,T,P,S,C,O,k;return a.default.async(function(x){for(;;)switch(x.prev=x.next){case 0:return e=0,t=30,x.next=4,a.default.awrap(_(e,t));case 4:if(n=x.sent,r=[],!(n&&n.list&&n.list.length>0)){x.next=19;break}r=[].concat(d(r),d(n.list)),i=n.totalPages,console.log("totalpages="+i),e++;case 11:if(!(e<i)){x.next=19;break}return x.next=14,a.default.awrap(_(e,t));case 14:o=x.sent,r=[].concat(d(r),d(o.list)),e++,x.next=11;break;case 19:if(!(r&&r.length>0)){x.next=58;break}l=0,u=r.length,h(l++,s=2*u,u),c=r,p=Array.isArray(c),m=0,c=p?c:c["function"==typeof Symbol&&"function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 25:if(!p){x.next=31;break}if(!(m>=c.length)){x.next=28;break}return x.abrupt("break",57);case 28:g=c[m++],x.next=35;break;case 31:if(!(m=c.next()).done){x.next=34;break}return x.abrupt("break",57);case 34:g=m.value;case 35:return N=g,x.next=38,a.default.awrap(y(N.id));case 38:if(E=x.sent,h(l++,s,u),v=[].concat(d(v),[E]),w=null,N.committed){x.next=47;break}return x.next=45,a.default.awrap(b(N.id));case 45:w=x.sent,h(l++,s,u);case 47:I=N.id+"",T={item:N,detail:E,editInfo:w},P=N.committed+"",S=N.qualified+"",C=N.updateTime+"",O="",k="",f(I,JSON.stringify(T),P,S,C,O,k);case 55:x.next=25;break;case 57:h(s,s,u);case 58:return x.abrupt("return",!0);case 59:case"end":return x.stop()}},null,this)})().then(function(e){if(console.log("==============downloadOver====================="),v&&v.length>0){var t=[],n=v,a=Array.isArray(n),r=0;for(n=a?n:n["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(a){if(r>=n.length)break;i=n[r++]}else{if((r=n.next()).done)break;i=r.value}var o=i.data.files;if(o&&o.length>0){var l=o,u=Array.isArray(l),c=0;for(l=u?l:l["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var f;if(u){if(c>=l.length)break;f=l[c++]}else{if((c=l.next()).done)break;f=c.value}var p=f;t=[].concat(d(t),[{fileId:p.objectId,url:p.url}])}}}(new s.default).download(t)}},function(e){console.log(e)})},p=new u.default(t,n),m=storage.loadProject(),storage.getLatestVersionId(m)}return i(e,[{key:"_formatDate",value:function(e,t){var n=new Date;return n.setTime(parseInt(e)),t=null!=t?t:"yyyy-MM-dd hh:mm",Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},n.Format(t)}},{key:"equipmentCreateSubmit",value:function(e,t){var n=new Date,a="_"+n.getTime(),i=t.qualified,o=l.QC_STATE_EQUIPMENT_NEW_SUBMIT,u=n.getTime()+"",s=r({},t,{id:a,committed:!1,qcStateShow:"提交 待同步",qcStateColor:"#f39b3d",isOffline:!0,updateTime:parseInt(u),qcState:o}),f={data:r({},t,{id:a,committed:!1})},d=a+"",p={item:s,detail:f,editInfo:f,submitInfo:{projectId:e,props:t}};this.insert(d,JSON.stringify(p),!1+"",i+"",u,"true","");var m={id:d,title:t.code,subTitle:this._formatDate(u),state:"待同步",type:"equipment",qcState:o};return asyncManager=c.default.getAsyncManager(),asyncManager.saveRecord(d,JSON.stringify(m),"待同步",u),new Promise(function(e,t){e({data:{code:"code",id:a}})})}},{key:"equipmentEditSubmit",value:function(e,t,n){var a=new Date,i=t,o=n.qualified,u=l.QC_STATE_EQUIPMENT_EDIT_SUBMIT;(t+"").startsWith("_")&&(u=l.QC_STATE_EQUIPMENT_NEW_SUBMIT);var s=a.getTime()+"",f=r({},n,{id:i,committed:!1,qcStateShow:"提交 待同步",qcStateColor:"#f39b3d",isOffline:!0,updateTime:parseInt(s),qcState:u}),d={data:r({},n,{id:i,committed:!1})},p=i+"",m={item:f,detail:d,editInfo:d,submitInfo:{projectId:e,props:n,equipmentId:t}};this.insert(p,JSON.stringify(m),!1+"",o+"",s,"true","");var g={id:p,title:n.code,subTitle:this._formatDate(s),state:"待同步",type:"equipment",qcState:u};return asyncManager=c.default.getAsyncManager(),asyncManager.saveRecord(p,JSON.stringify(g),"待同步",s),new Promise(function(e,t){e({data:{code:"code",id:i}})})}},{key:"equipmentCreateSave",value:function(e,t){console.log(t);var n=new Date,a="_"+n.getTime(),i=t.qualified,o=l.QC_STATE_EQUIPMENT_NEW_SAVE,u=n.getTime()+"",s=r({},t,{id:a,committed:!1,qcStateShow:"保存 待同步",qcStateColor:"#f39b3d",isOffline:!0,updateTime:parseInt(u),qcState:o}),f={data:r({},t,{id:a,committed:!1})},d=a+"",p={item:s,detail:f,editInfo:f,submitInfo:{projectId:e,props:t}};this.insert(d,JSON.stringify(p),!1+"",i+"",u,"true",""),console.log(p);var m={id:d,title:t.code,subTitle:this._formatDate(u),state:"待同步",type:"equipment",qcState:o};return asyncManager=c.default.getAsyncManager(),asyncManager.saveRecord(d,JSON.stringify(m),"待同步",u),new Promise(function(e,t){e({data:{code:"code",id:a}})})}},{key:"equipmentEditSave",value:function(e,t,n){var a=new Date,i=t,o=n.qualified,u=this.getEquipmentDetailObj(i+"").data.code,s=l.QC_STATE_EQUIPMENT_EDIT_SAVE;(t+"").startsWith("_")&&(s=l.QC_STATE_EQUIPMENT_NEW_SAVE);var f=a.getTime()+"",d=r({},n,{id:i,committed:!1,qcStateShow:"保存 待同步",qcStateColor:"#f39b3d",isOffline:!0,code:u,updateTime:parseInt(f),qcState:s}),p={data:r({},n,{id:i,committed:!1,code:u})},m=i+"",g={item:d,detail:p,editInfo:p,submitInfo:{projectId:e,props:n,equipmentId:t}};this.insert(m,JSON.stringify(g),!1+"",o+"",f,"true","");var h={id:m,title:n.code,subTitle:this._formatDate(f),state:"待同步",type:"equipment",qcState:s};return asyncManager=c.default.getAsyncManager(),asyncManager.saveRecord(m,JSON.stringify(h),"待同步",f),new Promise(function(e,t){e({data:{code:u,id:i}})})}},{key:"equipmentDelete",value:function(e,t){var n=t+"";if(asyncManager=c.default.getAsyncManager(),n.startsWith("_"))asyncManager.deleteByKey(n),this.delete(n);else{var a=new Date,i=t,o=this.getEquipmentDetailObj(i+""),u=o.data,s=u.qualified,f=o.data.code,d=l.QC_STATE_EQUIPMENT_DELETE,p=a.getTime()+"",m=r({},u,{id:i,committed:!1,qcStateShow:"删除 待同步",qcStateColor:"#f39b3d",isOffline:!0,code:f,updateTime:parseInt(p),qcState:d}),g={data:r({},u,{id:i,committed:!1,code:f})},h=i+"",_={item:m,detail:g,editInfo:g,submitInfo:{projectId:e,equipmentId:t}};this.insert(h,JSON.stringify(_),!1+"",s+"",p,"true","");var y={id:h,title:f,subTitle:this._formatDate(p),state:"待同步",type:"equipment",qcState:d};asyncManager=c.default.getAsyncManager(),asyncManager.saveRecord(h,JSON.stringify(y),"待同步",p)}return new Promise(function(e,t){e({data:{code:"code",id:n}})})}}]),e}();t.default=g},802:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(107)),r=i(n(274));function i(e){return e&&e.__esModule?e:{default:e}}var o=null,l=null,u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.getTableName=function(){var e=storage.loadUserInfo().username,t=storage.loadTenantInfo();return""+e+JSON.parse(t).value.tenantId+storage.loadProject()},e.close=function(){l.close()},e.insert=function(t,n,a,r,i,u,s){e.isEmpty(n)||l.write(function(){l.create(o,{key:t,value:n,qcState:a,qualityCheckpointId:r,updateTime:i,submitState:u,errorMsg:s},!0)})},e.update=function(t,n,a,r,i,u,s){e.isEmpty(n)||l.write(function(){l.create(o,{key:t,value:n,qcState:a,qualityCheckpointId:r,updateTime:i,submitState:u,errorMsg:s},!0)})},e.delete=function(e){l.write(function(){var t=l.objects(o).filtered('key="'+e+'"');l.delete(t)})},e.deleteAll=function(){l.write(function(){var e=l.objects(o);l.delete(e)})},e.query=function(t){var n=l.objects(o).filtered('key="'+t+'"');return e.isEmpty(n)?null:n[0].value},e.queryAll=function(){var e=l.objects(o);console.log("----------------------all-----------------------"),console.log(e.length);for(var t=[],n=0;n<e.length;n++)t[n]=JSON.parse(e[n].value),console.log(n+" "+e[n].key+" "+e[n].updateTime+" "+e[n].qualityCheckpointId+" "+e[n].qcState);return e},e.queryList=function(e,t,n,a){var r=l.objects(o).sorted("updateTime",!0),i=null;i=e?r.filtered('qcState="'+e+'"'):r;var u=(a?i.filtered('qualityCheckpointId="'+a+'"'):i).slice(t*n,(t+1)*n),s=null;return u&&u.length>0&&(s=Array.from(u,function(e){return obj=JSON.parse(e.value),obj.item})),s},o="quality"+e.getTableName(),console.log("name="+o);var n={name:o,primaryKey:"key",properties:{key:"string",value:"string",qcState:"string",qualityCheckpointId:"string",updateTime:"string",submitState:"string",errorMsg:"string"}};return l=new r.default({schema:[n]}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=u},803:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(60)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(25),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(10)),u=f(n(802)),s=f(n(275)),c=f(n(41));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var p=null,m=void 0,g=null,h=null,_=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._getFromDb=function(e){var t=p.query(e);return new Promise(function(e,n){e(JSON.parse(t))})},this._getFromDbJson=function(e){var t=p.query(e);return JSON.parse(t)},this.getValueInfoById=function(e){var t=p.query(e);return JSON.parse(t)},this.getListItemById=function(e){var t=p.query(e);return JSON.parse(t).item},this.getSubmitInfoById=function(e){var t=p.query(e);return JSON.parse(t).submitInfo},this.getQualityList=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=p.queryList(e,t,n,a);return new Promise(function(e,t){e(r)})},this.getQualityDetail=function(e){var t=p.query(e),n=JSON.parse(t);return new Promise(function(e,t){e(n.detail)})},this.getQualityDetailObj=function(e){var t=p.query(e);return JSON.parse(t).detail},this.getQualityEdit=function(e){return i.getQualityDetail(e)},this.getRepairEditInfo=function(e){var t=p.query(e),n=JSON.parse(t);return new Promise(function(e,t){e(n.repairInfo)})},this.getRepairEditInfoObj=function(e){var t=p.query(e);return JSON.parse(t).repairInfo},this.getReviewEditInfo=function(e){var t=p.query(e),n=JSON.parse(t);return new Promise(function(e,t){e(n.reviewInfo)})},this.getReviewEditInfoObj=function(e){var t=p.query(e);return JSON.parse(t).reviewInfo},this.insert=function(e,t,n,a,r,i,o){p.update(e,t,n,a,r,i,o)},this.delete=function(e){p.delete(e)},this.editSaveRepair=function(e,t,n){var a=new Date,o=i.getQualityDetailObj(n.inspectionId+"");console.log(o);var u=o.data.inspectionInfo.id,s=u+"",f=o.data.inspectionInfo.code,d=a.getTime()+"",p=l.QC_STATE_REPAIR_EDIT_SAVE,m={id:s,title:f,subTitle:i._formatDate(d),state:"待同步",type:"quality",qcState:p};(h=c.default.getAsyncManager()).saveRecord(s,JSON.stringify(m),"待同步",d);var g={projectId:e,props:n,fileId:t},_=i.getValueInfoById(s),y=_.item;y=r({},y,{qcState:p});var b=_.detail;b=r({},b);var v=_.repairInfo,N=v.data;N=r({},N,{inspectionId:n.inspectionId,files:n.files,code:n.code,description:n.description}),v=r({},v,{data:N}),_=r({},_,{item:y,detail:b,repairInfo:v,submitInfo:g});var E=b.qualityCheckpointId+"";return i.insert(s,JSON.stringify(_),p,E,d,"true",""),console.log("整改单  编辑 保存"),console.log(_),new Promise(function(e,t){e({data:{code:n.code,id:u}})})},this.download=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments[3],i=arguments[4],u=function(e,t,n,a,r,i,o){p.update(e,t,n,a,r,i,o)};g=c.default.getDownloadingManager();var f=function(e,t,n){if(r&&i){i.size=n,i.progress=e,i.total=t;var a=e<t?"true":"false";if(e>t&&(e=t),g.saveRecord(r,JSON.stringify(i),a),e==t)c.default.getQualityConditionManager().saveRecord(r,JSON.stringify(i)),g.delete(r);o.DeviceEventEmitter.emit(r,i)}},h=function(a,r){return l.default.getQualityInspectionAllByDate(m,n,a,r,e,t).then(function(e){return e&&e.data&&e.data.content&&e.data.content.length>0?{list:e.data.content,totalPages:e.data.totalPages}:null}).catch(function(e){console.log(e)})},_=function(e){return l.default.getQualityInspectionDetail(m,e).then(function(e){return e&&e.data?e:null}).catch(function(e){console.log(e)})},y=function(e){return l.default.getQualityInspectionDetail(m,e).then(function(e){return e||null}).catch(function(e){console.log(e)})},b=function(e){return l.default.getRepairInfo(m,e).then(function(e){return e&&e.data?e:null}).catch(function(e){console.log(e)})},v=function(e){return l.default.getReviewInfo(m,e).then(function(e){return e&&e.data?e:null}).catch(function(e){console.log(e)})},N=[];(function(){var e,t,n,r,i,o,l,s,c,p,m,g,E,w,I,T,P,S,C,O,k,x,D,A,R;return a.default.async(function(j){for(;;)switch(j.prev=j.next){case 0:return e=0,t=30,j.next=4,a.default.awrap(h(e,t));case 4:if(n=j.sent,r=[],!(n&&n.list&&n.list.length>0)){j.next=18;break}r=[].concat(d(r),d(n.list)),i=n.totalPages,e++;case 10:if(!(e<i)){j.next=18;break}return j.next=13,a.default.awrap(h(e,t));case 13:o=j.sent,r=[].concat(d(r),d(o.list)),e++,j.next=10;break;case 18:if(console.log(r.length),!(r&&r.length>0)){j.next=70;break}l=0,s=r.length,f(l++,c=5*s,s),p=r,m=Array.isArray(p),g=0,p=m?p:p["function"==typeof Symbol&&"function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 25:if(!m){j.next=31;break}if(!(g>=p.length)){j.next=28;break}return j.abrupt("break",69);case 28:E=p[g++],j.next=35;break;case 31:if(!(g=p.next()).done){j.next=34;break}return j.abrupt("break",69);case 34:E=g.value;case 35:return w=E,j.next=38,a.default.awrap(_(w.id));case 38:if(I=j.sent,f(l++,c,s),N=[].concat(d(N),[I]),T=null,"staged"!=w.qcState){j.next=46;break}return j.next=45,a.default.awrap(y(w.id));case 45:T=j.sent;case 46:if(f(l++,c,s),P=null,"unrectified"!=w.qcState){j.next=52;break}return j.next=51,a.default.awrap(b(w.id));case 51:P=j.sent;case 52:if(f(l++,c,s),S=null,"unreviewed"!=w.qcState){j.next=58;break}return j.next=57,a.default.awrap(v(w.id));case 57:S=j.sent;case 58:f(l++,c,s),C=w.id+"",O={item:w,detail:I,editInfo:T,repairInfo:P,reviewInfo:S,submitInfo:""},k=w.qcState,x=I.qualityCheckpointId+"",D=w.updateTime+"",A="",R="",u(C,JSON.stringify(O),k,x,D,A,R);case 67:j.next=25;break;case 69:f(c,c,s);case 70:return j.abrupt("return",!0);case 71:case"end":return j.stop()}},null,this)})().then(function(e){if(console.log("==============downloadOver====================="),N&&N.length>0){var t=[],n=N,a=Array.isArray(n),r=0;for(n=a?n:n["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(a){if(r>=n.length)break;i=n[r++]}else{if((r=n.next()).done)break;i=r.value}var o=i,l=o.data.inspectionInfo.files;if(l&&l.length>0){var u=l,c=Array.isArray(u),f=0;for(u=c?u:u["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var p;if(c){if(f>=u.length)break;p=u[f++]}else{if((f=u.next()).done)break;p=f.value}var m=p;t=[].concat(d(t),[{fileId:m.objectId,url:m.url}])}}if(o.data.progressInfos&&o.data.progressInfos.length>0){var g=o.data.progressInfos,h=Array.isArray(g),_=0;for(g=h?g:g["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var y;if(h){if(_>=g.length)break;y=g[_++]}else{if((_=g.next()).done)break;y=_.value}var b=y.files;if(b&&b.length>0){var v=b,E=Array.isArray(v),w=0;for(v=E?v:v["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var I;if(E){if(w>=v.length)break;I=v[w++]}else{if((w=v.next()).done)break;I=w.value}var T=I;t=[].concat(d(t),[{fileId:T.objectId,url:T.url}])}}}}}(new s.default).download(t)}},function(e){console.log(e)})},this.uploadById=function(e){var t=e+"",n=function(e,t,n,a,r,i,o){p.update(e,t,n,a,r,i,o)},r=function(e){return l.default.getQualityInspectionDetail(m,e).then(function(e){return e&&e.data?e:null}).catch(function(e){console.log(e)})},i=function(e){return l.default.getQualityInspectionDetail(m,e).then(function(e){return e||null}).catch(function(e){console.log(e)})},o=function(e){return l.default.getRepairInfo(m,e).then(function(e){return e&&e.data?e:null}).catch(function(e){console.log(e)})},u=function(e){return l.default.getReviewInfo(m,e).then(function(e){return e&&e.data?e:null}).catch(function(e){console.log(e)})},c=[];(function(){var e,l,s,f,p,m,g,h,_,y,b,v,N;return a.default.async(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,a.default.awrap(r(t));case 2:if(e=E.sent,l=e.data.inspectionInfo,s=l.qcState,c=[].concat(d(c),[e]),f=null,"staged"!=s){E.next=11;break}return E.next=10,a.default.awrap(i(t));case 10:f=E.sent;case 11:if(p=null,"unrectified"!=s){E.next=16;break}return E.next=15,a.default.awrap(o(t));case 15:p=E.sent;case 16:if(m=null,"unreviewed"!=s){E.next=21;break}return E.next=20,a.default.awrap(u(t));case 20:m=E.sent;case 21:return g=t,h={id:l.id,code:l.code,qcState:s,projectId:l.projectId,inspectionDate:l.inspectionDate,lastRectificationDate:l.lastRectificationDate,description:l.description,inspectionType:l.inspectionType,creatorId:l.creatorId,responsibleUserId:l.responsibleUserId,updateTime:l.updateTime,files:l.files,needRectification:l.needRectification},_={item:h,detail:e,editInfo:f,repairInfo:p,reviewInfo:m,submitInfo:""},y=l.qualityCheckpointId+"",b=l.updateTime+"",v="",N="",n(g,JSON.stringify(_),s,y,b,v,N),E.abrupt("return",!0);case 30:case"end":return E.stop()}},null,this)})().then(function(e){if(c&&c.length>0){var t=[],n=c,a=Array.isArray(n),r=0;for(n=a?n:n["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var i;if(a){if(r>=n.length)break;i=n[r++]}else{if((r=n.next()).done)break;i=r.value}var o=i,l=o.data.inspectionInfo.files;if(l&&l.length>0){var u=l,f=Array.isArray(u),p=0;for(u=f?u:u["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var m;if(f){if(p>=u.length)break;m=u[p++]}else{if((p=u.next()).done)break;m=p.value}var g=m;t=[].concat(d(t),[{fileId:g.objectId,url:g.url}])}}if(o.data.progressInfos&&o.data.progressInfos.length>0){var h=o.data.progressInfos,_=Array.isArray(h),y=0;for(h=_?h:h["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var b;if(_){if(y>=h.length)break;b=h[y++]}else{if((y=h.next()).done)break;b=y.value}var v=b.files;if(v&&v.length>0){var N=v,E=Array.isArray(N),w=0;for(N=E?N:N["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var I;if(E){if(w>=N.length)break;I=N[w++]}else{if((w=N.next()).done)break;I=w.value}var T=I;t=[].concat(d(t),[{fileId:T.objectId,url:T.url}])}}}}}(new s.default).download(t)}},function(e){console.log(e)})},p=new u.default(t,n),m=storage.loadProject(),storage.getLatestVersionId(m)}return i(e,[{key:"_formatDate",value:function(e,t){var n=new Date;return n.setTime(parseInt(e)),t=null!=t?t:"yyyy-MM-dd hh:mm",Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},n.Format(t)}},{key:"createSubmitInspection",value:function(e,t,n){var a=new Date,r=storage.loadTenant(),i="_"+a.getTime(),o=l.QC_STATE_Q_NEW_SUBMIT,u={id:i,code:n.code,qcState:o,projectId:e,inspectionDate:a.getTime(),lastRectificationDate:n.lastRectificationDate,description:n.description,inspectionType:n.inspectionType,creatorId:r,responsibleUserId:n.responsibleUserId,updateTime:a.getTime(),files:n.files,needRectification:n.needRectification},s={data:{inspectionInfo:{id:i,code:n.code,qcState:o,projectId:n.projectId,projectName:n.projectName,inspectionDate:a.getTime(),creatorId:r,creatorName:storage.loadUserInfo().accountInfo.name,inspectionCompanyId:n.inspectionCompanyId,inspectionCompanyName:n.inspectionCompanyName,qualityCheckpointId:n.qualityCheckpointId,qualityCheckpointName:n.qualityCheckpointName,constructionCompanyId:n.constructionCompanyId,constructionCompanyName:n.constructionCompanyName,needRectification:n.needRectification,lastRectificationDate:n.lastRectificationDate,description:n.description,inspectionType:n.inspectionType,files:[],responsibleUserId:n.responsibleUserId,responsibleUserName:n.responsibleUserName,responsibleUserTitle:n.responsibleUserTitle,gdocFileId:n.gdocFileId,buildingId:n.buildingId,buildingName:n.buildingName,elementId:n.elementId,elementName:n.elementName,drawingGdocFileId:n.drawingGdocFileId,drawingName:n.drawingName,drawingPositionX:n.drawingPositionX,drawingPositionY:n.drawingPositionY,inspectionUserTitle:"",createTime:a.getTime(),updateTime:a.getTime(),commitTime:a.getTime(),committed:!1},progressInfos:[]}},f=u.id+"",d={item:u,detail:s,editInfo:"",repairInfo:"",reviewInfo:"",submitInfo:{projectId:e,inspectionType:t,props:n}},p=u.qcState,m=s.qualityCheckpointId+"",g=u.updateTime+"";this.insert(f,JSON.stringify(d),p,m,g,"true","");var _={id:f,title:n.code,subTitle:this._formatDate(g),state:"待同步",type:"quality",qcState:p};return(h=c.default.getAsyncManager()).saveRecord(f,JSON.stringify(_),"待同步",g),new Promise(function(e,t){e({data:{code:"code",id:i}})})}},{key:"createSaveInspection",value:function(e,t,n){var a=new Date,r=storage.loadTenant(),i="_"+a.getTime();n.inspectId&&(i=n.inspectId);var o=l.QC_STATE_Q_NEW_SAVE,u={id:i,code:n.code,qcState:o,projectId:e,inspectionDate:a.getTime(),lastRectificationDate:n.lastRectificationDate,description:n.description,inspectionType:n.inspectionType,creatorId:r,responsibleUserId:n.responsibleUserId,updateTime:a.getTime(),files:n.files,needRectification:n.needRectification},s={data:{inspectionInfo:{id:i,code:n.code,qcState:o,projectId:n.projectId,projectName:n.projectName,inspectionDate:a.getTime(),creatorId:r,creatorName:storage.loadUserInfo().accountInfo.name,inspectionCompanyId:n.inspectionCompanyId,inspectionCompanyName:n.inspectionCompanyName,qualityCheckpointId:n.qualityCheckpointId,qualityCheckpointName:n.qualityCheckpointName,constructionCompanyId:n.constructionCompanyId,constructionCompanyName:n.constructionCompanyName,needRectification:n.needRectification,lastRectificationDate:n.lastRectificationDate,description:n.description,inspectionType:n.inspectionType,files:[],responsibleUserId:n.responsibleUserId,responsibleUserName:n.responsibleUserName,responsibleUserTitle:n.responsibleUserTitle,gdocFileId:n.gdocFileId,buildingId:n.buildingId,buildingName:n.buildingName,elementId:n.elementId,elementName:n.elementName,drawingGdocFileId:n.drawingGdocFileId,drawingName:n.drawingName,drawingPositionX:n.drawingPositionX,drawingPositionY:n.drawingPositionY,inspectionUserTitle:"",createTime:a.getTime(),updateTime:a.getTime(),commitTime:a.getTime(),committed:!1},progressInfos:[]}};delete n.inspectId;var f=u.id+"",d={item:u,detail:s,editInfo:s,repairInfo:"",reviewInfo:"",submitInfo:{projectId:e,inspectionType:t,props:n}},p=u.qcState,m=s.qualityCheckpointId+"",g=u.updateTime+"";this.insert(f,JSON.stringify(d),p,m,g,"true","");var _={id:f,title:n.code,subTitle:this._formatDate(g),state:"待同步",type:"quality",qcState:p};return(h=c.default.getAsyncManager()).saveRecord(f,JSON.stringify(_),"待同步",g),new Promise(function(e,t){e({data:{code:i,id:i}})})}},{key:"editSubmitInspection",value:function(e,t,n,a){var r=new Date,i=a.creatorId,o=t,u=l.QC_STATE_Q_EDIT_SUBMIT,s={id:o,code:a.code,qcState:u,projectId:e,inspectionDate:a.inspectionDate,lastRectificationDate:a.lastRectificationDate,description:a.description,inspectionType:a.inspectionType,creatorId:i,responsibleUserId:a.responsibleUserId,updateTime:r.getTime(),files:a.files,needRectification:a.needRectification};console.log("1");var f={data:{inspectionInfo:{id:o,code:a.code,qcState:u,projectId:a.projectId,projectName:a.projectName,inspectionDate:a.inspectionDate,creatorId:i,creatorName:a.creatorName,inspectionCompanyId:a.inspectionCompanyId,inspectionCompanyName:a.inspectionCompanyName,qualityCheckpointId:a.qualityCheckpointId,qualityCheckpointName:a.qualityCheckpointName,constructionCompanyId:a.constructionCompanyId,constructionCompanyName:a.constructionCompanyName,needRectification:a.needRectification,lastRectificationDate:a.lastRectificationDate,description:a.description,inspectionType:a.inspectionType,files:a.files,responsibleUserId:a.responsibleUserId,responsibleUserName:a.responsibleUserName,responsibleUserTitle:a.responsibleUserTitle,gdocFileId:a.gdocFileId,buildingId:a.buildingId,buildingName:a.buildingName,elementId:a.elementId,elementName:a.elementName,drawingGdocFileId:a.drawingGdocFileId,drawingName:a.drawingName,drawingPositionX:a.drawingPositionX,drawingPositionY:a.drawingPositionY,inspectionUserTitle:a.inspectionUserTitle,createTime:r.getTime()+"",updateTime:a.updateTime+"",commitTime:r.getTime()+"",committed:a.committed},progressInfos:[]}};console.log("12");var d={projectId:e,inspectionType:n,props:a};console.log("2");var p=s.id+"",m={item:s,detail:f,editInfo:"",repairInfo:"",reviewInfo:"",submitInfo:d},g=s.qcState,_=f.qualityCheckpointId+"",y=s.updateTime+"";console.log("insert"),this.insert(p,JSON.stringify(m),g,_,y,"true","");var b={id:p,title:a.code,subTitle:this._formatDate(y),state:"待同步",type:"quality",qcState:g};return(h=c.default.getAsyncManager()).saveRecord(p,JSON.stringify(b),"待同步",y),console.log("save"),new Promise(function(e,t){e({data:{code:a.code,id:o}})})}},{key:"editSaveInspection",value:function(e,t,n,a){var r=new Date,i=a.creatorId,o=t,u=l.QC_STATE_Q_EDIT_SAVE,s={id:o,code:a.code,qcState:u,projectId:e,inspectionDate:a.inspectionDate,lastRectificationDate:a.lastRectificationDate,description:a.description,inspectionType:a.inspectionType,creatorId:i,responsibleUserId:a.responsibleUserId,updateTime:r.getTime(),files:a.files,needRectification:a.needRectification};console.log("1");var f={data:{inspectionInfo:{id:o,code:a.code,qcState:u,projectId:a.projectId,projectName:a.projectName,inspectionDate:a.inspectionDate,creatorId:i,creatorName:a.creatorName,inspectionCompanyId:a.inspectionCompanyId,inspectionCompanyName:a.inspectionCompanyName,qualityCheckpointId:a.qualityCheckpointId,qualityCheckpointName:a.qualityCheckpointName,constructionCompanyId:a.constructionCompanyId,constructionCompanyName:a.constructionCompanyName,needRectification:a.needRectification,lastRectificationDate:a.lastRectificationDate,description:a.description,inspectionType:a.inspectionType,files:a.files,responsibleUserId:a.responsibleUserId,responsibleUserName:a.responsibleUserName,responsibleUserTitle:a.responsibleUserTitle,gdocFileId:a.gdocFileId,buildingId:a.buildingId,buildingName:a.buildingName,elementId:a.elementId,elementName:a.elementName,drawingGdocFileId:a.drawingGdocFileId,drawingName:a.drawingName,drawingPositionX:a.drawingPositionX,drawingPositionY:a.drawingPositionY,inspectionUserTitle:a.inspectionUserTitle,createTime:r.getTime()+"",updateTime:a.updateTime+"",commitTime:r.getTime()+"",committed:a.committed},progressInfos:[]}};console.log("12");var d={projectId:e,inspectionType:n,props:a};console.log("2");var p=s.id+"",m={item:s,detail:f,editInfo:f,repairInfo:"",reviewInfo:"",submitInfo:d},g=s.qcState,_=f.qualityCheckpointId+"",y=s.updateTime+"";console.log("insert"),this.insert(p,JSON.stringify(m),g,_,y,"true","");var b={id:p,title:a.code,subTitle:this._formatDate(y),state:"待同步",type:"quality",qcState:g};return(h=c.default.getAsyncManager()).saveRecord(p,JSON.stringify(b),"待同步",y),console.log("save"),new Promise(function(e,t){var n={data:{code:a.code,id:o}};console.log(n),e(n)})}},{key:"createDeleteInspection",value:function(e,t,n){console.log("fileid="+n);var a=new Date,r=l.QC_STATE_Q_DELETE,i=a.getTime()+"",o=this.getQualityDetailObj(n+"");console.log(o);var u=n+"";if(u.startsWith("_"))return c.default.getAsyncManager().deleteByKey(n+""),this.delete(u),new Promise(function(e,t){e({data:{msg:"msg"}})});var s=o.data.inspectionInfo,f={id:u,code:s.code,qcState:r,projectId:e,inspectionDate:s.inspectionDate,lastRectificationDate:s.lastRectificationDate,description:s.description,inspectionType:s.inspectionType,creatorId:s.creatorId,responsibleUserId:s.responsibleUserId,updateTime:a.getTime()+"",files:s.files,needRectification:s.needRectification};console.log("1");var d={data:{inspectionInfo:{id:u,code:s.code,qcState:r,projectId:s.projectId,projectName:s.projectName,inspectionDate:s.inspectionDate,creatorId:s.creatorId,creatorName:s.creatorName,inspectionCompanyId:s.inspectionCompanyId,inspectionCompanyName:s.inspectionCompanyName,qualityCheckpointId:s.qualityCheckpointId,qualityCheckpointName:s.qualityCheckpointName,constructionCompanyId:s.constructionCompanyId,constructionCompanyName:s.constructionCompanyName,needRectification:s.needRectification,lastRectificationDate:s.lastRectificationDate,description:s.description,inspectionType:s.inspectionType,files:s.files,responsibleUserId:s.responsibleUserId,responsibleUserName:s.responsibleUserName,responsibleUserTitle:s.responsibleUserTitle,gdocFileId:s.gdocFileId,buildingId:s.buildingId,buildingName:s.buildingName,elementId:s.elementId,elementName:s.elementName,drawingGdocFileId:s.drawingGdocFileId,drawingName:s.drawingName,drawingPositionX:s.drawingPositionX,drawingPositionY:s.drawingPositionY,inspectionUserTitle:s.inspectionUserTitle,createTime:a.getTime()+"",updateTime:s.updateTime+"",commitTime:a.getTime()+"",committed:s.committed},progressInfos:[]}};console.log("12");var p={projectId:e,inspectionType:t,fileId:n};console.log("2");var m=f.id+"",g={item:f,detail:d,editInfo:d,repairInfo:"",reviewInfo:"",submitInfo:p},_=f.qcState,y=o.qualityCheckpointId+"";console.log("insert"),this.insert(m,JSON.stringify(g),_,y,i,"true","");var b={id:n+"",title:s.code,subTitle:this._formatDate(i),state:"待同步",type:"quality",qcState:_};return(h=c.default.getAsyncManager()).saveRecord(m,JSON.stringify(b),"待同步",i),new Promise(function(e,t){e({data:{msg:"msg"}})})}},{key:"createSubmitRepair",value:function(e,t){var n=new Date,a=this.getQualityDetailObj(t.inspectionId+""),i=a.data.inspectionInfo.id,o=i+"",u=a.data.inspectionInfo.code,s=n.getTime()+"",f=l.QC_STATE_REPAIR_NEW_SUBMIT,d={id:o,title:u,subTitle:this._formatDate(s),state:"待同步",type:"quality",qcState:f};(h=c.default.getAsyncManager()).saveRecord(o,JSON.stringify(d),"待同步",s);var p={projectId:e,props:t},m=this.getValueInfoById(o),g=m.item;g=r({},g,{qcState:f});var _=m.detail;_=r({},_,{qcState:f}),m=r({},m,{item:g,detail:_,submitInfo:p});var y=_.qualityCheckpointId+"";return this.insert(o,JSON.stringify(m),f,y,s,"true",""),new Promise(function(e,n){var a={data:{code:t.code,id:i}};console.log(a),e(a)})}},{key:"createSaveRepair",value:function(e,t){var n=new Date,a=this.getQualityDetailObj(t.inspectionId+""),i=a.data.inspectionInfo.id,o=i+"",u=a.data.inspectionInfo.code,s=n.getTime()+"",f=l.QC_STATE_REPAIR_NEW_SAVE,d={id:o,title:u,subTitle:this._formatDate(s),state:"待同步",type:"quality",qcState:f};(h=c.default.getAsyncManager()).saveRecord(o,JSON.stringify(d),"待同步",s);var p={projectId:e,props:t},m=this.getValueInfoById(o),g=m.item;g=r({},g,{qcState:f});var _=m.detail;_=r({},_);var y={inspectionId:t.inspectionId,files:t.files,code:t.code,description:t.description,id:o,lastRectificationDate:a.data.inspectionInfo.lastRectificationDate};m=r({},m,{item:g,detail:_,repairInfo:{data:y},submitInfo:p}),console.log("整改单  新增 保存"),console.log(m);var b=_.qualityCheckpointId+"";return this.insert(o,JSON.stringify(m),f,b,s,"true",""),new Promise(function(e,n){e({data:{code:t.code,id:i}})})}},{key:"editSubmitRepair",value:function(e,t,n){var a=new Date,i=this.getQualityDetailObj(n.inspectionId+""),o=i.data.inspectionInfo.id,u=o+"",s=i.data.inspectionInfo.code,f=a.getTime()+"",d=l.QC_STATE_REPAIR_EDIT_SUBMIT,p={id:u,title:s,subTitle:this._formatDate(f),state:"待同步",type:"quality",qcState:d};(h=c.default.getAsyncManager()).saveRecord(u,JSON.stringify(p),"待同步",f);var m={projectId:e,props:n,fileId:t},g=this.getValueInfoById(u),_=g.item;_=r({},_,{qcState:d});var y=g.detail;y=r({},y,{qcState:d}),g=r({},g,{item:_,detail:y,submitInfo:m});var b=y.qualityCheckpointId+"";return this.insert(u,JSON.stringify(g),d,b,f,"true",""),new Promise(function(e,t){var a={data:{code:n.code,id:o}};console.log(a),e(a)})}},{key:"deleteRepair",value:function(e,t,n){var a=!0;this.getRepairEditInfoObj(e+"").projectId&&(a=!1);var i=new Date,o=this.getQualityDetailObj(e+""),u=o.data.inspectionInfo.id,s=u+"",f=o.data.inspectionInfo.code,d=i.getTime()+"",p=l.QC_STATE_REPAIR_DELETE;if(a&&(p=o.data.inspectionInfo.qcState),h=c.default.getAsyncManager(),a)h.deleteByKey(s);else{var m={id:s,title:f,subTitle:this._formatDate(d),state:"待同步",type:"quality",qcState:p};h.saveRecord(s,JSON.stringify(m),"待同步",d)}var g={projectId:t,inspectionId:e,fileId:n},_=this.getValueInfoById(s),y=_.item;y=r({},y,{qcState:p});var b=_.detail;b=r({},b),_=r({},_,{item:y,detail:b,repairInfo:"",submitInfo:g});var v=b.qualityCheckpointId+"",N="true";a&&(N="");return this.insert(s,JSON.stringify(_),p,v,d,N,""),new Promise(function(e,t){e({data:{code:f,id:u}})})}},{key:"createSubmitReview",value:function(e,t){var n=new Date,a=this.getQualityDetailObj(t.inspectionId+""),i=a.data.inspectionInfo.id,o=i+"",u=a.data.inspectionInfo.code,s=n.getTime()+"",f=l.QC_STATE_REVIEW_NEW_SUBMIT,d={id:o,title:u,subTitle:this._formatDate(s),state:"待同步",type:"quality",qcState:f};(h=c.default.getAsyncManager()).saveRecord(o,JSON.stringify(d),"待同步",s);var p={projectId:e,props:t},m=this.getValueInfoById(o),g=m.item;g=r({},g,{qcState:f});var _=m.detail;_=r({},_,{qcState:f}),m=r({},m,{item:g,detail:_,submitInfo:p});var y=_.qualityCheckpointId+"";return this.insert(o,JSON.stringify(m),f,y,s,"true",""),new Promise(function(e,n){e({data:{code:t.code,id:i}})})}},{key:"editSubmitReview",value:function(e,t,n){var a=new Date,i=this.getQualityDetailObj(n.inspectionId+""),o=i.data.inspectionInfo.id,u=o+"",s=i.data.inspectionInfo.code,f=a.getTime()+"",d=l.QC_STATE_REVIEW_EDIT_SUBMIT,p={id:u,title:s,subTitle:this._formatDate(f),state:"待同步",type:"quality",qcState:d};(h=c.default.getAsyncManager()).saveRecord(u,JSON.stringify(p),"待同步",f);var m={projectId:e,props:n,fileId:t},g=this.getValueInfoById(u),_=g.item;_=r({},_,{qcState:d});var y=g.detail;y=r({},y,{qcState:d}),g=r({},g,{item:_,detail:y,submitInfo:m});var b=y.qualityCheckpointId+"";return this.insert(u,JSON.stringify(g),d,b,f,"true",""),new Promise(function(e,t){var a={data:{code:n.code,id:o}};console.log(a),e(a)})}},{key:"createSaveReview",value:function(e,t){var n=new Date,a=this.getQualityDetailObj(t.inspectionId+""),i=a.data.inspectionInfo.id,o=i+"",u=a.data.inspectionInfo.code,s=n.getTime()+"",f=l.QC_STATE_REVIEW_NEW_SAVE,d={id:o,title:u,subTitle:this._formatDate(s),state:"待同步",type:"quality",qcState:f};(h=c.default.getAsyncManager()).saveRecord(o,JSON.stringify(d),"待同步",s);var p={projectId:e,props:t},m=this.getValueInfoById(o),g=m.item;g=r({},g,{qcState:f});var _=m.detail;_=r({},_,{qcState:f});var y={inspectionId:t.inspectionId,files:t.files,code:t.code,description:t.description,id:o,lastRectificationDate:a.data.inspectionInfo.lastRectificationDate};m=r({},m,{item:g,detail:_,reviewInfo:{data:y},submitInfo:p});var b=_.qualityCheckpointId+"";return this.insert(o,JSON.stringify(m),f,b,s,"true",""),new Promise(function(e,n){var a={data:{code:t.code,id:i}};console.log(a),e(a)})}},{key:"editSaveReview",value:function(e,t,n){var a=new Date,i=this.getQualityDetailObj(n.inspectionId+""),o=i.data.inspectionInfo.id,u=o+"",s=i.data.inspectionInfo.code,f=a.getTime()+"",d=l.QC_STATE_REVIEW_EDIT_SAVE,p={id:u,title:s,subTitle:this._formatDate(f),state:"待同步",type:"quality",qcState:d};(h=c.default.getAsyncManager()).saveRecord(u,JSON.stringify(p),"待同步",f);var m={projectId:e,props:n,fileId:t},g=this.getValueInfoById(u),_=g.item;_=r({},_,{qcState:d});var y=g.detail;y=r({},y,{qcState:d});var b=g.reviewInfo,v=b.data;v=r({},v,{inspectionId:n.inspectionId,files:n.files,code:n.code,description:n.description}),b=r({},b,{data:v}),g=r({},g,{item:_,detail:y,reviewInfo:b,submitInfo:m});var N=y.qualityCheckpointId+"";return this.insert(u,JSON.stringify(g),d,N,f,"true",""),new Promise(function(e,t){var a={data:{code:n.code,id:o}};console.log(a),e(a)})}},{key:"deleteReview",value:function(e,t,n){var a=!0;this.getReviewEditInfoObj(e+"").projectId&&(a=!1);var i=new Date,o=this.getQualityDetailObj(e+""),u=o.data.inspectionInfo.id,s=u+"",f=o.data.inspectionInfo.code,d=i.getTime()+"",p=l.QC_STATE_REVIEW_DELETE;if(a&&(p=o.data.inspectionInfo.qcState),h=c.default.getAsyncManager(),a)h.deleteByKey(s);else{var m={id:s,title:f,subTitle:this._formatDate(d),state:"待同步",type:"quality",qcState:p};h.saveRecord(s,JSON.stringify(m),"待同步",d)}var g={projectId:t,inspectionId:e,fileId:n},_=this.getValueInfoById(s),y=_.item;y=r({},y,{qcState:p});var b=_.detail;b=r({},b),_=r({},_,{item:y,detail:b,reviewInfo:"",submitInfo:g});var v=b.qualityCheckpointId+"",N="true";a&&(N="");return this.insert(s,JSON.stringify(_),p,v,d,N,""),new Promise(function(e,t){var n={data:{code:f,id:u}};console.log(n),e(n)})}}]),e}();t.default=_},804:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(107)),r=i(n(274));function i(e){return e&&e.__esModule?e:{default:e}}var o=null,l=null,u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.getTableName=function(){var e=storage.loadUserInfo().username,t=storage.loadTenantInfo();return""+e+JSON.parse(t).value.tenantId+storage.loadProject()},e.close=function(){l.close()},e.insert=function(t,n){console.log("save="+n),e.isEmpty(n)||l.write(function(){l.create(o,{key:t,value:n},!0)})},e.update=function(t,n){e.isEmpty(n)||l.write(function(){l.create(o,{key:t,value:n},!0)})},e.delete=function(e){l.write(function(){var t=l.objects(o).filtered('key="'+e+'"');l.delete(t)})},e.deleteAll=function(){l.write(function(){var e=l.objects(o);l.delete(e)})},e.query=function(t){var n=l.objects(o).filtered('key="'+t+'"');return e.isEmpty(n)?null:n[0].value},e.queryAll=function(){for(var e=l.objects(o),t=[],n=0;n<e.length;n++)t[n]=JSON.parse(e[n].value);return t},o="qualitycondition"+e.getTableName(),console.log("name="+o);var n={name:o,primaryKey:"key",properties:{key:"string",value:"string"}};return l=new r.default({schema:[n]}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=u},805:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});r(n(10));var a=r(n(804));function r(e){return e&&e.__esModule?e:{default:e}}var i=null;t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getAllRecords=function(){return i.queryAll()},this.saveRecord=function(e,t){i.insert(e,t)},this.deleteAll=function(){i.deleteAll()},i=new a.default(t,n)}},806:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(107)),r=i(n(274));function i(e){return e&&e.__esModule?e:{default:e}}var o=null,l=null,u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.getTableName=function(){var e=storage.loadUserInfo().username,t=storage.loadTenantInfo();return""+e+JSON.parse(t).value.tenantId+storage.loadProject()},e.close=function(){l.close()},e.insert=function(t,n){console.log("save="+n),e.isEmpty(n)||l.write(function(){l.create(o,{key:t,value:n},!0)})},e.update=function(t,n){e.isEmpty(n)||l.write(function(){l.create(o,{key:t,value:n},!0)})},e.delete=function(e){l.write(function(){var t=l.objects(o).filtered('key="'+e+'"');l.delete(t)})},e.deleteAll=function(){l.write(function(){var e=l.objects(o);l.delete(e)})},e.query=function(t){var n=l.objects(o).filtered('key="'+t+'"');return e.isEmpty(n)?null:n[0].value},e.queryAll=function(){for(var e=l.objects(o),t=[],n=0;n<e.length;n++)t[n]=JSON.parse(e[n].value);return t},o="equipmentcondition"+e.getTableName(),console.log("name="+o);var n={name:o,primaryKey:"key",properties:{key:"string",value:"string"}};return l=new r.default({schema:[n]}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=u},807:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});r(n(10));var a=r(n(806));function r(e){return e&&e.__esModule?e:{default:e}}var i=null;t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getAllRecords=function(){return i.queryAll()},this.saveRecord=function(e,t){i.insert(e,t)},this.deleteAll=function(){i.deleteAll()},i=new a.default(t,n)}},808:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(56));t.default=a.default.ModelServer},809:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(107));var r=null,i=null,o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.insert=function(e,t){a.isEmpty(t)||i.write(function(){i.create(r,{key:e,value:t},!0)})},a.update=function(e,t){a.isEmpty(t)||i.write(function(){i.create(r,{key:e,value:t},!0)})},a.delete=function(e){i.write(function(){var t=i.objects(r).filtered('key="'+e+'"');i.delete(t)})},a.deleteAll=function(){i.write(function(){var e=i.objects(r);i.delete(e)})},a.query=function(e){var t=i.objects(r).filtered('key="'+e+'"');return a.isEmpty(t)?null:t[0].value},a.queryAll=function(){return i.objects(r)},r=e,i=n,console.log("name="+r),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=o},810:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(60)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=u(n(10)),o=u(n(809)),l=u(n(275));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c=null,f=void 0,d=void 0,p=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._getFromDb=function(e){var t=c.query(e);return new Promise(function(e,n){e(JSON.parse(t))})},this._getFromDbJson=function(e){var t=c.query(e);return JSON.parse(t)},this.getInspectionCompany=function(){var e="/quality/"+f+"/qualityInspection/inspectionCompanys";return r._getFromDb(e)},this.getSupporters=function(){var e="/pmbasic/projects/"+f+"/supporters";return r._getFromDb(e)},this.fetchPersons=function(e){var t="/pmbasic/projects/"+f+"/coperationCorps/"+e+"/coperationRoles";return r._getFromDb(t)},this.getCheckPoints=function(){var e="/quality/"+f+"/checkpoints/templates/whole";return r._getFromDb(e)},this.getStandards=function(e){var t="/quality/acceptanceStandard/templates/"+e+"/standards/items";return r._getFromDb(t)},this.getSpecialList=function(){return r._getFromDb("/pmbasic/specialty")},this.getSingleList=function(){var e="/pmbasic/projects/"+f+"/buildings";return r._getFromDb(e)},this.getModelList=function(){var e="/model/"+f+"/"+d+"/bim/file/children/model";return console.log(r._getFromDbJson(e)),r._getFromDbJson(e)},this.getBlueprintList=function(){var e="/model/"+f+"/"+d+"/bim/file/children/blueprint";return r._getFromDbJson(e)},this.equipmentAcceptanceCompanies=function(){var e="/quality/"+f+"/facilityAcceptance/acceptanceCompanys";return r._getFromDb(e)},this.getQualityModelHistory=function(e){var t="/quality/"+f+"/qualityInspection/all/model/"+e+"/elements";return r._getFromDb(t)},this.getEquipmentModelHistory=function(e){var t="/quality/"+f+"/facilityAcceptance/model/"+e+"/elements";return r._getFromDb(t)},this.getBlueprintDots=function(e){var t="/quality/"+f+"/qualityInspection/all/drawings/"+e+"/drawingPositions";return r._getFromDb(t)},this.getDownloadedTime=function(){return c.query("downloadedTime")},this.downloadBasicInfo=function(e){r.downloadModel(),r.downloadBluePrint();var t=function(e,t){c.update(e,t)},n=function(e,n,a){if(null!=e&&void 0!=e&&e(n,a),n==a){var r=new Date,i=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()+" "+r.getHours()+":"+(r.getMinutes()<10?"0"+r.getMinutes():r.getMinutes());t("downloadedTime",i)}},o="/quality/"+f+"/qualityInspection/inspectionCompanys",l=function(){return i.default.getInspectionCompanies(f).then(function(e){if(e&&e.data){e.data;var n=JSON.stringify(e);return t(o,n),n}})},u="/pmbasic/projects/"+f+"/supporters",s=function(){return i.default.getCompaniesList(f,"SGDW").then(function(e){var n=[];if(e&&e.data){n=e.data;var a=JSON.stringify(n);return t(u,JSON.stringify(e)),a}})},d=function(e){var n="/pmbasic/projects/"+f+"/coperationCorps/"+e+"/coperationRoles";return i.default.getPersonList(f,e).then(function(e){if(e&&e.data&&e.data.length>0){var a=JSON.stringify(e);return t(n,a),a}}).catch(function(e){console.log(e)})},p="/quality/"+f+"/checkpoints/templates/whole",m=function(){return i.default.getCheckPoints(storage.loadProject()).then(function(e){var n=JSON.stringify(e.data);return t(p,JSON.stringify(e)),n})},g=function(e){var n="/quality/acceptanceStandard/templates/"+e+"/standards/items";return i.default.getStandardsItems(e).then(function(e){var a=JSON.stringify(e);return t(n,a),a}).catch(function(e){console.log(e)})},h=function(){return i.default.getPmbasicSpecialty(!1).then(function(e){if(e){var n=JSON.stringify(e);return t("/pmbasic/specialty",n),n}}).catch(function(e){console.log(e)})},_="/pmbasic/projects/"+f+"/buildings",y=function(){return i.default.getPmbasicBuildings(f).then(function(e){if(e){var n=JSON.stringify(e);return t(_,n),n}}).catch(function(e){console.log(e)})},b="/quality/"+f+"/facilityAcceptance/acceptanceCompanys",v=function(){return i.default.equipmentAcceptanceCompanies(f).then(function(e){if(e){var n=JSON.stringify(e);return t(b,n),n}}).catch(function(e){console.log(e)})};(function(){var t,r,i,o,u,c,f,p,_,b,N,E;return a.default.async(function(w){for(;;)switch(w.prev=w.next){case 0:return r=1,n(e,r++,t=15),w.next=5,a.default.awrap(l());case 5:return w.sent,n(e,r++,t),w.next=9,a.default.awrap(s());case 9:if(i=w.sent,n(e,r++,t),!((o=JSON.parse(i))&&o.length>0)){w.next=29;break}u=o,c=Array.isArray(u),f=0,u=c?u:u["function"==typeof Symbol&&"function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 14:if(!c){w.next=20;break}if(!(f>=u.length)){w.next=17;break}return w.abrupt("break",29);case 17:item=u[f++],w.next=24;break;case 20:if(!(f=u.next()).done){w.next=23;break}return w.abrupt("break",29);case 23:item=f.value;case 24:return w.next=26,a.default.awrap(d(item.coperationId));case 26:w.sent;case 27:w.next=14;break;case 29:return n(e,r++,t),w.next=32,a.default.awrap(m());case 32:if(p=w.sent,n(e,r++,t),!((_=JSON.parse(p))&&_.length>0)){w.next=52;break}b=_,N=Array.isArray(b),E=0,b=N?b:b["function"==typeof Symbol&&"function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 37:if(!N){w.next=43;break}if(!(E>=b.length)){w.next=40;break}return w.abrupt("break",52);case 40:item=b[E++],w.next=47;break;case 43:if(!(E=b.next()).done){w.next=46;break}return w.abrupt("break",52);case 46:item=E.value;case 47:return w.next=49,a.default.awrap(g(item.id));case 49:w.sent;case 50:w.next=37;break;case 52:return n(e,r++,t),w.next=55,a.default.awrap(h());case 55:return w.sent,n(e,r++,t),w.next=59,a.default.awrap(y());case 59:return w.sent,n(e,r++,t),n(e,r++,t),n(e,r++,t),w.next=65,a.default.awrap(v());case 65:return w.sent,w.abrupt("return",!0);case 67:case"end":return w.stop()}},null,this)})().then(function(t){console.log("basicinfo  download over-----------------------------------------"),n(e,100,100)},function(e){console.log(e)})},c=new o.default(t,n),f=storage.loadProject(),d=storage.getLatestVersionId(f)}return r(e,[{key:"downloadModelImgs",value:function(){var e=this.getModelList();this._downloadImg(e)}},{key:"downloadBlueprintImgs",value:function(){var e=this.getBlueprintList();this._downloadImg(e)}},{key:"_downloadImg",value:function(e){var t=function(e){return i.default.getBluePrintThumbnail(f,d,e).then(function(e){return e?e.data.data.thumbnailUrl:null}).catch(function(e){return null})};(function(){var n,r,i,o,u,c,f;return a.default.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(e&&e.length>0)){d.next=25;break}n=[],r=e,i=Array.isArray(r),o=0,r=i?r:r["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 3:if(!i){d.next=9;break}if(!(o>=r.length)){d.next=6;break}return d.abrupt("break",21);case 6:item=r[o++],d.next=13;break;case 9:if(!(o=r.next()).done){d.next=12;break}return d.abrupt("break",21);case 12:item=o.value;case 13:if(item.folder){d.next=19;break}return u=item.fileId,d.next=17,a.default.awrap(t(u));case 17:null!=(c=d.sent)&&(n=[].concat(s(n),[{fileId:u,url:c}]));case 19:d.next=3;break;case 21:if(!(n&&n.length>0)){d.next=25;break}return f=new l.default,d.next=25,a.default.awrap(f.download(n));case 25:case"end":return d.stop()}},null,this)})().then(function(e){console.log("imags  download over-----------------------------------------")},function(e){console.log(e)})}},{key:"downloadModelHistory",value:function(){var e=function(e,t){c.update(e,t)},t=this.getModelList(),n=function(t){return i.default.getElements(f,t).then(function(n){return n&&n.data?(e("/quality/"+f+"/qualityInspection/all/model/"+t+"/elements",JSON.stringify(n)),n.data):null}).catch(function(e){console.log(e)})},r=function(t){return i.default.getQualityFacilityAcceptanceElements(f,t).then(function(n){return n&&n.data?(e("/quality/"+f+"/facilityAcceptance/model/"+t+"/elements",JSON.stringify(n)),n.data):null}).catch(function(e){})};(function(){var e,i,o;return a.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(t&&t.length>0)){l.next=19;break}e=t,i=Array.isArray(e),o=0,e=i?e:e["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 2:if(!i){l.next=8;break}if(!(o>=e.length)){l.next=5;break}return l.abrupt("break",19);case 5:item=e[o++],l.next=12;break;case 8:if(!(o=e.next()).done){l.next=11;break}return l.abrupt("break",19);case 11:item=o.value;case 12:if(item.folder){l.next=17;break}return l.next=15,a.default.awrap(n(item.fileId));case 15:return l.next=17,a.default.awrap(r(item.fileId));case 17:l.next=2;break;case 19:case"end":return l.stop()}},null,this)})().then(function(e){},function(e){console.log(e)})}},{key:"downloadQualityBlueprintHistory",value:function(){var e=this.getBlueprintList(),t=function(e){return i.default.getBluePrintDots(f,e).then(function(t){return t&&t.data?(function(e,t){c.update(e,t)}("/quality/"+f+"/qualityInspection/all/drawings/"+e+"/drawingPositions",JSON.stringify(t)),t.data):null}).catch(function(e){console.log(e)})};(function(){var n,r,i;return a.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e&&e.length>0)){o.next=17;break}n=e,r=Array.isArray(n),i=0,n=r?n:n["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 2:if(!r){o.next=8;break}if(!(i>=n.length)){o.next=5;break}return o.abrupt("break",17);case 5:item=n[i++],o.next=12;break;case 8:if(!(i=n.next()).done){o.next=11;break}return o.abrupt("break",17);case 11:item=i.value;case 12:if(item.folder){o.next=15;break}return o.next=15,a.default.awrap(t(item.fileId));case 15:o.next=2;break;case 17:case"end":return o.stop()}},null,this)})().then(function(e){console.log("图纸  点的数据  download over-----------------------------------------")},function(e){console.log(e)})}},{key:"downloadModel",value:function(){this._downloadModelAndBlueprint("模型文件")}},{key:"downloadBluePrint",value:function(){this._downloadModelAndBlueprint("图纸文件")}},{key:"_downloadModelAndBlueprint",value:function(e){var t=this,n=function(e,t){c.update(e,t)},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return console.log(f+"  "+d+"  "+t),"图纸文件"==e?i.default.getDrawingDataList(f,d,0,t).then(function(e){return console.log("图纸文件 start----------------"),console.log(e),console.log("图纸文件 end----------------"),e.data}).catch(function(e){console.log("图纸文件 err  start----------------"),console.log(e),console.log("图纸文件 err  end----------------")}):i.default.getModelDataList(f,d,0,t).then(function(e){return console.log("模型列表 start----------------"),console.log(e),console.log("模型列表 end----------------"),e.data}).catch(function(e){console.log("模型列表 err  start----------------"),console.log(e),console.log("模型列表 err  end----------------")})};(function(){var t,i,o,l,u,c,p,m,g,h,_,y,b,v,N,E,w,I,T,P,S,C,O,k,x,D,A,R,j,M,L,B,q,F,V,Q,U,Y,z,W,G,J,H,K,X,Z,$,ee,te,ne,ae,re,ie,oe,le,ue,se,ce,fe,de,pe,me,ge,he,_e,ye,be,ve,Ne,Ee,we,Ie,Te,Pe,Se,Ce,Oe,ke;return a.default.async(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.next=2,a.default.awrap(r());case 2:if(!((t=xe.sent)&&t.length>0)){xe.next=254;break}i=[],o=t,l=Array.isArray(o),u=0,o=l?o:o["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 6:if(!l){xe.next=12;break}if(!(u>=o.length)){xe.next=9;break}return xe.abrupt("break",254);case 9:c=o[u++],xe.next=16;break;case 12:if(!(u=o.next()).done){xe.next=15;break}return xe.abrupt("break",254);case 15:c=u.value;case 16:if((p=c).parentId="0",i=[].concat(s(i),[p]),!p.folder){xe.next=252;break}return xe.next=22,a.default.awrap(r(p.fileId));case 22:m=xe.sent,i=[].concat(s(i),s(m)),g=m,h=Array.isArray(g),_=0,g=h?g:g["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 25:if(!h){xe.next=31;break}if(!(_>=g.length)){xe.next=28;break}return xe.abrupt("break",248);case 28:y=g[_++],xe.next=35;break;case 31:if(!(_=g.next()).done){xe.next=34;break}return xe.abrupt("break",248);case 34:y=_.value;case 35:if(!(b=y).folder){xe.next=246;break}return xe.next=39,a.default.awrap(r(b.fileId));case 39:v=xe.sent,i=[].concat(s(i),s(v)),N=v,E=Array.isArray(N),w=0,N=E?N:N["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 42:if(!E){xe.next=48;break}if(!(w>=N.length)){xe.next=45;break}return xe.abrupt("break",246);case 45:I=N[w++],xe.next=52;break;case 48:if(!(w=N.next()).done){xe.next=51;break}return xe.abrupt("break",246);case 51:I=w.value;case 52:if(!(T=I).folder){xe.next=244;break}return xe.next=56,a.default.awrap(r(T.fileId));case 56:P=xe.sent,i=[].concat(s(i),s(P)),S=P,C=Array.isArray(S),O=0,S=C?S:S["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 59:if(!C){xe.next=65;break}if(!(O>=S.length)){xe.next=62;break}return xe.abrupt("break",244);case 62:k=S[O++],xe.next=69;break;case 65:if(!(O=S.next()).done){xe.next=68;break}return xe.abrupt("break",244);case 68:k=O.value;case 69:if(!(x=k).folder){xe.next=242;break}return xe.next=73,a.default.awrap(r(x.fileId));case 73:D=xe.sent,i=[].concat(s(i),s(D)),A=D,R=Array.isArray(A),j=0,A=R?A:A["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 76:if(!R){xe.next=82;break}if(!(j>=A.length)){xe.next=79;break}return xe.abrupt("break",242);case 79:M=A[j++],xe.next=86;break;case 82:if(!(j=A.next()).done){xe.next=85;break}return xe.abrupt("break",242);case 85:M=j.value;case 86:if(!(L=M).folder){xe.next=240;break}return xe.next=90,a.default.awrap(r(L.fileId));case 90:B=xe.sent,i=[].concat(s(i),s(B)),q=B,F=Array.isArray(q),V=0,q=F?q:q["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 93:if(!F){xe.next=99;break}if(!(V>=q.length)){xe.next=96;break}return xe.abrupt("break",240);case 96:Q=q[V++],xe.next=103;break;case 99:if(!(V=q.next()).done){xe.next=102;break}return xe.abrupt("break",240);case 102:Q=V.value;case 103:if(!(U=Q).folder){xe.next=238;break}return xe.next=107,a.default.awrap(r(U.fileId));case 107:Y=xe.sent,i=[].concat(s(i),s(Y)),z=Y,W=Array.isArray(z),G=0,z=W?z:z["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 110:if(!W){xe.next=116;break}if(!(G>=z.length)){xe.next=113;break}return xe.abrupt("break",238);case 113:J=z[G++],xe.next=120;break;case 116:if(!(G=z.next()).done){xe.next=119;break}return xe.abrupt("break",238);case 119:J=G.value;case 120:if(!(H=J).folder){xe.next=236;break}return xe.next=124,a.default.awrap(r(H.fileId));case 124:K=xe.sent,i=[].concat(s(i),s(K)),X=K,Z=Array.isArray(X),$=0,X=Z?X:X["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 127:if(!Z){xe.next=133;break}if(!($>=X.length)){xe.next=130;break}return xe.abrupt("break",236);case 130:ee=X[$++],xe.next=137;break;case 133:if(!($=X.next()).done){xe.next=136;break}return xe.abrupt("break",236);case 136:ee=$.value;case 137:if(!(te=ee).folder){xe.next=234;break}return xe.next=141,a.default.awrap(r(te.fileId));case 141:ne=xe.sent,i=[].concat(s(i),s(ne)),ae=ne,re=Array.isArray(ae),ie=0,ae=re?ae:ae["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 144:if(!re){xe.next=150;break}if(!(ie>=ae.length)){xe.next=147;break}return xe.abrupt("break",234);case 147:oe=ae[ie++],xe.next=154;break;case 150:if(!(ie=ae.next()).done){xe.next=153;break}return xe.abrupt("break",234);case 153:oe=ie.value;case 154:if(!(le=oe).folder){xe.next=232;break}return xe.next=158,a.default.awrap(r(le.fileId));case 158:ue=xe.sent,i=[].concat(s(i),s(ue)),se=ue,ce=Array.isArray(se),fe=0,se=ce?se:se["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 161:if(!ce){xe.next=167;break}if(!(fe>=se.length)){xe.next=164;break}return xe.abrupt("break",232);case 164:de=se[fe++],xe.next=171;break;case 167:if(!(fe=se.next()).done){xe.next=170;break}return xe.abrupt("break",232);case 170:de=fe.value;case 171:if(!(pe=de).folder){xe.next=230;break}return xe.next=175,a.default.awrap(r(pe.fileId));case 175:me=xe.sent,i=[].concat(s(i),s(me)),ge=me,he=Array.isArray(ge),_e=0,ge=he?ge:ge["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 178:if(!he){xe.next=184;break}if(!(_e>=ge.length)){xe.next=181;break}return xe.abrupt("break",230);case 181:ye=ge[_e++],xe.next=188;break;case 184:if(!(_e=ge.next()).done){xe.next=187;break}return xe.abrupt("break",230);case 187:ye=_e.value;case 188:if(!(be=ye).folder){xe.next=228;break}return xe.next=192,a.default.awrap(r(be.fileId));case 192:ve=xe.sent,i=[].concat(s(i),s(ve)),Ne=ve,Ee=Array.isArray(Ne),we=0,Ne=Ee?Ne:Ne["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 195:if(!Ee){xe.next=201;break}if(!(we>=Ne.length)){xe.next=198;break}return xe.abrupt("break",228);case 198:Ie=Ne[we++],xe.next=205;break;case 201:if(!(we=Ne.next()).done){xe.next=204;break}return xe.abrupt("break",228);case 204:Ie=we.value;case 205:if(!(Te=Ie).folder){xe.next=226;break}return xe.next=209,a.default.awrap(r(Te.fileId));case 209:Pe=xe.sent,i=[].concat(s(i),s(Pe)),Se=Pe,Ce=Array.isArray(Se),Oe=0,Se=Ce?Se:Se["function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator"]();case 212:if(!Ce){xe.next=218;break}if(!(Oe>=Se.length)){xe.next=215;break}return xe.abrupt("break",226);case 215:ke=Se[Oe++],xe.next=222;break;case 218:if(!(Oe=Se.next()).done){xe.next=221;break}return xe.abrupt("break",226);case 221:ke=Oe.value;case 222:ke.folder;case 224:xe.next=212;break;case 226:xe.next=195;break;case 228:xe.next=178;break;case 230:xe.next=161;break;case 232:xe.next=144;break;case 234:xe.next=127;break;case 236:xe.next=110;break;case 238:xe.next=93;break;case 240:xe.next=76;break;case 242:xe.next=59;break;case 244:xe.next=42;break;case 246:xe.next=25;break;case 248:return n("/model/"+f+"/"+d+"/bim/file/children"+("模型文件"==e?"/model":"/blueprint"),JSON.stringify(i)),xe.abrupt("break",254);case 252:xe.next=6;break;case 254:case"end":return xe.stop()}},null,this)})().then(function(n){"模型文件"==e?t.downloadModelHistory():t.downloadQualityBlueprintHistory(),"模型文件"==e?t.downloadModelImgs():t.downloadBlueprintImgs()},function(e){console.log(e)})}}]),e}();t.default=p},811:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(60));t.getPmbasicBuildings=function(e){var t,n;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!i.default.isOnLine()){a.next=5;break}return t="/pmbasic/projects/"+e+"/buildings",a.abrupt("return",(0,r.requestJSON)(t,{method:"GET"}));case 5:return n=o.default.getBasicInfoManager(),a.abrupt("return",n.getSpecialList());case 7:case"end":return a.stop()}},null,this)},t.getPmbasicSpecialty=function(){var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!i.default.isOnLine()){a.next=5;break}return e="/pmbasic/specialty",a.abrupt("return",(0,r.requestJSON)(e+"?includeChildren="+n,{method:"GET"}));case 5:return t=o.default.getBasicInfoManager(),a.abrupt("return",t.getSpecialList());case 7:case"end":return a.stop()}},null,this)},t.getCompaniesList=function(e,t){var n,l;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!i.default.isOnLine()){a.next=5;break}return n="/pmbasic/projects/"+e+"/supporters",a.abrupt("return",(0,r.requestJSON)(n+"?deptTypeEnums="+t,{method:"GET"}));case 5:return l=o.default.getBasicInfoManager(),a.abrupt("return",l.getSupporters());case 7:case"end":return a.stop()}},null,this)},t.getPersonList=function(e,t){var n,l,u;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!i.default.isOnLine()){a.next=6;break}return n="/pmbasic/projects/"+e+"/coperationCorps/"+t+"/coperationRoles",l="?active=true",a.abrupt("return",(0,r.requestJSON)(n+l,{method:"GET"}));case 6:return u=o.default.getBasicInfoManager(),a.abrupt("return",u.fetchPersons(t));case 8:case"end":return a.stop()}},null,this)};var r=n(65),i=l(n(36)),o=l(n(41));function l(e){return e&&e.__esModule?e:{default:e}}},812:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.requestJSON=function(e,t){var n={headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest"}};storage.isLogin()&&"cookie_token"!=storage.getLoginToken()&&(n.headers.Authorization="Bearer "+storage.getLoginToken());if(storage.isLogin()&&storage.loadLastTenant()){var o=storage.loadLastTenant();o&&"0"!=o&&(n.headers["X-CORAL-TENANT"]=o)}for(var u in n)t[u]&&(t[u]=n[u]=a({},n[u],t[u]));if((n=a({},n,t)).isSpecial)return fetch(r.BASE_URL+e,n);return fetch(r.BASE_URL+e,n).then(l).then(i).then(function(e){return{data:e}})},t.requestHTML=function(e,t){var n={};for(var i in n)t[i]&&(t[i]=n[i]=a({},n[i],t[i]));if((n=a({},n,t)).isSpecial)return fetch(r.BASE_URL+e,n);return console.log(r.BASE_URL+e),fetch(r.BASE_URL+e,n).then(l).then(o).then(function(e){if(!e){var t=new Error("没有数据返回");throw t.response=null,t}return e})};var r=n(65);function i(e){var t=e.headers.get("Content-Type");return t&&t.toLowerCase().indexOf("application/json",0)>-1?e.json():e.text()}function o(e){return e}function l(e){if(e.status>=200&&e.status<300)return e;if(403===e.status){console.log("请联系管理员获取相应操作权限(code:403)");var t=new Error("请联系管理员获取相应操作权限");throw t.response=e,t}if(401===e.status){var n=new Error("请联系管理员获取相应操作权限");throw n.response=e,n}if(500===e.status){console.log("数据获取失败(code:500)");var a=new Error("数据获取失败");throw a.response=e,a}var r=new Error(e.statusText);throw r.response=e,r}},815:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(60));t.getModelLatestVersion=function(e){var t;return a.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t="/model/"+e+"/projectVersion/latestVersion",n.abrupt("return",(0,r.requestJSON)(t,{method:"GET"}));case 2:case"end":return n.stop()}},null,this)},t.getModelBimFileToken=function(e,t,n){var i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i="/model/"+e+"/"+t+"/bim/view/token",a.abrupt("return",(0,r.requestJSON)(i+"?fileId="+n,{method:"GET"}));case 2:case"end":return a.stop()}},null,this)},t.getModelElementProperty=function(e,t,n,i){var o;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return o="/model/"+e+"/"+t+"/model/data/element/property",a.abrupt("return",(0,r.requestJSON)(o+"?fileId="+n+"&elementId="+i,{method:"GET"}));case 2:case"end":return a.stop()}},null,this)},t.getModelBimFiles=function(e,t){var n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/model/"+e+"/"+t+"/bimFiles",i="",0!==o&&(i+="&buildingId="+o),""!==l&&(i+="&specialtyCode="+l),a.abrupt("return",(0,r.requestJSON)(n+"?"+i,{method:"GET"}));case 5:case"end":return a.stop()}},null,this)},t.getDrawingDataList=function(e,t,n){var i,o,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return a.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return i="/model/"+e+"/modelVersions/"+t+"/drawingFiles/children",o="",0!==l&&(o+="&fileId="+l),n.abrupt("return",(0,r.requestJSON)(i+"?"+o,{method:"GET"}));case 4:case"end":return n.stop()}},null,this)},t.getModelDataList=function(e,t,n){var i,o,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return a.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return i="/model/"+e+"/modelVersions/"+t+"/modelFiles/children",o="",0!==l&&(o+="&fileId="+l),n.abrupt("return",(0,r.requestJSON)(i+"?"+o,{method:"GET"}));case 4:case"end":return n.stop()}},null,this)},t.searchModuleBlueprint=function(e,t,n,i){var o,l,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return o="/model/"+e+"/"+t+"/bim/file/query",l="?name="+n+"&suffix="+i+"&isModel="+u,a.abrupt("return",(0,r.requestJSON)(o+l,{method:"POST"}));case 3:case"end":return a.stop()}},null,this)},t.getBluePrintThumbnail=function(e,t,n){var i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i="/model/"+e+"/"+t+"/viewing/files/"+n+"/thumbnailUrl",a.abrupt("return",(0,r.requestJSON)(i,{method:"GET"}));case 2:case"end":return a.stop()}},null,this)},t.createModelOfflineZip=function(e){var t;return a.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t="/bimpm/model/offline/data/files/"+e,n.abrupt("return",(0,r.requestJSON)(t,{method:"PUT"}));case 2:case"end":return n.stop()}},null,this)},t.getModelOfflineZipStatus=function(e){var t;return a.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t="/bimpm/model/offline/data/files/"+e,n.abrupt("return",(0,r.requestJSON)(t,{method:"GET"}));case 2:case"end":return n.stop()}},null,this)},t.getModelOfflineZipAddress=function(e,t){var n,i;return a.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/bimpm/model/offline/data/files",i="",i+="&fileId="+e,i+="&databagVersion="+t,a.abrupt("return",(0,r.requestJSON)(n+"?"+i,{method:"GET"}));case 5:case"end":return a.stop()}},null,this)};var r=n(65)},816:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(273));var o={data:{},oldData:{},isLoading:!0,error:null,isSuccessed:!1,editType:r.default.EQUIPMENT_EDIT_TYPE_BASE,acceptanceCompanies:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case i.EQUIPMENT_INFO_DOING:return a({},e,{isLoading:!0,error:null,isSuccessed:!1,editType:t.editType});case i.EQUIPMENT_INFO_DONE:return a({},e,{isLoading:!1,data:t.data,oldData:a({},t.data),error:null,isSuccessed:!0,editType:t.editType});case i.EQUIPMENT_INFO_PAGE:return a({},e,{isLoading:!1,data:t.data,error:null,isSuccessed:!0,editType:t.editType});case i.EQUIPMENT_INFO_ERROR:return a({},e,{isLoading:!1,error:t.error,isSuccessed:!1,editType:t.editType});case i.EQUIPMENT_ACCEPTANCE_COMPANIES:return a({},e,{acceptanceCompanies:t.acceptanceCompanies});case i.EQUIPMENT_INFO_INIT:return o;default:return e}}},817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(420));var i={datas:{all:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},edit:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},standard:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},notStandard:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},search:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map}}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.EQUIPMENT_LIST_DOING:var n=e.datas[t.qcState];return n||(n=i.datas[""]),e.datas[t.qcState]=a({},n,{isLoading:!0,error:null}),a({},e,{datas:e.datas});case r.EQUIPMENT_LIST_DONE:var o=e.datas[t.qcState];return o||(o=i.datas[""]),e.datas[t.qcState]=a({},o,{isLoading:!1,page:t.page+1,error:null,isSuccessed:!0,hasMore:t.hasMore,data:t.data,dataMap:t.dataMap}),a({},e,{datas:e.datas});case r.EQUIPMENT_LIST_ERROR:var l=e.datas[t.qcState];return l||(l=i.datas[""]),e.datas[t.qcState]=a({},l,{isLoading:!1,error:t.error,isSuccessed:!1}),a({},e,{datas:e.datas});case r.EQUIPMENT_LIST_INIT:return a({},i);default:return e}}},818:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(421));var i={qualityInfo:{},editInfo:{},isLoading:!0,error:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.REVIEW_REPAIR_LOAD_DETAIL:return a({},e,{isLoading:!1,qualityInfo:t.qualityInfo});case r.REVIEW_REPAIR_LOAD_EDITINFO:return a({},e,{isLoading:!1,editInfo:t.editInfo});case r.REVIEW_REPAIR_LOAD_ERROR:return a({},e,{isLoading:!1,error:t.error});case r.REVIEW_REPAIR_INIT:return i;default:return e}}},819:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(422));var i={updateIndex:0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.UPDATE_DATA_SET:return a({},e,{updateIndex:t.updateIndex});case r.UPDATE_DATA_UPDATE:return a({},e,{updateIndex:e.updateIndex+1});case r.UPDATE_DATA_INIT:return i;default:return e}}},820:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(423));var i={item:{},relevantEquipmentModle:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.TRANSFORM_INFO_SET:case r.QUALITY_INFO_UPDATE:return a({},e,t);case r.TRANSFORM_INFO_INIT:return i;default:return e}}},821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(424));var i={datas:{"":{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},closed:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},notAccepted:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},staged:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},unrectified:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},unreviewed:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},inspected:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},reviewed:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},delayed:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},accepted:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},search:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map}},datas_n:{"":{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},closed:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},notAccepted:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},staged:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},unrectified:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},unreviewed:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},inspected:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},reviewed:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},delayed:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},accepted:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map},search:{page:0,isLoading:!0,error:null,hasMore:!0,data:[],dataMap:new Map}}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.QUALITY_LIST_DOING:var n=e.datas[t.qcState];return n||(n=i.datas[""]),0!=t.qualityCheckpointId?(e.datas_n[t.qcState]=a({},n,{isLoading:!0,error:null}),a({},e,{datas_n:e.datas_n})):(e.datas[t.qcState]=a({},n,{isLoading:!0,error:null}),a({},e,{datas:e.datas}));case r.QUALITY_LIST_DONE:var o=e.datas[t.qcState];return o||(o=i.datas[""]),0!=t.qualityCheckpointId?(e.datas_n[t.qcState]=a({},o,{isLoading:!1,page:t.page+1,error:null,isSuccessed:!0,hasMore:t.hasMore,data:t.data,dataMap:t.dataMap}),a({},e,{datas_n:e.datas_n})):(e.datas[t.qcState]=a({},o,{isLoading:!1,page:t.page+1,error:null,isSuccessed:!0,hasMore:t.hasMore,data:t.data,dataMap:t.dataMap}),a({},e,{datas:e.datas}));case r.QUALITY_LIST_ERROR:var l=e.datas[t.qcState];return l||(l=i.datas[""]),t.qualityCheckpointId>0?(e.datas_n[t.qcState]=a({},l,{isLoading:!1,error:t.error,isSuccessed:!1}),a({},e,{datas_n:e.datas_ndatas})):(e.datas[t.qcState]=a({},l,{isLoading:!1,error:t.error,isSuccessed:!1}),a({},e,{datas:e.datas}));case r.QUALITY_LIST_INIT:return a({},i);default:return e}}},822:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(425));var i={data:{inspectionInfo:{},progressInfos:[]},isLoading:!0,item:{},error:null,isSuccessed:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.QUALITY_INFO_DOING:return a({},e,{isLoading:!0,error:null,isSuccessed:!1});case r.QUALITY_INFO_DONE:return a({},e,{isLoading:!1,data:t.data,error:null,isSuccessed:!0});case r.QUALITY_INFO_ERROR:return a({},e,{isLoading:!1,error:t.error,isSuccessed:!1});case r.QUALITY_INFO_INIT:return i;default:return e}}},823:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(276));var i={topDirNode:[],topModelNode:[],navPage:null,selectedCheckPoint:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.CHECK_POINT_LOAD:return a({},e,{navPage:null,topDirNode:t.topDirNode,topModelNode:t.topModelNode});case r.CHECK_POINT_TO_NEW_QUALITY:case r.CHECK_POINT_TO_INFO:case r.CHECK_POINT_TO_QUALITY_LIST:return a({},e,{navPage:t.navPage,selectedCheckPoint:t.selectedCheckPoint});case r.CHECK_POINT_RESET:return i;case r.CHECK_POINT_INIT:return a({},e,{navPage:null});default:return e}}},824:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.FORGOT_INIT:return a({},e,i);case r.FORGOT_IMAGE_CODE:return a({},e,{type:t.type,url:t.url,signupKey:t.signupKey,tip:null});case r.FORGOT_USER_CHECK:return a({},e,{type:t.type,status:"",isSuccess:!0,userName:t.userName,page:1,tip:null});case r.FORGOT_PHONE_CODE:return a({},e,{type:t.type,status:"",isSuccess:!0,page:2,userName:t.userName,verifyCode:"",tip:"手机验证码已经发送",errorCount:e.errorCount+1});case r.FORGOT_ERROR:return a({},e,{type:t.type,status:t.errorMessage,isSuccess:!1,tip:null,statusCode:t.statusCode,errorCount:e.errorCount+1});case r.FORGOT_PHONE_CODE_VERIFY:return a({},e,{type:t.type,status:"",isSuccess:!0,page:3,verifyCode:t.verifyCode,tip:null,errorCount:e.errorCount+1});case r.FORGOT_RESET:return a({},e,{type:t.type,status:"",isSuccess:!0,tip:"修改成功",errorCount:e.errorCount+1});case r.FORGOT_STEP:return a({},e,{type:t.type,status:"",isSuccess:!0,tip:null,page:t.page});default:return e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(277));var i={status:"",isSuccess:!0,page:1,url:null,userName:"",verifyCode:"",signupKey:"",tip:null,type:null,errorCount:0}},825:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.LOGIN_IN_DOING:return a({},e,{status:"正在登录",isSuccess:!1,userName:t.userName,user:null});case r.LOGIN_IN_DONE:case r.LOGIN_IN_DONE_CHOOSE:return a({},e,{status:"登录成功",isSuccess:!0,userName:t.userName,user:t.user,retryTimes:3});case r.LOGIN_IN_ERROR:return a({},e,{status:t.message,isSuccess:!1,update:e.update+1,user:null});case r.LOGIN_IN_INIT:return a({},e,{status:"点击重新登录",isSuccess:!1,user:null,retryTimes:3});case r.LOGIN_IN_RETRY:return a({},e,{status:"登录失败",isSuccess:!1,user:null,retryTimes:e.retryTimes-1});default:return e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(426));var i={status:"点击登录",isSuccess:!1,user:null,retryTimes:3,update:0}},826:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(233),r=y(n(825)),i=y(n(824)),o=y(n(823)),l=y(n(822)),u=y(n(821)),s=y(n(820)),c=y(n(819)),f=y(n(818)),d=y(n(817)),p=y(n(816)),m=y(n(787)),g=y(n(786)),h=y(n(785)),_=y(n(784));function y(e){return e&&e.__esModule?e:{default:e}}var b=(0,a.combineReducers)({loginIn:r.default,forgot:i.default,checkPointList:o.default,qualityInfo:l.default,qualityList:u.default,equipmentList:d.default,transformInfo:s.default,updateData:c.default,transformInfo:s.default,reviewRepair:f.default,equipmentInfo:p.default,projectList:g.default,equipmentNew:m.default,search:h.default,newQuality:_.default});t.default=b},827:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.history=void 0,t.default=function(e){return s((0,o.connectRouter)(c)(l.default),e,(0,a.compose)((0,a.applyMiddleware)((0,o.routerMiddleware)(c))))};var a=n(233),r=n(82),i=u(n(427)),o=n(212),l=u(n(826));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,a.applyMiddleware)(i.default)(a.createStore),c=t.history=(0,r.createBrowserHistory)()},837:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\containers\\App.web.js",r=m(n(1)),i=m(n(2)),o=m(n(7)),l=n(212),u=n(44),s=n(827),c=m(s),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(783)),d=m(n(10)),p=n(353);function m(e){return e&&e.__esModule?e:{default:e}}var g=(0,c.default)(),h={GuidePage:{screen:f.GuidePage},LoginPage:{screen:f.LoginPage},ChoosePage:{screen:f.TenantPage},MainPage:{screen:f.HomePage},ProjectPage:{screen:f.ProjectPage},TenantPage:{screen:f.TenantPage},QualityMainPage:{screen:f.QualityMainPage},WebPage:{screen:f.WebPage},BimFileChooserPage:{screen:f.BimFileChooserPage},NewPage:{screen:f.NewPage},SettingPage:{screen:f.SettingPage},CheckPointPage:{screen:f.CheckPointPage},RelevantBlueprintPage:{screen:f.RelevantBlueprintPage},RelevantModlePage:{screen:f.RelevantModlePage},CheckPointListPage:{screen:f.CheckPointListPage},QualityDetailPage:{screen:f.QualityDetailPage},BigImageViewPage:{screen:f.BigImageViewPage},QualityStatardsPage:{screen:f.QualityStatardsPage},NewReviewPage:{screen:f.NewReviewPage},EquipmentMainPage:{screen:f.EquipmentMainPage},EquipmentDetailPage:{screen:f.EquipmentDetailPage},SearchPage:{screen:f.SearchPage},QualitySearchPage:{screen:f.QualitySearchPage},EquipmentSearchPage:{screen:f.EquipmentSearchPage},BimSearchPage:{screen:f.BimSearchPage},AboutPage:{screen:f.AboutPage},ForgotPage:{screen:f.ForgotPage},FeedbackPage:{screen:f.FeedbackPage},ChangeProjectPage:{screen:f.ChangeProjectPage},EditPhotoPage:{screen:f.EditPhotoPage}},_=function(){return{headerStyle:{backgroundColor:"#00baf3",borderBottomColor:"#00baf3",shadowColor:"#00baf3",shadowOpacity:.1,shadowRadius:0,shadowOffset:{height:0},elevation:0},headerBackImage:r.default.createElement(i.default,{style:{width:40,height:44,justifyContent:"center"},__source:{fileName:a,lineNumber:118}},r.default.createElement(o.default,{style:{marginLeft:10,width:20,height:20,resizeMode:"contain"},source:n(202),__source:{fileName:a,lineNumber:118}})),headerBackTitle:null,headerTintColor:"#fff",tabBarVisible:!1,headerTitleStyle:{fontSize:17,fontWeight:"bold"},headerRight:r.default.createElement(i.default,{__source:{fileName:a,lineNumber:126}})}},y=(0,p.createStackNavigator)(h,{initialRouteName:"GuidePage",navigationOptions:_}),b=(0,p.createStackNavigator)(h,{initialRouteName:"LoginPage",navigationOptions:_}),v=(0,p.createStackNavigator)(h,{initialRouteName:"MainPage",navigationOptions:_}),N=(0,p.createStackNavigator)(h,{initialRouteName:"ChoosePage",navigationOptions:_});function E(e){var t=e.router.getStateForAction;e.router.getStateForAction=function(e,n){var a=e.n;if(e.type===p.StackActions.POP&&"string"==typeof a){var r=n.index,i=a,o=n.routes.find(function(e){return e.routeName===i});i=Math.max(0,r-n.routes.indexOf(o)),e.n=i>0?i:null}return t(e,n)}}E(v),E(b),E(y),E(N);var w=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.componentDidMount=function(){e.fireHeartBeat(),clickTime=(new Date).getTime()},e.fireHeartBeat=function(){if(storage.hasChoose()){var e=storage.loadLastTenant();d.default.setCurrentTenant(e).then(function(e){}).catch(function(e){console.log(e)})}},e._onNavigationStateChange=function(t,n,a){storage.currentRouteName=e._getCurrentRouteName(n)},e._getCurrentRouteName=function(e){if(!e)return null;var t=e.routes[e.index];return t.routes?getCurrentRouteName(t):t.routeName},e.renderPage=function(){return storage.isLogin()?storage.hasChoose()?r.default.createElement(u.Provider,{store:g,__source:{fileName:a,lineNumber:240}},r.default.createElement(l.ConnectedRouter,{history:s.history,__source:{fileName:a,lineNumber:240}},r.default.createElement(v,{history:s.history,onNavigationStateChange:e._onNavigationStateChange,__source:{fileName:a,lineNumber:240}}))):r.default.createElement(u.Provider,{store:g,__source:{fileName:a,lineNumber:242}},r.default.createElement(l.ConnectedRouter,{history:s.history,__source:{fileName:a,lineNumber:242}},r.default.createElement(N,{history:s.history,onNavigationStateChange:e._onNavigationStateChange,__source:{fileName:a,lineNumber:242}}))):r.default.createElement(u.Provider,{store:g,__source:{fileName:a,lineNumber:245}},r.default.createElement(l.ConnectedRouter,{history:s.history,__source:{fileName:a,lineNumber:245}},r.default.createElement(b,{history:s.history,onNavigationStateChange:e._onNavigationStateChange,__source:{fileName:a,lineNumber:245}})))},e.render=function(){return e.renderPage()},e.state={hasLoad:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),t}();t.default=w},838:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(177)),o=n(428);var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._setItem=function(t,n){e.storage.setItem(t,n,function(e,t){})},e._getItem=function(t,n){e.storage.getItem(t).then(function(e){})},e._removeItem=function(e){i.default.removeItem(e.key)},e.setItem=function(t,n){e.storageData[t]=n,e._saveStorageData()},e.getItem=function(t){return e.storageData[t]},e.removeItem=function(t){delete e.storageData[t],e._saveStorageData()},e.version=function(){console.log("BaseStorage version 1.1.0.0")},e.storage=i.default,e.storageData={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"loadItem",value:function(e,t,n){var a=this.getItem(e);return a?(n&&n(a),a):t}},{key:"resetStorageData",value:function(){this.storageData={},this._saveStorageData()}},{key:"_saveStorageData",value:function(){this._setItem(u,JSON.stringify(this.storageData))}},{key:"_loadStorageData",value:function(){var e=this;return i.default.getItem(u).then(function(t){return e.storageData=JSON.parse(t),t&&null!=t||(e.storageData={}),console.log(e.storageData),{}})}}]),t}();t.default=l;var u="__storageData_"+o.BASE_URL},839:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1);var r=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.size=function(){return e.items.length},e.contains=function(t){return e.items.indexOf(t)>=0},e.items=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),t}();t.default=r},840:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=(n(1),o(n(839))),i=o(n(838));function o(e){return e&&e.__esModule?e:{default:e}}function l(){var e=storage.getUserId();return e?"_"+e+"_":"_0_"}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getRootNavigation=function(){return e.homeNavigation},e.getUserId=function(){return e.loadItem(m,"0",null)},e.saveLoginToken=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.setItem(p,"1"),e.setItem(m,n),e.setItem(c,t)},e.saveLoginUserName=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setItem(f,t)},e.getLoginUserName=function(){return e.loadItem(f,"",null)},e.getLoginToken=function(){return e.loadItem(c,"",null)},e.isLogin=function(){return""!=e.getLoginToken()},e.logout=function(){e.saveLoginToken("","0")},e.resetData=function(){e.resetStorageData()},e.saveGuide=function(){},e.isGuide=function(t){return"1"==e.loadItem(p,"0",null)},e.saveTenant=function(t){t||(tanant="0"),e.setItem(h+l(),""+t)},e.loadTenant=function(t){return e.loadItem(h+l(),"0",t)},e.saveTenantInfo=function(t){e.setItem(_+l(),""+t)},e.loadTenantInfo=function(t){return e.loadItem(_+l(),"0",t)},e.saveLastTenantInfo=function(t){e.setItem(v+l(),""+t)},e.loadLastTenantInfo=function(t){return e.loadItem(v+l(),"0",t)},e.saveTenantInfoRefresh=function(t){e.setItem(y+l(),""+t)},e.loadTenantInfoRefresh=function(t){return e.loadItem(y+l(),"0",t)},e.saveLastTenant=function(t){t||(tanant="0"),e.setItem(b+l(),""+t)},e.loadLastTenant=function(){return e.loadItem(b+l(),"0",null)},e.saveProject=function(t,n){t||(t="0"),e.setItem(d+l(),""+t),e.setItem(g+l(),""+n)},e.loadProject=function(t){return e.loadItem(d+l(),"0",t)},e.loadCurrentProjectName=function(t){return e.loadItem(g+l(),"首页",t)},e.loadAuthority=function(t){var n=e.loadItem(N+l(),{},null);if(n[t]){var a=new r.default;return a.items=n[t],a}return new r.default([])},e.setActionRights=function(t,n){if(n){var a=e.loadItem(N+l(),{},null);a[t]=n,e.setItem(N+l(),a)}},e.gotoLogin=function(t){var n=t;if(n||(n=e.homeNavigation,e.homeNavigation=null),n){e.saveLoginToken("","0");var a=StackActions.reset({index:0,actions:[NavigationActions.navigate({routeName:"LoginPage"})]});n.dispatch(a)}},e.gotoMainPage=function(t,n){var a=t;if(a||(a=e.homeNavigation),a){n=n||{};var r=StackActions.reset({index:0,actions:[NavigationActions.navigate({routeName:"MainPage",params:n})]});a.dispatch(r)}},e.gotoSwitchProject=function(t){var n=t;if(n||(n=e.homeNavigation),n){var a=StackActions.reset({index:1,actions:[NavigationActions.navigate({routeName:"TenantPage",params:{change:!1}}),NavigationActions.navigate({routeName:"ProjectPage",params:{tenantId:storage.loadLastTenant(),id:storage.loadTenant()}})]});n.dispatch(a)}},e.hasChoose=function(){var t=e.loadTenant(),n=e.loadProject();return t&&n&&"0"!=t&&"0"!=n},e.gotoMain=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MainPage",a=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],t);a||(a=e.homeNavigation),a&&(e.hasChoose()?a.replace(n,{}):a.replace("ChoosePage",{}))},e.replaceNext=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MainPage",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t;r||(r=e.homeNavigation),r&&r.replace(n,a)},e.pushNext=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MainPage",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t;if(r||(r=e.homeNavigation),r){var i=StackActions.push({routeName:n,params:a||{}});r.dispatch(i)}},e.goBack=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t;a||(a=e.homeNavigation),a&&a.goBack(n)},e.pop=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=t;a||(a=e.homeNavigation),a&&a.pop(n)},e.globalBack=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=t;a||(a=e.homeNavigation),a&&a.pop(n)},e.bimFileChooseCallback=function(e){},e.qualityState={bimChooserKey:"",bimChooserCallback:function(){}},e.loadSearchHistory=function(t){return e.getItem(E+"-"+t+"-"+l())},e.setSearchHistory=function(t,n){e.setItem(E+"-"+t+"-"+l(),n)},e.loadAutoDownload=function(){return e.getItem(w+l())},e.setAutoDownload=function(t){e.setItem(w+l(),t)},e.setOfflineState=function(t){e.setItem(I,t)},e.getOfflineState=function(){return e.getItem(I)},e.setLatestVersionId=function(t,n){e.setItem(T+l()+t,n)},e.getLatestVersionId=function(t){return e.getItem(T+l()+t)},e.setProjectListByTenant=function(t,n){e.setItem(S+l()+t,n)},e.getProjectListByTenant=function(t){return e.getItem(S+l()+t)},e.saveAccountInfo=function(t,n){e.setItem(C+t,n)},e.getAccountInfo=function(t){return e.getItem(C+t)},e.setModelFileIdOfflineName=function(t,n){e.setItem(P+l()+t,n)},e.getModelFileIdOfflineName=function(t){return e.getItem(P+l()+t)},e.homeNavigation=null,e.bimToken={},e.fileId="",e.projectIdVersionId="",e.projectId=0,e.currentRouteName="",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"setRootNavigation",value:function(e){this.homeNavigation=e}},{key:"saveUserInfo",value:function(e){this.setItem(s+l(),e)}},{key:"loadUserInfo",value:function(e){return this.loadItem(s+l(),{},e)}},{key:"getRootNavigation",value:function(){return this.homeNavigation}}]),t}(),s="userInfo",c="loginToken",f="loginUserName",d="currentProject",p="guide",m="userId",g="currentProjectName",h="currentTenant",_="currentTenantInfo",y="currentTenantInfoRefresh",b="lastTenant",v="lastTenantInfo",N="actionRights",E="searchHistory",w="autoDownload",I="offlineState",T="latestVersionId",P="modelFileIdOfflineName",S="tenantProjectList",C="accountInfo";t.default=u},841:function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.loadStorageData=function(){return storage._loadStorageData()};var a=o(n(840)),r=o(n(168)),i=o(n(124));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(t){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.gotoLogin=function(e){var n=e;if(n||(n=t.homeNavigation,t.homeNavigation=null),n){t.saveLoginToken("","0");var a=r.default.reset({index:0,actions:[i.default.navigate({routeName:"LoginPage"})]});n.dispatch(a)}},t.gotoMainPage=function(e,n){var a=e;if(a||(a=t.homeNavigation),a){n=n||{};var o=r.default.reset({index:0,actions:[i.default.navigate({routeName:"MainPage",params:n})]});a.dispatch(o)}},t.gotoSwitchProject=function(e){var n=e;if(n||(n=t.homeNavigation),n){var a=r.default.reset({index:1,actions:[i.default.navigate({routeName:"TenantPage",params:{change:!1}}),i.default.navigate({routeName:"ProjectPage",params:{tenantId:storage.loadLastTenant(),id:storage.loadTenant()}})]});n.dispatch(a)}},t.gotoMain=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MainPage",a=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],e);a||(a=t.homeNavigation),a&&(t.hasChoose()?a.replace(n,{}):a.replace("ChoosePage",{}))},t.replaceNext=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MainPage",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e;r||(r=t.homeNavigation),r&&r.replace(n,a)},t.pushNext=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MainPage",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e;i||(i=t.homeNavigation),i&&(console.log(r.default),i.push(n,a||{}))},t.goBack=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e;a||(a=t.homeNavigation),a&&a.goBack(n)},t.pop=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=e;a||(a=t.homeNavigation),a&&a.pop(n)},t.globalBack=function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=n;r||(r=t.homeNavigation),r&&(e.storage.backInterceptor?e.storage.backInterceptor(r,a):r.pop(a))},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),n}();e.storage||(e.storage=new l)}).call(this,n(38))},842:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a="D:\\workspace\\estate-mobile-ios\\src\\app\\estate\\src\\pages\\index\\index.js",r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=c(n(1)),o=c(n(66)),l=c(n(2)),u=(c(n(9)),n(841)),s=c(n(837));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.componentDidMount=function(){(0,u.loadStorageData)().then(function(){e.setState({hasLoad:!0})}).catch(function(e){})},e.onWindowResize=function(){e.forceUpdate()},e.componentWillMount=function(){window&&window.addEventListener&&window.addEventListener("resize",e.onWindowResize)},e.componentWillUnmount=function(){window&&window.addEventListener&&window.removeEventListener("resize",e.onWindowResize)},e.state={hasLoad:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"renderPage",value:function(){return i.default.createElement(s.default,{__source:{fileName:a,lineNumber:29}})}},{key:"render",value:function(){return this.state.hasLoad?this.renderPage():i.default.createElement(l.default,{style:{backgroundColor:"#FFFFFF",justifyContent:"center",flex:1,alignItems:"center",alignContent:"center"},__source:{fileName:a,lineNumber:44}},i.default.createElement(o.default,{size:"large",__source:{fileName:a,lineNumber:45}}))}}]),t}();t.default=f}},[[1138,0,1]]]);